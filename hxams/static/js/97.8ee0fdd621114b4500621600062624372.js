webpackJsonp([97],{"2BAk":function(e,t,a){var n=a("3jFY");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("14d69306",n,!1,{})},"32JE":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("cMGX"),i=a("/kpT"),o={name:"PasswordInit",components:{Pagination:n.a,UserGroupTreeSelect:i.a},data:function(){return{bSetTableHeight:!1,tableHeight:window.innerHeight-70-52-5,tableData:[],pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},multipleSelection:[],searchForm:{cn:"",organizationIDS:""}}},created:function(){},mounted:function(){this.getData()},watch:{bSetTableHeight:function(e,t){this.tableHeight=window.innerHeight-this.$refs.multipleTable.$el.offsetTop-130}},methods:{handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.getData()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getData()},UserGroupTreeSelectCall:function(e){this.searchForm.organizationIDS=e?e.id:""},getData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".passwordInit"},method:"post",url:this.API.findUserListPage,data:{cn:this.searchForm.cn,organizationIDS:this.searchForm.organizationIDS,pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(t){var a=t.data;e.bSetTableHeight=!0,"1"==a.code?(e.tableData=a.data.list,e.pageObj.total=a.data.total):e.$message({type:"error",message:"获取用户列表失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},search:function(){this.pageObj.pageIndex=this.API.constObj.pageIndex,this.getData()},userUnlock:function(e,t){var a=this;this.$confirm("确定要对该用户进行解锁操作吗?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.unlockUserLoad(t.id,a)}).catch(function(){})},initPassword:function(e,t){var a=this;this.$confirm("确定要对该用户进行密码初始化操作吗?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.initUserPassword(t.id,a)}).catch(function(){})},unlockUserLoad:function(e,t){var a=this;t.$axios({loading:{isShow:!0,target:".passwordInit"},method:"get",url:t.API.unlock,params:{id:e}}).then(function(e){"1"==e.data.code?a.$message({type:"success",message:"用户解锁成功!"}):t.$message({type:"error",message:"用户解锁失败!"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})},initUserPassword:function(e,t){t.$axios({loading:{isShow:!0,target:".passwordInit"},method:"get",url:t.API.initializationPassword,params:{id:e}}).then(function(e){var a=e.data;"1"==a.code?t.$alert('<p style="font-size:16px;">密码初始化成功,请记录新密码：<strong style="color:#67C23A;font-weight:bold;font-size:20px;">'+a.data+"</strong></p>","操作提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",callback:function(e){}}):t.$message({type:"error",message:"密码初始化失败，请刷新重试！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})}}},s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"passwordInit"},[a("div",{staticClass:"container"},[a("div",{staticClass:"demo-form-inline"},[a("UserGroupTreeSelect",{staticClass:"sele",attrs:{defaultOptions:e.searchForm.organizationIDS},on:{UserGroupTreeSelectCall:e.UserGroupTreeSelectCall},model:{value:e.searchForm.organizationIDS,callback:function(t){e.$set(e.searchForm,"organizationIDS",t)},expression:"searchForm.organizationIDS"}}),e._v(" "),a("el-input",{attrs:{placeholder:"输入姓名或账户",clearable:""},model:{value:e.searchForm.cn,callback:function(t){e.$set(e.searchForm,"cn",t)},expression:"searchForm.cn"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,id:"passwordInit",height:e.tableHeight}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1)+" ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"cn",label:"姓名",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"uid",label:"账户",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stationName",label:"岗位",sortable:"","min-width":"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleNames",label:"所属角色","min-width":"130","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",icon:"iconfont gd-mima",circle:"",title:"解锁"},on:{click:function(a){e.userUnlock(t.$index,t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"success",icon:"iconfont gd-chushi",circle:"",title:"初始化密码"},on:{click:function(a){e.initPassword(t.$index,t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("Pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}})],1)],1)])};s._withStripped=!0;var r={render:s,staticRenderFns:[]},c=r;var l=!1;var d=a("VU/8")(o,c,!1,function(e){l||a("2BAk")},"data-v-2c469bab",null);d.options.__file="src/views/userRightsManagement/PasswordInit.vue";t.default=d.exports},"3jFY":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\nel-dialog .del-dialog-cnt[data-v-2c469bab] {\n  font-size: 16px;\n  text-align: center;\n}\n.passwordInit[data-v-2c469bab] {\n  width: 100%;\n  min-width: 1126px;\n  font-size: 14px;\n}\n.passwordInit .container[data-v-2c469bab] {\n    padding: 0 0 0 0 !important;\n    border-left: none;\n    border-right: none;\n}\n.passwordInit .container .pagination[data-v-2c469bab] {\n      margin: 0;\n}\n.passwordInit .container .demo-form-inline[data-v-2c469bab] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      margin: 10px 10px;\n}\n.passwordInit .container .demo-form-inline .el-select[data-v-2c469bab] {\n        width: 180px;\n        margin-right: 10px;\n}\n.passwordInit .container .demo-form-inline .el-input[data-v-2c469bab] {\n        width: 180px;\n        margin: 0 10px;\n}\n.passwordInit .container .demo-form-inline .sele[data-v-2c469bab] {\n        width: 180px;\n}\n.gray[data-v-2c469bab] {\n  color: #dcdfe6;\n}\n.red[data-v-2c469bab] {\n  color: #ff0000;\n}\n",""])}});