webpackJsonp([66],{Lwu4:function(e,t,a){var r=a("mw2x");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("3c01bd0e",r,!1,{})},UkCI:function(e,t,a){var r=a("rBFl");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("1f426ed8",r,!1,{})},W7va:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"ArchivesDataUpdate",props:["currentRow"],data:function(){return{rules:{name:[{required:!0,message:"请输入名称",trigger:"change"}]},archivesForm:{id:"",code:"",codeno:"",name:"",ishitch:"",describe:"",orderno:""},ishitchList:[{id:!0,memo:"是"},{id:!1,memo:"否"}]}},created:function(){this.initForm()},methods:{initForm:function(){this.archivesForm.id=this.currentRow.id,this.archivesForm.code=this.currentRow.code,this.archivesForm.codeno=this.currentRow.codeno,this.archivesForm.name=this.currentRow.name,this.archivesForm.ishitch=this.currentRow.ishitch,this.archivesForm.describe=this.currentRow.describe,this.archivesForm.orderno=this.currentRow.orderno},changeuIshitch:function(e){this.archivesForm.ishitch=e},onsubmit:function(){var e=this;this.$refs.archivesFormRef.validate(function(t){if(!t)return!1;e.$axios({loading:{isShow:!0,target:".container"},method:"post",url:e.API.editArchivesData,data:{id:e.archivesForm.id,code:e.archivesForm.code,codeno:e.archivesForm.codeno,name:e.archivesForm.name,ishitch:e.archivesForm.ishitch,describe:e.archivesForm.describe,orderno:e.archivesForm.orderno}}).then(function(t){var a=t.data;"1"===a.code?(e.$message({message:a.message,type:"success"}),e.$emit("updateBack",!1)):e.$message({type:"error",message:a.message})}).catch(function(e){})})},cancle:function(){this.$emit("updateBack",!0)}}},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-form",{ref:"archivesFormRef",attrs:{rules:e.rules,model:e.archivesForm,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{maxLength:this.fieldsConfig.commonLength.oneHundred,placeholder:"请输入名称"},model:{value:e.archivesForm.name,callback:function(t){e.$set(e.archivesForm,"name",t)},expression:"archivesForm.name"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否挂接目录",prop:"ishitch"}},[a("el-radio-group",{on:{change:e.changeuIshitch},model:{value:e.archivesForm.ishitch,callback:function(t){e.$set(e.archivesForm,"ishitch",t)},expression:"archivesForm.ishitch"}},e._l(e.ishitchList,function(t){return a("el-radio",{key:t.id,attrs:{disabled:"",label:t.id,value:t.id}},[e._v(e._s(t.memo))])}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序码",prop:"orderno"}},[a("el-input",{attrs:{disabled:""},model:{value:e.archivesForm.orderno,callback:function(t){e.$set(e.archivesForm,"orderno",t)},expression:"archivesForm.orderno"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编码",prop:"code"}},[a("el-input",{attrs:{disabled:"",type:"text"},model:{value:e.archivesForm.code,callback:function(t){e.$set(e.archivesForm,"code",t)},expression:"archivesForm.code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编号",prop:"codeno"}},[a("el-input",{attrs:{disabled:"",type:"text"},model:{value:e.archivesForm.codeno,callback:function(t){e.$set(e.archivesForm,"codeno",t)},expression:"archivesForm.codeno"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"具体描述",prop:"describe"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:7},maxLength:this.fieldsConfig.commonLength.fiveHundred,placeholder:"请输入具体描述"},model:{value:e.archivesForm.describe,callback:function(t){e.$set(e.archivesForm,"describe",t)},expression:"archivesForm.describe"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.onsubmit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.cancle}},[e._v("取消")])],1)],1)],1)};i._withStripped=!0;var o={render:i,staticRenderFns:[]},n=o;var s=!1;var c=a("VU/8")(r,n,!1,function(e){s||a("UkCI")},"data-v-46da4ee6",null);c.options.__file="src/views/infoCenterManagement/archivesDataManagement/ArchivesDataUpdate.vue";var l={name:"ArchivesDataManagement",components:{ArchivesDataUpdate:c.exports},data:function(){return{tableData:[],currentRow:"",updateArchivesVisiable:!1,title:"",tableHeight:0,isEdit:""}},created:function(){},watch:{tableData:{handler:function(e){this.tableHeight=window.innerHeight-this.$refs.multipleTable.$el.offsetTop-83}}},mounted:function(){this.getData()},computed:{},methods:{getData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".table"},method:"get",url:this.API.quertMaterialType,params:{isAll:!0}}).then(function(t){var a=t.data;"1"==a.code?e.tableData=a.data:e.$message({type:"error",message:"查询失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},currentChange:function(e,t){this.currentRow=e},updateBack:function(e){this.updateArchivesVisiable=!1,e||this.getData()},editArchives:function(){null!==this.currentRow&&""!==this.currentRow?(this.title="编辑档案材料类别",this.isEdit=!0,this.updateArchivesVisiable=!0):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})}}},d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"archivesDataManagement"},[a("div",{staticClass:"container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.editArchives}},[e._v("编辑")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,height:e.tableHeight,"highlight-current-row":""},on:{"current-change":e.currentChange}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",label:"编码",width:"100","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"codeno",label:"编号",width:"100","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称","min-width":"150","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"describe",label:"具体描述","min-width":"150","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ishitch",label:"挂接目录",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.ishitch?a("el-tag",{attrs:{type:"success"}},[e._v("是")]):a("el-tag",{attrs:{type:"danger"}},[e._v("否")])]}}])})],1)],1),e._v(" "),e.updateArchivesVisiable?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,width:"50%",visible:e.updateArchivesVisiable,"close-on-click-modal":!1,"modal-append-to-body":!1,"append-to-body":""},on:{"update:visible":function(t){e.updateArchivesVisiable=t}}},[a("archives-data-update",{attrs:{isEdit:e.isEdit,currentRow:e.currentRow},on:{updateBack:e.updateBack}})],1):e._e()],1)};d._withStripped=!0;var h={render:d,staticRenderFns:[]},m=h;var u=!1;var v=a("VU/8")(l,m,!1,function(e){u||a("Lwu4")},"data-v-600e173d",null);v.options.__file="src/views/infoCenterManagement/ArchivesDataManagement.vue";t.default=v.exports},mw2x:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.archivesDataManagement[data-v-600e173d] {\n  width: 100%;\n  font-size: 14px;\n}\n.archivesDataManagement .container[data-v-600e173d] {\n    padding: 10px !important;\n    border-left: none;\n    border-right: none;\n}\n.archivesDataManagement .container .el-form[data-v-600e173d] {\n      padding: 0 20px;\n}\n.archivesDataManagement .container .el-form .el-form-item--mini.el-form-item[data-v-600e173d],\n      .archivesDataManagement .container .el-form .el-form-item--small.el-form-item[data-v-600e173d] {\n        margin-bottom: 14px;\n}\n.selectedRow[data-v-600e173d] {\n  border: solid 1px blue;\n}\n",""])},rBFl:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.container .footer[data-v-46da4ee6] {\n  text-align: center;\n  margin-top: 10px;\n}\n",""])}});