webpackJsonp([21],{"3v/L":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.oprations[data-v-53f9e3fa] {\n  padding: 10px 0;\n}\n",""])},"4JvE":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("woOf"),r=a.n(i),n=a("mvHQ"),l=a.n(n),o=a("cMGX"),s={name:"MaterialDeliverDetail",props:["selectMaterial"],components:{pagination:o.a},data:function(){return{readonly:!1,materialForm:{e01z4103a:"",transferouttype:"",e01z4104:"",e01z4113:1,mode:"",confidentialno:"",e01z4114:""},pagerList:[],pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize}}},created:function(){this.materialForm=this.selectMaterial,""!=this.selectMaterial&&(this.readonly=!0),this.pagerList.push(this.selectMaterial)},methods:{handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.findE01Z41sById()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.findE01Z41sById()},findE01Z41sById:function(){var e=this;this.$axios({method:"get",url:this.API.findE01Z41sById,params:{id:this.materialForm.id,pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(t){var a=t.data;"1"==a.code?(e.pagerList=a.data.list,e.pageObj.total=a.data.total):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})}}},c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"material-deliver-add"},[a("el-form",{ref:"materialForm",staticStyle:{margin:"0 15px"},attrs:{model:e.materialForm,"label-width":"110px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"转往单位名称：",prop:"e01z4103a"}},[a("el-input",{attrs:{readonly:e.readonly},model:{value:e.materialForm.e01z4103a,callback:function(t){e.$set(e.materialForm,"e01z4103a",t)},expression:"materialForm.e01z4103a"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"转递方式：",prop:"transferouttypeValue"}},[a("el-input",{attrs:{readonly:e.readonly},model:{value:e.materialForm.transferouttypeValue,callback:function(t){e.$set(e.materialForm,"transferouttypeValue",t)},expression:"materialForm.transferouttypeValue"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"转出日期：",prop:"e01z4104"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{readonly:e.readonly,type:"date",placeholder:"选择日期",format:"yyyyMMdd","value-format":"yyyyMMdd"},model:{value:e.materialForm.e01z4104,callback:function(t){e.$set(e.materialForm,"e01z4104",t)},expression:"materialForm.e01z4104"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"经办人员：",prop:"e01z4113"}},[a("el-input",{attrs:{readonly:e.readonly},model:{value:e.materialForm.e01z4113,callback:function(t){e.$set(e.materialForm,"e01z4113",t)},expression:"materialForm.e01z4113"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"转递类型：",prop:"modeValue"}},[a("el-input",{attrs:{readonly:e.readonly},model:{value:e.materialForm.modeValue,callback:function(t){e.$set(e.materialForm,"modeValue",t)},expression:"materialForm.modeValue"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"机要号：",prop:"confidentialno"}},[a("el-input",{attrs:{readonly:e.readonly},model:{value:e.materialForm.confidentialno,callback:function(t){e.$set(e.materialForm,"confidentialno",t)},expression:"materialForm.confidentialno"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注：",prop:"e01z4114"}},[a("el-input",{attrs:{type:"textarea",readonly:e.readonly,autosize:{minRows:2,maxRows:4}},model:{value:e.materialForm.e01z4114,callback:function(t){e.$set(e.materialForm,"e01z4114",t)},expression:"materialForm.e01z4114"}})],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"personTable",staticClass:"material_table",staticStyle:{width:"100%"},attrs:{data:e.pagerList,height:"180px"}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"60px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1)+" ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"a0101",label:"人员姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z211",label:"材料类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z211a",label:"材料名称","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z227",label:"材料制成日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z124",label:"份数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z224",label:"页数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"selecttypeValue",label:"材料来源"}})],1)],1)};c._withStripped=!0;var d={render:c,staticRenderFns:[]},m=d;var p=!1;var u=a("VU/8")(s,m,!1,function(e){p||a("gEGh")},"data-v-80255496",null);u.options.__file="src/views/materialManage/materialDeliver/MaterialDeliverDetail.vue";var h=u.exports,g=a("w2+u"),f=a("ZHjm"),v=a("rXDJ"),b=a("ARgE"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right",on:{click:e.resetAllState}},[a("div",{staticStyle:{display:"flex","margin-bottom":"10px","margin-left":"15px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.addNewMaterial}},[e._v("添加材料")])],1),e._v(" "),a("div",{ref:"head",staticClass:"materialHead"},[e._m(0)]),e._v(" "),a("div",{ref:"tableBody",staticClass:"materialBody",staticStyle:{height:"180px",overflow:"hidden"},attrs:{id:"outdiv"}},[a("div",{ref:"tableContent",staticStyle:{height:"100%","overflow-y":"scroll","overflow-x":"hidden"},attrs:{id:"innerDiv"}},e._l(e.dataArr,function(t,i){return a("ul",{key:i,class:{selectedBg:i===e.currentIndex},on:{"!click":function(t){e.getCurrent(i)}}},[a("li",{staticStyle:{width:"5%"}},[e._v(e._s(i+1))]),e._v(" "),a("li",{ref:"content",refInFor:!0,staticStyle:{width:"14%","text-align":"left"},on:{click:function(t){t.stopPropagation(),e.bundleClick(i,"a0101tip",t)}}},[t.inEdit&&t.inEdit.a0101tip?a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.a0101,expression:"row.a0101"}],staticStyle:{width:"95%"},attrs:{type:"text"},domProps:{value:t.a0101},on:{input:function(a){a.target.composing||e.$set(t,"a0101",a.target.value)}}}):e._e(),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.a0101))])]),e._v(" "),a("li",{ref:"content",refInFor:!0,staticStyle:{width:"13%"},on:{click:function(t){t.stopPropagation(),e.bundleClick(i,"e01z211atip",t)}}},[t.inEdit&&t.inEdit.e01z211atip?a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.e01z211a,expression:"row.e01z211a"}],attrs:{type:"text"},domProps:{value:t.e01z211a},on:{input:function(a){a.target.composing||e.$set(t,"e01z211a",a.target.value)}}}):a("span",[e._v(e._s(t.e01z211a))])]),e._v(" "),a("li",{ref:"content",refInFor:!0,staticStyle:{width:"12%"},on:{click:function(t){t.stopPropagation(),e.bundleClick(i,"e01z211tip",t)}}},[t.inEdit&&t.inEdit.e01z211tip?a("el-select",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"95%"},attrs:{clearable:"",placeholder:"请选择"},on:{change:function(a){e.changeChioceId(t)}},model:{value:t.e01z211,callback:function(a){e.$set(t,"e01z211",a)},expression:"row.e01z211"}},e._l(e.dataList,function(e,t){return a("el-option",{key:t,attrs:{label:e.codeno,value:e.codeno,name:"item.codeno"}})}),1):a("span",[e._v(e._s(t.e01z211))])],1),e._v(" "),a("li",{ref:"content",refInFor:!0,staticStyle:{width:"11%"},on:{click:function(t){t.stopPropagation(),e.bundleClick(i,"e01z124tip",t)}}},[t.inEdit&&t.inEdit.e01z124tip?a("el-input-number",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"95%"},attrs:{"controls-position":"right",min:1},model:{value:t.e01z124,callback:function(a){e.$set(t,"e01z124",a)},expression:"row.e01z124"}}):a("span",[e._v(e._s(t.e01z124))])],1),e._v(" "),a("li",{ref:"content",refInFor:!0,staticStyle:{width:"11%"},on:{click:function(t){t.stopPropagation(),e.bundleClick(i,"e01z224tip",t)}}},[t.inEdit&&t.inEdit.e01z224tip?a("el-input-number",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"95%"},attrs:{"controls-position":"right",min:1},model:{value:t.e01z224,callback:function(a){e.$set(t,"e01z224",a)},expression:"row.e01z224"}}):a("span",[e._v(e._s(t.e01z224))])],1),e._v(" "),a("li",{ref:"content",refInFor:!0,staticStyle:{width:"14%"},on:{click:function(t){t.stopPropagation(),e.bundleClick(i,"e01z227tip",t)}}},[t.inEdit&&t.inEdit.e01z227tip?a("el-date-picker",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"99%"},attrs:{type:"date",placeholder:"选择日期",format:"yyyyMMdd","value-format":"yyyyMMdd"},model:{value:t.e01z227,callback:function(a){e.$set(t,"e01z227",a)},expression:"row.e01z227"}}):a("span",[e._v(e._s(t.e01z227))])],1),e._v(" "),a("li",{ref:"content",refInFor:!0,staticStyle:{width:"13%"},on:{click:function(t){t.stopPropagation(),e.bundleClick(i,"e01z231tip",t)}}},[t.inEdit&&t.inEdit.e01z231tip?a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.e01z231,expression:"row.e01z231"}],staticStyle:{width:"95%"},attrs:{type:"text"},domProps:{value:t.e01z231},on:{input:function(a){a.target.composing||e.$set(t,"e01z231",a.target.value)}}}):a("span",[e._v(e._s(t.e01z231))])]),e._v(" "),a("li",{staticClass:"actions",staticStyle:{width:"7%","border-right":"none"}},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.deleteMaterial(i)}}},[e._v("删除")])],1)])}),0)]),e._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveNewMaterial}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.cancle}},[e._v("取消")])],1)])};y._withStripped=!0;var z={render:y,staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",{staticStyle:{width:"5%"}},[e._v("序 号")]),e._v(" "),a("li",{staticStyle:{width:"14%"}},[e._v("档案人员"),a("i",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("li",{staticStyle:{width:"13%"}},[e._v("材料名称 "),a("i",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("li",{staticStyle:{width:"12%"}},[e._v("材料类别"),a("i",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("li",{staticStyle:{width:"11%"}},[e._v("份数"),a("i",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("li",{staticStyle:{width:"11%"}},[e._v("页数"),a("i",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("li",{staticStyle:{width:"14%"}},[e._v("形成时间"),a("i",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("li",{staticStyle:{width:"13%"}},[e._v("备注")]),e._v(" "),a("li",{staticStyle:{width:"7%"}},[e._v("操 作")])])}]},w=z;var _=!1;var x=function(e){_||a("W7sW")},k=a("VU/8")(b.a,w,!1,x,"data-v-658d20fb",null);k.options.__file="src/views/materialManage/materialDeliver/EditMaterial.vue";var F=k.exports,D=a("Edl1"),M=a("NWgV"),S=a("JoXd"),I={name:"MaterialDeliverAdd",components:{pagerList:g.a,persionFileDetail:f.a,areaTreeSelected:v.a,editMaterial:F,bulkMaterial:M.a,fileSelection:S.a,editMaterial1:D.a},data:function(){return{isInternal1:!1,type:"0",source:"0",stype:2,selectItem:"",innerVisible1:!1,innerVisible2:!1,area_tree_visible:!1,deliverForm:{e01z4103a:"",e01z4103b:"",transferouttype:"内部",e01z4104:"",e01z4113:"",mode:"",confidentialno:"",e01z4114:"",archNames:"",archivesIds:"",infoIds:""},selectedPagerlList:[],selectedList1:[],selectedList2:[],pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},transferouttypes:[{value:0,label:"内部"},{value:1,label:"外部"}],modeValues:[{value:0,label:"机要转递"},{value:1,label:"专人取送"}],rules:{e01z4103a:[{required:!0,message:"请选择或者请输入",trigger:"change"},{min:0,max:this.fieldsConfig.commonLength.eighty,message:"长度必须在0到 "+this.fieldsConfig.commonLength.eighty+"位字符之间",trigger:"change"}],e01z4104:[{required:!0,message:"请选择日期",trigger:"change"}],e01z4113:[{required:!0,message:"请输入经办人",trigger:"change"},{min:0,max:this.fieldsConfig.commonLength.twenty,message:"长度必须在0到 "+this.fieldsConfig.commonLength.twenty+"位字符之间",trigger:"blur"}],transferouttype:[{required:!0,message:"请选择转递方式",trigger:"change"}],mode:[{required:!0,message:"请选择转递类型",trigger:"change"}],confidentialno:[{required:!0,message:"请输入机要号",trigger:"change"}],e01z4114:[{min:0,max:this.fieldsConfig.commonLength.fiveHundred,message:"长度必须在0到 "+this.fieldsConfig.commonLength.fiveHundred+"位字符之间",trigger:"blur"}]},oldName:"",isFullscreen:!1,isInternal:!0,editMaterialList:[],e01z704b:"",e01z704bFlag:!1}},created:function(){this.deliverForm.e01z4104=new Date},methods:{selectChange:function(e){this.rules.confidentialno[0].required="1"!=e},getPersonInfo:function(){this.e01z704bFlag?this.innerVisible1=!0:this.$message.warning("请先选择转往单位！")},changeChioce:function(e){0===e?this.isInternal=!0:(this.isInternal=!1,this.editMaterialList=this.$refs.childMaterial.backDataList)},getBack:function(e){this.area_tree_visible=!1,""!=e?(this.e01z704b=e.code,this.e01z704bFlag=!0,this.deliverForm.e01z4103a=e.name,this.oldName=e.name,this.deliverForm.e01z4103b=e.code,this.deliverForm.transferouttype=0,this.isInternal=!0):(this.e01z704bFlag=!1,this.deliverForm.transferouttype=1,this.isInternal=!1,this.editMaterialList=this.$refs.childMaterial.backDataList)},getChioceFiles:function(e){if(this.innerVisible2=!1,""!=e){var t=[];e.forEach(function(e){var a={sourcetypeValue:"按人员添加"};a.a0101=e.a0101,a.e01z211a=e.name,a.e01z211b=e.e01z111b,a.e01z212=e.e01z212,a.e01z124=e.parentcode,a.e01z224=e.e01z114,a.e01z227=e.e01z117,a.e01z227=e.e01z117,a.e01z000=e.e01z000,a.a0100=e.a0100,a.e01z000="",a.id="",a.selecttype=1,a.isPager=!1,t.push(a)}),this.selectedList2=this.commonFun.concatArray(this.selectedList2,t,"id"),this.handleData(e)}},getChioceFromPager:function(e){this.innerVisible1=!1,""!=e&&(e.forEach(function(e){e.sourcetypeValue="从散材料库添加",e.e01z212=e.e01z211,e.e01z227=e.e01z227,e.selecttype=0,e.e01z000=e.id,e.id=e.id,e.a0100=e.a0100}),this.selectedList1=this.commonFun.concatArray(this.selectedList1,e.data,"id"),this.handleData(e))},handleData:function(e){0!=this.selectedList1.length&&(this.selectedPagerlList=this.commonFun.concatArray(this.selectedPagerlList,this.selectedList1,"id")),0!=this.selectedList2.length&&(this.selectedPagerlList=this.commonFun.concatArray(this.selectedPagerlList,this.selectedList2,"id")),this.deliverForm.archNames=this.commonFun.joinTgetherId(this.selectedPagerlList,this.deliverForm.archNames,"a0101")},addDeliver:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=!1;if(""!=t.deliverForm.e01z4103b&&t.oldName===t.deliverForm.e01z4103a&&(t.deliverForm.transferouttype=0),0===t.deliverForm.transferouttype&&""!=t.deliverForm.e01z4103b&&t.oldName===t.deliverForm.e01z4103a&&(a=!0),0!==t.deliverForm.transferouttype||a)if(1===t.deliverForm.transferouttype&&(t.deliverForm.e01z4103b=""),""!=t.selectedPagerlList){var i=[];t.selectedPagerlList.forEach(function(e){var t={};t.a0100=e.a0100,t.a0101=e.a0101,t.e01z000=e.e01z000,t.e01z124=e.e01z124,t.e01z224=e.e01z224,t.e01z227=e.e01z227,t.e01z211a=e.e01z211a,t.e01z211=e.e01z211,t.e01z212=e.e01z217,t.e01z231=e.e01z231,t.selecttypeValue=e.sourcetypeValue,t.selecttype=e.selecttype,i.push(t)});var r={e01z4103a:t.deliverForm.e01z4103a,e01z4103b:t.deliverForm.e01z4103b,transferouttype:t.deliverForm.transferouttype,e01z4104:t.commonFun.dateFormat(t.deliverForm.e01z4104,"yyyyMMdd"),e01z4113:t.deliverForm.e01z4113,mode:t.deliverForm.mode,confidentialno:t.deliverForm.confidentialno,e01z4114:t.deliverForm.e01z4114,lists:i},n=l()(r);t.$axios({method:"post",url:t.API.saveMaterialTransfer,data:{resultJson:n}}).then(function(e){"1"==e.data.code?(t.$refs.deliverForm.resetFields(),t.selectedPagerlList=[],t.selectedList1=[],t.selectedList2=[],t.editMaterialList=[],t.archNames="",t.archivesIds="",t.infoIds="",t.$message({message:"添加数据成功！",type:"success"}),t.$emit("back","")):t.$message({type:"error",message:"添加数据失败，请刷新重试！"})}).catch(function(e){})}else t.$confirm("请填写要添加的材料信息！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0});else t.$confirm("请选择转往单位","提示",{confirmButtonText:"确认",showCancelButton:!1,center:!0})})},cancle:function(){this.$emit("back","")},clickRow:function(e){this.selectItem=e},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},deleteItem:function(){var e=this;this.$confirm("您确认删除这条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.selectedPagerlList.splice(e.selectItem.index,1),"散材料信息库"==e.selectItem.sourcetypeValue&&e.selectedList1.forEach(function(t,a){t.id===e.selectItem.id&&e.selectedList1.splice(a,1)}),"档案库"==e.selectItem.sourcetypeValue&&e.selectedList2.forEach(function(t,a){t.id===e.selectItem.id&&e.selectedList2.splice(a,1)}),e.deliverForm.archNames=e.commonFun.joinTgetherId(e.selectedPagerlList,e.deliverForm.archNames,"a0101"),e.selectItem=""})},clickFullScreen:function(){this.isFullscreen=!this.isFullscreen},addMaterial:function(){},deleteMaterial:function(){this.deleteItem()},getEditMaterialBack:function(e){if("cancle"==e)this.$emit("back","");else{this.editMaterialList=e;var t=[];e.forEach(function(e){var a={sourcetypeValue:"添加材料",a0100:""};a.a0101=e.a0101,a.e01z000="",a.e01z124=e.e01z124,a.e01z224=e.e01z224,a.e01z227=e.e01z227,a.e01z211a=e.e01z211a,a.e01z211=e.e01z211,a.e01z217=e.e01z211b,a.e01z231=e.e01z231,a.selecttype=1,t.push(a)}),this.selectedPagerlList=t,this.addDeliver("deliverForm")}},getEditMaterialBack1:function(e){if("cancle"!=e){var t=[];e.forEach(function(e){var a={};a.a0100=e.a0100,a.a0101=e.a0101,a.e01z000="",a.e01z124=e.e01z124,a.e01z224=e.e01z224,a.e01z227=e.e01z227,a.e01z211a=e.e01z211a,a.e01z211=e.e01z211,a.e01z217=e.e01z211b,a.e01z231=e.e01z231,a.sourcetypeValue="添加人员",a.a0101=e.a0101,a.selecttype=0,t.push(a)}),this.selectedPagerlList=this.commonFun.concatArray(this.selectedPagerlList,t,"a0100"),this.addDeliver("deliverForm")}else this.$emit("back","")},getBulkMaterial:function(e){if(this.innerVisible1=!1,""!=e){var t=[];e.forEach(function(e){"".sourcetypeValue="散材料库","".a0101=e.a0101,"".selecttype=0,t.push("")}),this.selectedPagerlList=this.commonFun.concatArray(this.selectedPagerlList,t,"a0100")}}}},$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"material-deliver-add1"},[a("el-form",{ref:"deliverForm",staticStyle:{"margin-right":"10px"},attrs:{rules:e.rules,model:e.deliverForm,"label-width":"110px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"转递方式：",prop:"transferouttype"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.changeChioce},model:{value:e.deliverForm.transferouttype,callback:function(t){e.$set(e.deliverForm,"transferouttype",t)},expression:"deliverForm.transferouttype"}},e._l(e.transferouttypes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"转往单位：",prop:"e01z4103a"}},[a("el-input",{model:{value:e.deliverForm.e01z4103a,callback:function(t){e.$set(e.deliverForm,"e01z4103a",t)},expression:"deliverForm.e01z4103a"}}),e._v(" "),e.isInternal?a("div",{staticClass:"click-div",on:{click:function(t){e.area_tree_visible=!0}}},[a("i",{staticClass:"el-icon-more top-icon"})]):e._e()],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"转出日期：",prop:"e01z4104"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",format:"yyyyMMdd","value-format":"yyyyMMdd"},model:{value:e.deliverForm.e01z4104,callback:function(t){e.$set(e.deliverForm,"e01z4104",t)},expression:"deliverForm.e01z4104"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"经办人员：",prop:"e01z4113"}},[a("el-input",{model:{value:e.deliverForm.e01z4113,callback:function(t){e.$set(e.deliverForm,"e01z4113",t)},expression:"deliverForm.e01z4113"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"转递类型：",prop:"mode"}},[a("el-select",{staticStyle:{width:"100%"},on:{change:e.selectChange},model:{value:e.deliverForm.mode,callback:function(t){e.$set(e.deliverForm,"mode",t)},expression:"deliverForm.mode"}},e._l(e.modeValues,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"机要号：",prop:"confidentialno"}},[a("el-input",{attrs:{disabled:"1"==e.deliverForm.mode},model:{value:e.deliverForm.confidentialno,callback:function(t){e.$set(e.deliverForm,"confidentialno",t)},expression:"deliverForm.confidentialno"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注：",prop:"e01z4114"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:e.deliverForm.e01z4114,callback:function(t){e.$set(e.deliverForm,"e01z4114",t)},expression:"deliverForm.e01z4114"}})],1)],1)],1)],1),e._v(" "),e.isInternal1?a("div",[a("div",{staticClass:"opration"},[a("el-button",{attrs:{type:"primary"},on:{click:e.getPersonInfo}},[e._v("散材料库")]),e._v(" "),e.innerVisible1?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{width:"60%","close-on-click-modal":!1,height:"60%",title:"材料添加",visible:e.innerVisible1,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible1=t}}},[a("fileSelection",{attrs:{e01z704b:e.e01z704b,type:e.type,source:e.source,checkedlist:e.personlist},on:{GetChioceFiles:e.getBulkMaterial}}),e._v(" "),a("pagerList",{on:{GetChiocePagers:e.getChioceFromPager}})],1):e._e(),e._v(" "),e.innerVisible2?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{width:"80%",title:"档案库",fullscreen:e.isFullscreen,"close-on-click-modal":!1,height:"85%",visible:e.innerVisible2,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible2=t}}},[a("persionFileDetail",{on:{GetChioceFiles:e.getChioceFiles}})],1):e._e()],1),e._v(" "),a("el-table",{staticClass:"material_table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","row-class-name":e.tableRowClassName,"empty-text":"您还没有添加数据！",height:"228px",data:e.selectedPagerlList},on:{"row-click":e.clickRow}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"a0101",label:"档案人员","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z211a",label:"材料名称","show-overflow-tooltip":"",width:"134"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z211",label:"材料类别",width:"154"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z124",label:"份数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z224",label:"页数","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z227",label:"形成时间","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z231",label:"备注","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",icon:"el-icon-close",circle:"",title:"删除"},on:{click:e.deleteMaterial}})]}}])})],1),e._v(" "),a("div",{staticClass:"oprations"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDeliver("deliverForm")}}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.cancle}},[e._v("取消")])],1)],1):e._e(),e._v(" "),e.isInternal?a("div",[a("editMaterial1",{ref:"childMaterial",attrs:{e01z704bFlag:e.e01z704bFlag,e01z704b:e.e01z704b,isInternal:e.isInternal,materialList:e.editMaterialList},on:{getEditMaterialBack1:e.getEditMaterialBack1}})],1):a("div",[a("editMaterial",{ref:"childMaterial",attrs:{materialList:e.editMaterialList},on:{getEditMaterialBack:e.getEditMaterialBack}})],1),e._v(" "),e.area_tree_visible?a("el-dialog",{staticClass:"outDialog",attrs:{title:"单位选择","close-on-click-modal":!1,"append-to-body":"",width:"30%",height:"50%",visible:e.area_tree_visible},on:{"update:visible":function(t){e.area_tree_visible=t}}},[a("areaTreeSelected",{attrs:{stype:e.stype},on:{back:e.getBack}})],1):e._e()],1)};$._withStripped=!0;var L={render:$,staticRenderFns:[]},C=L;var T=!1;var j=a("VU/8")(I,C,!1,function(e){T||a("gyZx")},null,null);j.options.__file="src/views/materialManage/materialDeliver/MaterialDeliverAdd.vue";var A=j.exports,E={name:"AcknowledgementRegister",props:["checkedDeliver"],data:function(){return{acknowledgementForm:{receiver:"",receiptTime:"",e01z231:""},rules:{receiver:[{required:!0,message:"请输入回执人",trigger:"change"}],receiptTime:[{required:!0,message:"请选择回执时间",trigger:"change"}]}}},created:function(){this.checkedDeliver&&""!=this.checkedDeliver.receiver?this.acknowledgementForm=this.checkedDeliver:this.acknowledgementForm.receiptTime=new Date},methods:{saveAcknowledge:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.saveToNet()})},saveToNet:function(){var e=this;this.$axios({method:"post",url:this.API.saveReceiverInfo,data:{e01z41_00:this.checkedDeliver.e01z41_00,e01z4100:this.checkedDeliver.e01z4100,receiver:this.acknowledgementForm.receiver,receiptTime:this.commonFun.dateFormat(this.acknowledgementForm.receiptTime,"yyyyMMdd"),e01z231:this.acknowledgementForm.e01z231}}).then(function(t){"1"==t.data.code?(e.$message.success("回执登记成功！"),e.$emit("getAcknowledgementRegisterBack","success")):e.$message.error("回执登记失败，请刷新重试！")}).catch(function(e){this.$message.error("回执登记失败，请刷新重试！")})},cancle:function(){this.$emit("getAcknowledgementRegisterBack")}}},P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"acknowledgement-register-container"},[a("el-form",{ref:"acknowledgementForm",staticStyle:{margin:"0 10px"},attrs:{rules:e.rules,model:e.acknowledgementForm,"label-width":"110px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"回执人",prop:"receiver"}},[a("el-input",{model:{value:e.acknowledgementForm.receiver,callback:function(t){e.$set(e.acknowledgementForm,"receiver",t)},expression:"acknowledgementForm.receiver"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"回执日期",prop:"receiptTime"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",format:"yyyyMMdd","value-format":"yyyyMMdd"},model:{value:e.acknowledgementForm.receiptTime,callback:function(t){e.$set(e.acknowledgementForm,"receiptTime",t)},expression:"acknowledgementForm.receiptTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"e01z231"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:e.acknowledgementForm.e01z231,callback:function(t){e.$set(e.acknowledgementForm,"e01z231",t)},expression:"acknowledgementForm.e01z231"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"oprations",staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveAcknowledge("acknowledgementForm")}}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.cancle}},[e._v("取消")])],1)],1)};P._withStripped=!0;var R={render:P,staticRenderFns:[]},O=R;var B=!1;var V=a("VU/8")(E,O,!1,function(e){B||a("gbHU")},"data-v-53f9e3fa",null);V.options.__file="src/views/materialManage/materialDeliver/AcknowledgementRegister.vue";var N=V.exports,U={name:"MaterialDeliver",components:{pagination:o.a,materialDeliverDetail:h,materialDeliverAdd:A,acknowledgementRegister:N},data:function(){return{delSelectMaterial:"",dailogTitleType:"",selectMaterialDeliver:"",detail_deliver_popUp:!1,adddeliver_popUp:!1,materialtransferList:[],pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},e01z4103a:"",startTime:"",endTime:"",tableHeight:0,acknowledgementRegisterPop:!1,e01z4100:"",checkedDeliver:"",uploadUrl:""}},watch:{materialtransferList:{handler:function(e){this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-40-52-93}}},created:function(){this.delSelectMaterial="",this.getMaterialtransferList()},mounted:function(){this.uploadUrl=this.API.baobiaoURL},methods:{startTimeChange:function(){var e=this.startTime.substring(0,4)+"-"+this.startTime.substring(4,6)+"-"+this.startTime.substring(6),t=this.endTime.substring(0,4)+"-"+this.endTime.substring(4,6)+"-"+this.endTime.substring(6);e&&e.length>0&&t&&t.length>0&&(new Date(e).getTime()>new Date(t).getTime()&&(this.$message({type:"error",message:"开始日期不能大于结束日期!"}),this.startTime=""))},endTimeChange:function(){var e=this.startTime.substring(0,4)+"-"+this.startTime.substring(4,6)+"-"+this.startTime.substring(6),t=this.endTime.substring(0,4)+"-"+this.endTime.substring(4,6)+"-"+this.endTime.substring(6);e&&e.length>0&&t&&t.length>0&&(new Date(e).getTime()>new Date(t).getTime()&&(this.$message({type:"error",message:"开始日期不能大于结束日期!"}),this.endTime=""))},handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.getMaterialtransferList()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getMaterialtransferList()},getMaterialtransferList:function(){var e=this;this.$axios({loading:{isShow:!0,target:".material-deliver-container"},method:"post",url:this.API.queryMaterialTransferPage,data:{e01z4103a:this.e01z4103a,startTime:this.startTime,endTime:this.endTime,"01z4113":"",a0101:"",pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(t){var a=t.data;"1"==a.code?(e.materialtransferList=a.data.list,e.pageObj.total=a.data.total):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})},search:function(){this.pageObj.pageIndex=this.API.constObj.pageIndex,this.getMaterialtransferList()},detail:function(e,t){this.detail_deliver_popUp=!0,this.selectMaterialDeliver=r()({},e)},printfn:function(e){var t=e.e01z41_00,a=this.API.constObj.reportFormData[14].id,i=(this.$store.state.user.uAreacode,"a.e01z41_00='"+t+"'"),r="b.id ='"+t+"'",n="e.e01z41_00 ='"+t+"'";this.openPostWindow(this.uploadUrl,a,i,r,n)},openPostWindow:function(e,t,a,i,r){e=e+"?uuid="+t+"&SQLSCRIPT="+a+"&SQLSCRIPT2="+i+"&SQL="+r,e=encodeURI(e),window.open(e)},addBack:function(){this.adddeliver_popUp=!1,this.getMaterialtransferList()},deleteItem:function(){var e=this;""!=this.delSelectMaterial?"1"==this.delSelectMaterial.transferouttype?this.$confirm("确定删除选中记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.deleteE01Z41Id()}).catch(function(){e.$message({type:"info",message:"已取消"})}):this.$message.warning("内部转递不允许删除！"):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},deleteE01Z41Id:function(){var e=this;this.$axios({method:"get",url:this.API.deleleReceiverInfo,params:{e01z4100:this.delSelectMaterial.e01z4100}}).then(function(t){"1"==t.data.code?(e.$message({type:"success",message:"删除成功!"}),e.getMaterialtransferList(),e.delSelectMaterial=""):e.$message({type:"error",message:"删除失败，请刷新重试！"})}).catch(function(e){})},clickRow:function(e){this.delSelectMaterial=e},addDeliver:function(){this.adddeliver_popUp=!0},acknowledgementRegister:function(e){this.checkedDeliver=e,this.acknowledgementRegisterPop=!0},getAcknowledgementRegisterBack:function(e){this.acknowledgementRegisterPop=!1,"success"===e&&this.getMaterialtransferList()},getExport:function(){var e=this;this.$confirm("确定导出？","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){var t=e.$refs.table.columns,a=e.commonFun.getExportParameters2(t,t.length-1);e.$axios({method:"post",url:e.API.exportQueryMaterialTransfer,responseType:"arraybuffer",data:{e01z4103a:e.e01z4103a,startTime:e.startTime,endTime:e.endTime,"01z4113":"",a0101:"",titlels:a.titlels,colsls:a.colsls}}).then(function(e){this.commonFun.fileDownload(e.data,"材料转递列表.xlsx")}.bind(e))}).catch(function(e){this.$message.warning("取消")}.bind(this))}}},q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"material-deliver-container"},[a("el-main",[a("div",{staticClass:"title"},[a("div",{staticClass:"left"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addDeliver}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.deleteItem}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.getExport}},[e._v("导出")])],1),e._v(" "),a("div",{staticClass:"right"},[a("el-input",{attrs:{placeholder:"转往单位",clearable:""},model:{value:e.e01z4103a,callback:function(t){e.e01z4103a=t},expression:"e01z4103a"}}),e._v(" "),a("el-date-picker",{attrs:{type:"date",format:"yyyyMMdd","value-format":"yyyyMMdd",placeholder:"转出开始日期"},on:{change:e.startTimeChange},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),e._v(" "),a("el-date-picker",{attrs:{type:"date",format:"yyyyMMdd","value-format":"yyyyMMdd",placeholder:"转出结束日期"},on:{change:e.endTimeChange},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)]),e._v(" "),a("el-table",{ref:"table",staticClass:"material_table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.materialtransferList,height:e.tableHeight},on:{"row-click":e.clickRow}},[a("el-table-column",{attrs:{label:"序号",align:"center","min-width":"6%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1)+" ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z4113",label:"经办人员","show-overflow-tooltip":"","min-width":"10%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z4103a",label:"转往单位","show-overflow-tooltip":"","min-width":"10%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z4104",label:"转出时间","min-width":"9%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z407",label:"接收人员","show-overflow-tooltip":"","min-width":"10%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0101",label:"档案人员","show-overflow-tooltip":"","min-width":"10%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transferouttypeValue",label:"转递方式","min-width":"10%","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"modeValue",label:"转递类型","min-width":"10%","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"valStatusName",label:"状态","min-width":"8%"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",icon:"iconfont gd-chakan",circle:"",title:"详细"},on:{click:function(a){e.detail(t.row,t.$index)}}}),e._v(" "),a("el-button",{attrs:{type:"success",icon:"iconfont gd-huizhimdpi",circle:"",title:"回执登记"},on:{click:function(a){e.acknowledgementRegister(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"success",icon:"iconfont gd-dayinrizhi",circle:"",title:"打印转递通知单"},on:{click:function(a){e.printfn(t.row)}}})]}}])})],1),e._v(" "),a("div",[a("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}})],1)],1),e._v(" "),e.detail_deliver_popUp?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"outDialog",attrs:{title:"详情","append-to-body":"","close-on-click-modal":!1,width:"65%",height:"350px",visible:e.detail_deliver_popUp},on:{"update:visible":function(t){e.detail_deliver_popUp=t}}},[a("materialDeliverDetail",{attrs:{selectMaterial:e.selectMaterialDeliver},on:{back:e.getBack}})],1):e._e(),e._v(" "),e.adddeliver_popUp?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"outDialog",attrs:{title:"新增","append-to-body":"","close-on-click-modal":!1,width:"60%",height:"350px",visible:e.adddeliver_popUp},on:{"update:visible":function(t){e.adddeliver_popUp=t}}},[a("materialDeliverAdd",{on:{back:e.addBack}})],1):e._e(),e._v(" "),e.acknowledgementRegisterPop?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"outDialog",attrs:{title:"回执登记","append-to-body":"","close-on-click-modal":!1,width:"40%",visible:e.acknowledgementRegisterPop},on:{"update:visible":function(t){e.acknowledgementRegisterPop=t}}},[a("acknowledgementRegister",{attrs:{checkedDeliver:e.checkedDeliver},on:{getAcknowledgementRegisterBack:e.getAcknowledgementRegisterBack}})],1):e._e()],1)};q._withStripped=!0;var H={render:q,staticRenderFns:[]},Z=H;var X=!1;var W=a("VU/8")(U,Z,!1,function(e){X||a("fTom")},null,null);W.options.__file="src/views/materialManage/materialDeliver/MaterialDeliver.vue";t.default=W.exports},"9f2X":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.areatree-selected-container .filter-tree {\n  /*box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);*/\n  border-bottom: 1px solid #ddd;\n  padding-bottom: 10px;\n  height: 300px;\n  overflow: auto;\n  font-size: 14px;\n}\n.areatree-selected-container .filter-tree .el-tree-node:focus > .el-tree-node__content {\n    background-color: #88B1CA !important;\n    color: #fff;\n}\n.areatree-selected-container .filter-tree .el-tree > > > .is-current .el-tree-node__label {\n    color: #409EFF;\n    font-weight: 700;\n}\n.areatree-selected-container .footer {\n  padding: 10px 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n",""])},ARgE:function(e,t,a){"use strict";(function(e){var i=a("Gu7T"),r=a.n(i),n=a("mvHQ"),l=a.n(n),o=a("Dd8w"),s=a.n(o);t.a={name:"EditMaterial",props:["materialList"],data:function(){return{initEditState:{a0101tip:!1,e01z211atip:!1,e01z211btip:!1,e01z211tip:!1,e01z124tip:!1,e01z224tip:!1,e01z227tip:!1,e01z231tip:!1},currentRowRight:!0,dataArr:[],materialObj:{a0100:"",a0101:"",e01z211a:"",e01z211b:"",e01z211:"",name:"",e01z124:1,e01z224:1,e01z227:this.commonFun.dateFormat(new Date,"yyyyMMdd"),e01z231:"",onlyShow:!0,inEdit:{a0101tip:!1,e01z211atip:!1,e01z211btip:!1,e01z211tip:!1,e01z124tip:!1,e01z224tip:!1,e01z227tip:!1,e01z231tip:!1}},dataList:[],backDataList:[],currentIndex:"",tableWidth:0,widthFlag:!1,archivespersonnelselectionPop:!1,bulkMaterialpop:!1,selectionList:[],bulkMaterialList:[]}},watch:{bulkMaterialList:function(e){var t=this;if(""!=e&&e.length>0){var a=[];e.forEach(function(e){t.materialObj.a0101=e.a0101,t.materialObj.e01z211a=e.e01z211a,t.materialObj.e01z211=e.e01z211,t.materialObj.e01z124=e.e01z124,t.materialObj.e01z224=e.e01z224,t.materialObj.e01z227=e.e01z227,t.materialObj.e01z231=e.e01z231,t.materialObj.onlyShow=!1,t.materialObj.source="散材料库";var i=t.materialObj;a.push(s()({},i))}),this.dataArr=this.commonFun.concatArray(this.dataArr,a,"e01z211a")}},selectionList:function(e){var t=this;if(""!=e&&e.length>0){var a=[];e.forEach(function(e){t.materialObj.a0101=e.a0101,t.materialObj.a0100=e.a0100,t.materialObj.onlyShow=!0,t.materialObj.source="档案人员";var i=t.materialObj;a.push(s()({},i))}),this.dataArr=this.commonFun.concatArray(this.dataArr,a,"a0100")}},materialList:function(e){""!=e&&(this.dataArr=e)},dataArr:function(t){t.length<6?(this.$refs.tableContent.style.overflow="hidden",e("#innerDiv").css("margin-right","0px"),this.widthFlag=!1):this.widthFlag||(this.widthFlag=!0,this.$refs.tableContent.style.overflowY="scroll",this.$refs.tableContent.style.overflowX="hidden",e("#innerDiv").css("margin-right","-17px"))}},mounted:function(){},created:function(){this.getData()},methods:{getCurrent:function(e){this.currentIndex=e},copyNewMaterial:function(){var e=this;if(""!==this.currentIndex){var t={};this.dataArr.forEach(function(a,i){i===e.currentIndex&&(t=a)});var a=l()(t),i=JSON.parse(a);this.dataArr.unshift(i),this.currentIndex=""}else this.$confirm("请选择一条数据","提示",{confirmButtomText:"确认",showCancelButton:!1,type:"warning",center:!0})},getData:function(){var e=this;this.$axios({isLoading:!1,method:"get",url:this.API.quertMaterialType,params:{isAll:!1}}).then(function(t){var a=t.data;"1"==a.code?e.dataList=a.data:e.$message({type:"error",message:"获取状态下拉框数据失败，请刷新重试！"})}).catch(function(e){this.$message({type:"error",message:"请求异常，请检查网络！"})})},changeChioceId:function(e){var t={};this.dataList.forEach(function(a){a.codeno==e.e01z211&&(t=a)}),e.e01z211b=t.code},addNewMaterial:function(){if(this.dataArr){var e=this.materialObj;this.dataArr.push(s()({},e))}else this.$message.error("抱歉,网络错误了,请稍后重试")},deleteMaterial:function(e){this.dataArr.splice(e,1)},bundleClick:function(e,t,a){this.resetAllState(),this.dataArr[e].onlyShow&&(this.dataArr[e].inEdit[t]=!0,this.dataArr=[].concat(r()(this.dataArr)),this.$refs.content[e].focus()),this.$nextTick(function(){})},resetAllState:function(){var e=this;this.dataArr.forEach(function(t){t.inEdit=s()({},e.initEditState)}),this.dataArr=[].concat(r()(this.dataArr))},judgeRowIsRight:function(e){var t=!0;return(e.a0101||"0"===String(e.a0101))&&(e.e01z211a||"0"===String(e.e01z211a))&&(e.e01z211||"0"===String(e.e01z211))||(t=!1),t},getFinishData:function(){var e=this,t=this,a=[];return this.currentRowRight=!0,t.currentRowRight&&[].concat(r()(t.dataArr)).forEach(function(i,r){if(t.currentRowRight)if(t.judgeRowIsRight(i)){var n={};n.a0101=i.a0101,n.e01z211a=i.e01z211a,n.e01z211b=i.e01z211b,n.e01z211=i.e01z211,n.e01z124=i.e01z124,n.e01z224=i.e01z224,n.e01z227=e.commonFun.dateFormat(i.e01z227,"yyyyMMdd"),n.e01z231=i.e01z231,a.push(s()({},n))}else t.currentRowRight=!1}),[].concat(a)},saveNewMaterial:function(){""!==this.dataArr&&0!==this.dataArr.length?(this.backDataList=this.getFinishData(),this.currentRowRight?this.$emit("getEditMaterialBack",this.backDataList):this.$message.warning("请确保必填字段不为空！")):this.$message.warning("请添加档案人员！")},cancle:function(){this.$emit("getEditMaterialBack","cancle")}}}}).call(t,a("7t+N"))},DhyL:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.unitTreeSelect /deep/ .el-cascader .el-cascader--small {\n  width: 100%;\n}\n.material-deliver-add1 {\n  position: relative;\n  /*/deep/ .el-table__body-wrapper::-webkit-scrollbar{\n\t\t\twidth: 1px;\n \t\t\t height: 10px;\n \t\t\t background-color: red;\n\t\t}*/\n}\n.material-deliver-add1 .el-table {\n    margin: 10px 0;\n}\n.material-deliver-add1 .el-table__body tr.current-row > td {\n    background: #DCEBFA !important;\n    color: #606266;\n}\n.material-deliver-add1 .click-div {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 10%;\n    height: 100%;\n}\n.material-deliver-add1 .top-icon {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n}\n.material-deliver-add1 .oprations {\n    text-align: center;\n}\n",""])},W7sW:function(e,t,a){var i=a("X5VF");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("0bdc4b08",i,!1,{})},X5VF:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.right[data-v-658d20fb] {\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1;\n\t        flex: 1;\n\t/*padding: 10px;*/\n\t-webkit-box-sizing: border-box;\n\t        box-sizing: border-box;\n\t/*overflow-y: auto;\n\tmax-height: 600px;*/\n}\n.right ul[data-v-658d20fb] {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tborder-bottom: 1px solid #DFDFDF;\n\t/*border-left: 1px solid #DFDFDF;*/\n}\n.right .materialHead[data-v-658d20fb] {\n\tbackground: #D7EAF6;\n\tborder-top: 1px solid #DFDFDF;\n\t/*border-left: 1px solid #DFDFDF;*/\n\t/*border-right:1px solid #DFDFDF;*/\n}\n.right .materialHead .required[data-v-658d20fb] {\n\tcolor: red;\n\t/*margin-left: 10px;*/\n}\n.right .materialHead li[data-v-658d20fb] {\n\tfont-size: 14px;\n\tfont-weight: 700;\n\tcolor:#666;\n}\n.right ul li[data-v-658d20fb] {\n\t/*text-align: center;*/\n\t-webkit-box-sizing: border-box;\n\t        box-sizing: border-box;\n\theight: 45px;\n\tline-height: 45px;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\t/*border-right: 1px solid #DFDFDF;*/\n}\n.right ul li input[data-v-658d20fb] {\n\twidth: 95%;\n\theight: 35px;\n\tborder: 1px solid #DFDFDF;\n\tline-height: 35px;\n\t/*text-align: center;*/\n\tborder-radius: 3px;\n}\n.right ul li input[data-v-658d20fb]:hover {\n\tborder: 1px solid #DFDFDF;\n}\n.right .actions span[data-v-658d20fb] {\n\tcursor: pointer;\n}\n.right ul li[data-v-658d20fb]:nth-child(1) {\n\ttext-align: center;\n}\n.right ul li[data-v-658d20fb]:nth-child(2) {\n\tcursor: pointer;\n}\n.right ul li[data-v-658d20fb]:nth-child(3) {\n\tcursor: pointer;\n}\n.right ul li[data-v-658d20fb]:nth-child(4) {\n}\n.right ul li[data-v-658d20fb]:nth-child(5) {\n\tcursor: pointer;\n}\n.right ul li[data-v-658d20fb]:nth-child(6) {\n}\n.selectedBg[data-v-658d20fb] {\n\tbackground-color: #DCEBFA !important;\n}\n.footer[data-v-658d20fb]{\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t    -ms-flex-pack: center;\n\t        justify-content: center;\n\t-webkit-box-align: center;\n\t    -ms-flex-align: center;\n\t        align-items: center;\t\n\tpadding: 10px 0;\n}\n",""])},fTom:function(e,t,a){var i=a("nEoj");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("94ab961c",i,!1,{})},gEGh:function(e,t,a){var i=a("uC+r");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("ead48b48",i,!1,{})},gbHU:function(e,t,a){var i=a("3v/L");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("9627654e",i,!1,{})},gyZx:function(e,t,a){var i=a("DhyL");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("112005a5",i,!1,{})},mlan:function(e,t,a){var i=a("9f2X");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("8c0bd1fe",i,!1,{})},nEoj:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.outDialog /deep/ .el-dialog .el-dialog__body {\n  padding: 10px 0 0 0 !important;\n}\n.material-deliver-container .el-main {\n  background-color: #fff;\n  padding: 0 !important;\n}\n.material-deliver-container .el-main .title {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    font-size: 14px;\n    padding: 10px;\n}\n.material-deliver-container .el-main .title .left {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.material-deliver-container .el-main .title .el-button {\n      size: small;\n      color: white;\n      text-align: center;\n}\n.material-deliver-container .el-main .title .right {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.material-deliver-container .el-main .title .right .el-input {\n        padding-right: 10px;\n        width: 150px;\n}\n.material-deliver-container .el-main .el-table__body tr.current-row > td {\n    background: #DCEBFA !important;\n    color: #606266;\n}\n.material-deliver-container .el-main .material_page {\n    margin: 10px 0;\n    text-align: right;\n}\n",""])},rXDJ:function(e,t,a){"use strict";var i={name:"AreaTreeSelected",props:["departmentId","stype"],data:function(){return{treeList:[],oldTreeList:[],checkedObj:""}},created:function(){this.getTreeData()},watch:{departmentId:function(e){var t=this;this.$nextTick(function(){t.$refs.treeBox.setCurrentKey(e)})}},methods:{renderContent:function(e,t){t.node;var a=t.data;t.store;return e("span",[e("span",[a.name])])},getTreeData:function(){var e=this,t="";t=this.stype&&2==this.stype?this.API.areaTreeByUAreacode:this.API.areaTree,this.$axios({loading:{isShow:!1},method:"get",url:t,params:{stype:this.stype}}).then(function(t){var a=t.data;"1"==a.code?(e.oldTreeList=a.data,e.treeList=e.commonFun.toTreeDataNormal(a.data,{childKey:"id",fatherKey:"pId"})):e.$message({type:"error",message:"获取区域树形下拉框数据失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},handleNodeClick:function(e){this.checkedObj=e},save:function(){""===this.checkedObj&&this.$message("请选中一条数据！"),this.$emit("back",this.checkedObj)},cancle:function(){this.$emit("back")}}},r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"areatree-selected-container"},[a("el-tree",{ref:"treeBox",staticClass:"filter-tree",attrs:{"highlight-current":!0,height:"300px","node-key":"departmentId","render-content":e.renderContent,"default-expand-all":"",data:e.treeList},on:{"node-click":e.handleNodeClick}}),e._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确认")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.cancle}},[e._v("取消")])],1)],1)};r._withStripped=!0;var n={render:r,staticRenderFns:[]},l=n;var o=!1;var s=a("VU/8")(i,l,!1,function(e){o||a("mlan")},null,null);s.options.__file="src/views/materialManage/materialReceive/AreaTreeSelected.vue";t.a=s.exports},"uC+r":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.material_page[data-v-80255496] {\n  margin: 10px 0;\n  text-align: right;\n}\n",""])}});