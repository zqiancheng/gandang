webpackJsonp([38],{"+AlM":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.outDialog /deep/ .el-dialog .el-dialog__body {\n  padding: 10px 0 0 0 !important;\n}\n.ledger-statistica-container .el-main {\n  background-color: #fff;\n  padding: 10px;\n  padding-bottom: 0 !important;\n  height: 100%;\n  overflow: hidden;\n}\n.ledger-statistica-container .el-main .title {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n.ledger-statistica-container .el-main .title .right {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.ledger-statistica-container .el-main .content {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.ledger-statistica-container .el-main .content .data-title {\n      width: 22%;\n      font-size: 14px;\n}\n.ledger-statistica-container .el-main .content .item .tip {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      height: 30px;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n}\n.ledger-statistica-container .el-main .content .item .tip .colordiv {\n        height: 18px;\n        width: 50px;\n        background-color: red;\n        margin-right: 10px;\n}\n.ledger-statistica-container .el-main .content .item .tip .red {\n        color: red;\n        margin-top: 2px;\n}\n.ledger-statistica-container .el-main .content .content-right {\n      width: 77%;\n}\n.ledger-statistica-container .el-main .content .content-right .title {\n        text-align: center;\n        margin-right: 266px;\n}\n.ledger-statistica-container .el-main .content .content-right .tip-bottom {\n        position: fixed;\n        bottom: 2%;\n        right: 30px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n}\n.ledger-statistica-container .el-main .content .content-right .tip-bottom .item-left {\n          margin-left: 10px;\n}\n",""])},"+w13":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.legder-deal-container .receive_page[data-v-36b0e8e6] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  margin: 10px 0;\n}\n",""])},"5yx0":function(e,t,a){"use strict";a("mvHQ");var i={name:"ReceiveTable",props:["id","time","receiveflag","flagType"],data:function(){return{receiveDetailList:[],pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize}}},created:function(){void 0===this.receiveflag&&(this.receiveflag=!1),this.getPagerE01Z2Json()},methods:{handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.getPagerE01Z2Json()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getPagerE01Z2Json()},getPagerE01Z2Json:function(){this.receiveflag?this.getLedgerData():this.getReciveData()},getLedgerData:function(){var e=this;this.$axios({method:"post",url:this.API.queryMaterialAccountManagementPage,data:{stype:this.flagType,ymds:this.time.startTime,ymde:this.time.endTime,pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(t){var a=t.data;"1"==a.code?(e.receiveDetailList=a.data.list,e.pageObj.total=a.data.total):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})},getReciveData:function(){var e=this;this.$axios({method:"get",url:this.API.findByIde01z200,params:{isEdit:!1,startTime:this.time.startTime,endTime:this.time.endTime,id:this.id,pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(t){var a=t.data;"1"==a.code?(e.receiveDetailList=a.data.list,e.pageObj.total=a.data.total):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})}},components:{pagination:a("cMGX").a}},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"receive-table-container"},[a("el-table",{staticClass:"receive_table",staticStyle:{width:"100%"},attrs:{data:e.receiveDetailList,height:"440px"}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1)+" ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"a0101",label:"档案人员","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z211a",label:"材料名称","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z211",label:"材料类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z124",label:"份数",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z224",label:"页数",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z227",label:"形成时间"}})],1),e._v(" "),a("div",{staticClass:"receive_page"},[a("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}})],1)],1)};n._withStripped=!0;var l={render:n,staticRenderFns:[]},s=l;var r=!1;var o=a("VU/8")(i,s,!1,function(e){r||a("6GN6")},"data-v-531a0f57",null);o.options.__file="src/views/materialManage/materialReceive/ReceiveTable.vue";t.a=o.exports},"6GN6":function(e,t,a){var i=a("CTpZ");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("421e9f3e",i,!1,{})},CTpZ:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.receive-table-container .receive_page[data-v-531a0f57] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  margin: 10px 0;\n}\n",""])},LqLy:function(e,t,a){var i=a("+AlM");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("61e575b3",i,!1,{})},Uvve:function(e,t,a){var i=a("k2v8");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("889873a8",i,!1,{})},dH7f:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("5yx0"),n=(a("mvHQ"),a("cMGX")),l={name:"LedgerDeal",props:["flagDeal","time","flagType"],components:{pagination:n.a},data:function(){return{pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},pagerList:[]}},created:function(){this.getPagerList()},methods:{handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.getPagerList()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getPagerList()},getPagerList:function(){var e=this;this.$axios({method:"post",url:this.API.queryMaterialAccountManagementPage,data:{stype:this.flagType,ymds:this.time.startTime,ymde:this.time.endTime,pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(t){var a=t.data;"1"==a.code?(e.pagerList=a.data.list,e.pageObj.total=a.data.total):e.$message({type:"error",message:"查询列表失败，请刷新重试！"})}).catch(function(e){})}}},s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"legder-deal-container"},[a("el-table",{staticClass:"material_table",staticStyle:{width:"100%"},attrs:{data:e.pagerList,height:"400px"}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1)+" ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"a0101",label:"人员姓名","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z211",label:"材料类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z211a",label:"材料名称","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z227",label:"形成时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z124",label:"份数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z224",label:"页数"}})],1),e._v(" "),a("div",{staticClass:"receive_page"},[a("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}})],1)],1)};s._withStripped=!0;var r={render:s,staticRenderFns:[]},o=r;var p=!1;var g=a("VU/8")(l,o,!1,function(e){p||a("v7yI")},"data-v-36b0e8e6",null);g.options.__file="src/views/materialManage/ledgerManage/LedgerDeal.vue";var d=g.exports,c={name:"LedgerDeliver",props:["flagDeliver","flagType","time"],components:{pagination:n.a},data:function(){return{pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},pagerList:[]}},created:function(){this.getPagerList()},methods:{handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.getPagerList()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getPagerList()},getPagerList:function(){var e=this;this.$axios({method:"post",url:this.API.queryMaterialAccountManagementPage,data:{stype:this.flagType,ymds:this.time.startTime,ymde:this.time.endTime,pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(t){var a=t.data;"1"==a.code?(e.pagerList=a.data.list,e.pageObj.total=a.data.total):e.$message({type:"error",message:"查询数据失败，请刷新重试！"})}).catch(function(e){})}}},m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ledger-deliver-container"},[a("el-table",{staticClass:"material_table",staticStyle:{width:"100%"},attrs:{data:e.pagerList,height:"400px"}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1)+" ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"a0101",label:"人员姓名","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z211",label:"材料类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z211a",label:"材料名称","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z227",label:"材料制成日期",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z124",label:"份数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z224",label:"页数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"selecttypeValue",label:"材料来源","show-overflow-tooltip":""}})],1),e._v(" "),a("div",{staticClass:"receive_page"},[a("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}})],1)],1)};m._withStripped=!0;var h={render:m,staticRenderFns:[]},v=h;var u=!1;var f=a("VU/8")(c,v,!1,function(e){u||a("Uvve")},"data-v-9f9a93d8",null);f.options.__file="src/views/materialManage/ledgerManage/LedgerDeliver.vue";var b=f.exports,_={name:"LedgerStatistical",data:function(){return{ledgerFlag:!0,flagType:"1",title:"",id:"",ledger_receive_popUp:!1,ledger_deal_popUp:!1,ledger_archive_popUp:!1,ledger_deliver_popUp:!1,ledger_back_popUp:!1,time:{startTime:"",endTime:""},flag:!1,canvasId:"myCanvas",type:"bar",options:{title:"档案材料管理台账",bottomPadding:30,radius:130},data:[],colors:["#FFAE8B","#3CB2EF","#AEFDCA","#37D8FF","#71F6F9"],chartHeight:0}},created:function(){this.getData()},methods:{startTimeChange:function(){var e=this.time.startTime.substring(0,4)+"-"+this.time.startTime.substring(4,6)+"-"+this.time.startTime.substring(6),t=this.time.endTime.substring(0,4)+"-"+this.time.endTime.substring(4,6)+"-"+this.time.endTime.substring(6);e&&e.length>0&&t&&t.length>0&&(new Date(e).getTime()>new Date(t).getTime()&&(this.$message({type:"error",message:"开始日期不能大于结束日期!"}),this.time.startTime=""))},endTimeChange:function(){var e=this.time.startTime.substring(0,4)+"-"+this.time.startTime.substring(4,6)+"-"+this.time.startTime.substring(6),t=this.time.endTime.substring(0,4)+"-"+this.time.endTime.substring(4,6)+"-"+this.time.endTime.substring(6);e&&e.length>0&&t&&t.length>0&&(new Date(e).getTime()>new Date(t).getTime()&&(this.$message({type:"error",message:"开始日期不能大于结束日期!"}),this.time.endTime=""))},getStyleBgc:function(e,t){return"background-color:"+e.color},pieChart:function(e){var t=this.$echarts.init(this.$refs.chartDiv);t.clear(),t.setOption({color:this.colors,title:{text:e,top:"10px",x:"30%",textStyle:{fontSize:16}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",backgroundColor:"rgba(255,150,15,0.5)",textStyle:{color:"rgba(0,0,0,0.85)",fontSize:"12"}},legend:{show:!1},series:[{name:"统计",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!0,center:["35%","55%"],label:{emphasis:{show:!0,textStyle:{fontSize:"15",fontWeight:"500"}}},labelLine:{normal:{show:!0}},data:this.data}]})},getData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".ledger-statistica-container"},method:"get",url:this.API.queryMaterialAccountManagement,params:{ymds:this.time.startTime,ymde:this.time.endTime,year:"",ym:""}}).then(function(t){var a=t.data;"1"==a.code?(e.data=a.data,e.data.forEach(function(t,a){t.color=e.colors[a]}),e.pieChart("零散材料库统计")):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})},search:function(){this.getData()},goDetail:function(e){e.name.match("接收")?(this.ledger_receive_popUp=!0,this.flagType="1"):e.name.match("审核")?(this.ledger_deal_popUp=!0,this.flagType="2",this.title="材料审核"):e.name.match("归档")?(this.flagType="3",this.ledger_archive_popUp=!0,this.title="材料归档",ledger_deliver_popUp):e.name.match("转递")&&(this.flagType="4",this.ledger_deliver_popUp=!0,this.title="材料转递")}},components:{receiveTable:i.a,ledgerDeal:d,ledgerDeliver:b}},y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"ledger-statistica-container",staticStyle:{height:"calc(100% - 47px)"}},[a("el-main",[a("div",{staticClass:"title"},[a("div",{staticClass:"left"}),e._v(" "),a("div",{staticClass:"right"},[a("el-date-picker",{staticStyle:{"padding-right":"10px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyyMMdd","value-format":"yyyyMMdd"},on:{change:e.startTimeChange},model:{value:e.time.startTime,callback:function(t){e.$set(e.time,"startTime",t)},expression:"time.startTime"}}),e._v(" "),a("el-date-picker",{staticStyle:{"padding-right":"10px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyyMMdd","value-format":"yyyyMMdd"},on:{change:e.endTimeChange},model:{value:e.time.endTime,callback:function(t){e.$set(e.time,"endTime",t)},expression:"time.endTime"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)]),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"data-title"},e._l(e.data,function(t,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){e.goDetail(t)}}},[a("a",{attrs:{href:"#"}},[a("div",{staticClass:"tip"},[a("div",{ref:"colorDiv",refInFor:!0,staticClass:"colordiv",style:e.getStyleBgc(t,i)}),e._v("\n\t\t\t\t\t\t\t"+e._s(t.name)+" "),a("span",{staticClass:"red"},[e._v("("+e._s(t.value)+")")])])])])}),0),e._v(" "),a("div",{staticClass:"content-right"},[a("div",{ref:"chartDiv",staticClass:"charts",staticStyle:{float:"left",width:"100%",height:"500px"},attrs:{id:"charts"}}),e._v(" "),a("div",{staticClass:"tip-bottom"},e._l(e.data,function(t,i){return a("div",{key:i,staticClass:"item item-left",on:{click:function(a){e.goDetail(t)}}},[a("a",{attrs:{href:"#"}},[a("div",{staticClass:"tip"},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(t.name)+" "),a("span",{staticClass:"red"},[e._v("("+e._s(t.value)+");")])])])])}),0)])]),e._v(" "),e.ledger_receive_popUp?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"outDialog",attrs:{title:"材料接收","append-to-body":"","close-on-click-modal":!1,width:"55%",visible:e.ledger_receive_popUp},on:{"update:visible":function(t){e.ledger_receive_popUp=t}}},[a("receiveTable",{attrs:{id:e.id,flagType:e.flagType,receiveflag:e.ledgerFlag,time:e.time}})],1):e._e(),e._v(" "),e.ledger_deal_popUp?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"outDialog",attrs:{title:e.title,"append-to-body":"","close-on-click-modal":!1,width:"55%",visible:e.ledger_deal_popUp},on:{"update:visible":function(t){e.ledger_deal_popUp=t}}},[a("ledgerDeal",{attrs:{flagType:e.flagType,time:e.time}})],1):e._e(),e._v(" "),e.ledger_archive_popUp?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"outDialog",attrs:{title:e.title,"append-to-body":"","close-on-click-modal":!1,width:"55%",visible:e.ledger_archive_popUp},on:{"update:visible":function(t){e.ledger_archive_popUp=t}}},[a("ledgerDeal",{attrs:{flagType:e.flagType,time:e.time}})],1):e._e(),e._v(" "),e.ledger_deliver_popUp?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"outDialog",attrs:{title:e.title,"append-to-body":"","close-on-click-modal":!1,width:"60%",visible:e.ledger_deliver_popUp},on:{"update:visible":function(t){e.ledger_deliver_popUp=t}}},[a("ledgerDeliver",{attrs:{flagType:e.flagType,time:e.time}})],1):e._e()],1)],1)};y._withStripped=!0;var x={render:y,staticRenderFns:[]},T=x;var w=!1;var j=a("VU/8")(_,T,!1,function(e){w||a("LqLy")},null,null);j.options.__file="src/views/materialManage/ledgerManage/LedgerManage.vue";t.default=j.exports},k2v8:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.ledger-deliver-container .receive_page[data-v-9f9a93d8] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  margin: 10px 0;\n}\n",""])},v7yI:function(e,t,a){var i=a("+w13");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("ac7977fc",i,!1,{})}});