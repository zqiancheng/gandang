webpackJsonp([94],{LIwB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),r=a.n(s),o={name:"systemParameterConfiguration",data:function(){return{tabPosition:"left",aAllData:[],radio:"yes",tripartiteEnableId:"",mechanismTree:{code:this.API.constObj.systemConfig[0].code,value:"yes"},loginNumber:{code:this.API.constObj.systemConfig[1].code,value:""},tripartiteEnable:{code:this.API.constObj.systemConfig[2].code,value:"yes"},waterWrite:{code:this.API.constObj.systemConfig[3].code,value:""},hostPort:{code:this.API.constObj.systemConfig[4].code,value:""},appToken:{code:this.API.constObj.systemConfig[5].code,value:""},hostName:{code:this.API.constObj.systemConfig[6].code,value:""},appName:{code:this.API.constObj.systemConfig[7].code,value:""},logOutTime:{code:this.API.constObj.systemConfig[8].code,value:""},PasswordUpdateDays:{code:this.API.constObj.systemConfig[9].code,value:""},SiJiaoMa:{code:this.API.constObj.systemConfig[10].code,value:"yes"},UmspFrom:{hostPort:"",appToken:"",hostName:"",appName:""},rules:{hostPort:[{required:!0,message:"请填写UMSP服务器端口",trigger:"blur"}],appToken:[{required:!0,message:"请填写程序Token",trigger:"blur"}],hostName:[{required:!0,message:"请填写UMSP服务器IP",trigger:"blur"}],appName:[{required:!0,message:"请填写程序名称",trigger:"blur"}]}}},created:function(){this.findSystemSettingsList()},methods:{findSystemSettingsList:function(){var e=this;this.$axios({loading:{isShow:!0},method:"get",url:this.API.findSystemSettingsList,params:{}}).then(function(t){var a=t.data;if("1"==a.code){e.aAllData=a.data,e.aAllData.forEach(function(t,a){switch("TripartiteEnable"==t.code&&(e.tripartiteEnableId=t.id,e.radio=t.value),t.code){case e.API.constObj.systemConfig[0].code:e.mechanismTree.value=t.value;break;case e.API.constObj.systemConfig[1].code:e.loginNumber.value=t.value;break;case e.API.constObj.systemConfig[2].code:e.tripartiteEnable.value=t.value;break;case e.API.constObj.systemConfig[3].code:e.waterWrite.value=t.value;break;case e.API.constObj.systemConfig[4].code:e.hostPort.value=t.value;break;case e.API.constObj.systemConfig[5].code:e.appToken.value=t.value;break;case e.API.constObj.systemConfig[6].code:e.hostName.value=t.value;break;case e.API.constObj.systemConfig[7].code:e.appName.value=t.value;break;case e.API.constObj.systemConfig[8].code:e.logOutTime.value=t.value;break;case e.API.constObj.systemConfig[9].code:e.PasswordUpdateDays.value=t.value;break;case e.API.constObj.systemConfig[10].code:e.SiJiaoMa.value=t.value}}),""==e.hostPort.value&&""==e.appToken.value&&""==e.hostName.value&&""==e.appName.value||(e.UmspFrom.hostPort=e.hostPort.value,e.UmspFrom.appToken=e.appToken.value,e.UmspFrom.hostName=e.hostName.value,e.UmspFrom.appName=e.appName.value);var s={name:e.API.constObj.settingsList,storeInfo:e.aAllData};e.$store.commit("saveStoreByName",s)}else e.$message({type:"error",message:"获取信息失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},saveTree:function(){var e=this,t=[];t.push(this.mechanismTree),this.$axios({loading:{isShow:!0,target:".system-parameter-configuration-container"},method:"post",url:this.API.updateSettings,data:{syslist:r()(t)}}).then(function(t){"1"==t.data.code?(e.$message.success("操作成功！"),e.findSystemSettingsList()):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},saveSiJiaoMa:function(){var e=this,t=[];t.push(this.SiJiaoMa),this.$axios({loading:{isShow:!0,target:".system-parameter-configuration-container"},method:"post",url:this.API.updateSettings,data:{syslist:r()(t)}}).then(function(t){"1"==t.data.code?(e.$message.success("操作成功！"),e.findSystemSettingsList()):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},savePasNum:function(){var e=this,t=[];t.push(this.loginNumber),t.push(this.PasswordUpdateDays),this.$axios({loading:{isShow:!0,target:".system-parameter-configuration-container"},method:"post",url:this.API.updateSettings,data:{syslist:r()(t)}}).then(function(t){"1"==t.data.code?(e.$message.success("操作成功！"),e.findSystemSettingsList()):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},savaTripar:function(){var e=this;this.$axios({loading:{isShow:!0,target:".system-parameter-configuration-container"},method:"get",url:this.API.isEnabledSanYuan,params:{id:this.tripartiteEnableId,value:this.radio}}).then(function(t){"1"==t.data.code?e.$message.success("操作三员成功！"):e.$message({type:"error",message:"操作三元失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},saveWatermark:function(){var e=this,t=[];t.push(this.waterWrite),this.$axios({loading:{isShow:!0,target:".system-parameter-configuration-container"},method:"post",url:this.API.updateSettings,data:{syslist:r()(t)}}).then(function(t){"1"==t.data.code?(e.$message.success("操作成功！"),e.findSystemSettingsList()):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},saveLogOutTime:function(){var e=this,t=[];t.push(this.logOutTime),this.$axios({loading:{isShow:!0,target:".system-parameter-configuration-container"},method:"post",url:this.API.updateSettings,data:{syslist:r()(t)}}).then(function(t){"1"==t.data.code?(e.$message.success("操作成功！"),e.findSystemSettingsList()):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},changeHostPort:function(){this.hostPort.value=this.UmspFrom.hostPort},changeAppToken:function(){this.appToken.value=this.UmspFrom.appToken},changeHostName:function(){this.hostName.value=this.UmspFrom.hostName},changeAppName:function(){this.appName.value=this.UmspFrom.appName},savaUmspList:function(){var e=this,t=[];t.push(this.hostPort),t.push(this.appToken),t.push(this.hostName),t.push(this.appName);for(var a=0;a<t.length;a++)if(""==t[a].value)return void this.$message.warning("请完整填写设置信息！");this.$axios({loading:{isShow:!0,target:".umsp-setting-container"},method:"post",url:this.API.updateSettings,data:{syslist:r()(t)}}).then(function(t){"1"==t.data.code?(e.$message.success("操作成功！"),e.findSystemSettingsList()):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})}}},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"system-parameter-configuration-container"},[a("div",{staticClass:"main"},[a("el-tabs",{staticStyle:{height:"100%"},attrs:{type:"border-card","tab-position":e.tabPosition}},[a("el-tab-pane",{attrs:{label:"是否启用三员"}},[a("div",{staticClass:"whether-enable-ternary"},[a("el-form",{attrs:{"label-width":"110px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{label:"是否启用三员："}},[a("el-radio",{attrs:{label:"yes"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"no"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("否")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"whether-enable-ternary-right"},[a("el-button",{attrs:{type:"primary"},on:{click:e.savaTripar}},[e._v("保存")])],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"是否展开机构树"}},[a("div",{staticClass:"whether-enable-watermark"},[a("el-form",{attrs:{"label-width":"130px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{label:"是否展开机构树："}},[a("el-radio",{attrs:{label:"yes"},model:{value:e.mechanismTree.value,callback:function(t){e.$set(e.mechanismTree,"value",t)},expression:"mechanismTree.value"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"no"},model:{value:e.mechanismTree.value,callback:function(t){e.$set(e.mechanismTree,"value",t)},expression:"mechanismTree.value"}},[e._v("否")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"whether-enable-watermark-right"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveTree}},[e._v("保存")])],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"是否启用四角码"}},[a("div",{staticClass:"whether-enable-watermark"},[a("el-form",{attrs:{"label-width":"130px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{label:"是否启用四角码："}},[a("el-radio",{attrs:{label:"yes"},model:{value:e.SiJiaoMa.value,callback:function(t){e.$set(e.SiJiaoMa,"value",t)},expression:"SiJiaoMa.value"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"no"},model:{value:e.SiJiaoMa.value,callback:function(t){e.$set(e.SiJiaoMa,"value",t)},expression:"SiJiaoMa.value"}},[e._v("否")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"whether-enable-watermark-right"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveSiJiaoMa}},[e._v("保存")])],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"查看档案水印设置"}},[a("div",{staticClass:"whether-enable-watermark"},[a("el-form",{attrs:{"label-width":"110px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{label:"是否启用水印："}},[a("el-radio",{attrs:{label:"yes"},model:{value:e.waterWrite.value,callback:function(t){e.$set(e.waterWrite,"value",t)},expression:"waterWrite.value"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"no"},model:{value:e.waterWrite.value,callback:function(t){e.$set(e.waterWrite,"value",t)},expression:"waterWrite.value"}},[e._v("否")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"whether-enable-watermark-right"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveWatermark}},[e._v("保存")])],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"密码设置"}},[a("div",{staticClass:"whether-enable-watermark"},[a("el-form",{attrs:{"label-width":"150px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"登录错误次数："}},[a("el-input-number",{attrs:{min:3,max:10,"step-strictly":""},model:{value:e.loginNumber.value,callback:function(t){e.$set(e.loginNumber,"value",t)},expression:"loginNumber.value"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码修改周期（天):"}},[a("el-input-number",{attrs:{min:1,"step-strictly":""},model:{value:e.PasswordUpdateDays.value,callback:function(t){e.$set(e.PasswordUpdateDays,"value",t)},expression:"PasswordUpdateDays.value"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6,offset:7}},[a("el-button",{attrs:{type:"primary"},on:{click:e.savePasNum}},[e._v("保存")])],1)],1)],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"自动退出时间"}},[a("div",{staticClass:"whether-enable-watermark"},[a("el-form",{attrs:{"label-width":"150px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"自动退出时间（分钟):"}},[a("el-input-number",{attrs:{min:1,max:720},model:{value:e.logOutTime.value,callback:function(t){e.$set(e.logOutTime,"value",t)},expression:"logOutTime.value"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"whether-enable-watermark-right"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveLogOutTime}},[e._v("保存")])],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"UMSP设置"}},[a("div",{staticClass:"umsp-setting-container"},[a("el-form",{staticStyle:{width:"60%","margin-left":"5%"},attrs:{model:e.UmspFrom,"label-width":"160px",rules:e.rules}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"UMSP服务器端口：",prop:"hostPort"}},[a("el-input",{on:{change:function(t){e.changeHostPort()}},model:{value:e.UmspFrom.hostPort,callback:function(t){e.$set(e.UmspFrom,"hostPort",t)},expression:"UmspFrom.hostPort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"程序Token：",prop:"appToken"}},[a("el-input",{on:{change:function(t){e.changeAppToken()}},model:{value:e.UmspFrom.appToken,callback:function(t){e.$set(e.UmspFrom,"appToken",t)},expression:"UmspFrom.appToken"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"UMSP服务器IP：",prop:"hostName"}},[a("el-input",{on:{change:function(t){e.changeHostName()}},model:{value:e.UmspFrom.hostName,callback:function(t){e.$set(e.UmspFrom,"hostName",t)},expression:"UmspFrom.hostName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"程序名称：",prop:"appName"}},[a("el-input",{on:{change:function(t){e.changeAppName()}},model:{value:e.UmspFrom.appName,callback:function(t){e.$set(e.UmspFrom,"appName",t)},expression:"UmspFrom.appName"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6,offset:9}},[a("el-button",{attrs:{type:"primary"},on:{click:e.savaUmspList}},[e._v("保存")])],1)],1)],1)])],1)],1)])};i._withStripped=!0;var n={render:i,staticRenderFns:[]},l=n;var m=!1;var c=a("VU/8")(o,l,!1,function(e){m||a("MnWK")},"data-v-3b543b8c",null);c.options.__file="src/views/systemMaintenance/systemParameterConfiguration/SystemParameterConfiguration.vue";t.default=c.exports},MnWK:function(e,t,a){var s=a("TmDL");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("72901559",s,!1,{})},TmDL:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.system-parameter-configuration-container[data-v-3b543b8c] {\n  height: calc(100% - 48px);\n}\n.system-parameter-configuration-container .main[data-v-3b543b8c] {\n    background-color: #fff;\n    height: 100%;\n    width: 100%;\n}\n.system-parameter-configuration-container .main .whether-enable-ternary[data-v-3b543b8c],\n    .system-parameter-configuration-container .main .whether-enable-watermark[data-v-3b543b8c] {\n      width: 100%;\n      padding: 30px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.system-parameter-configuration-container .main .whether-enable-ternary .el-form[data-v-3b543b8c],\n      .system-parameter-configuration-container .main .whether-enable-watermark .el-form[data-v-3b543b8c] {\n        width: 400px;\n}\n.system-parameter-configuration-container .main .whether-enable-ternary .whether-enable-ternary-right[data-v-3b543b8c],\n      .system-parameter-configuration-container .main .whether-enable-ternary .whether-enable-watermark-right[data-v-3b543b8c],\n      .system-parameter-configuration-container .main .whether-enable-watermark .whether-enable-ternary-right[data-v-3b543b8c],\n      .system-parameter-configuration-container .main .whether-enable-watermark .whether-enable-watermark-right[data-v-3b543b8c] {\n        width: 39%;\n}\n.system-parameter-configuration-container .main .umsp-setting-container[data-v-3b543b8c] {\n      width: 100%;\n      padding: 30px;\n}\n",""])}});