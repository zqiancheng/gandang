webpackJsonp([22,82],{"0JOO":function(e,t,a){var i=a("fmfU");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("7893bbef",i,!1,{})},"45OD":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.fileDialog /deep/ .el-dialog .el-dialog__body {\n  padding: 10px 0 0 0 !important;\n}\n.material-batch-add {\n  padding: 0 !important;\n}\n.material-batch-add h3 {\n    font-size: 16px;\n    color: #fff;\n    background-color: #369FDD;\n    line-height: 38px;\n    text-indent: 1em;\n}\n.material-batch-add .el-table {\n    margin-top: 10px;\n}\n.material-batch-add .el-table__body tr.current-row > td {\n    background: #DCEBFA !important;\n    color: #606266;\n}\n.material-batch-add .dialog-footer {\n    padding: 10px 0;\n    text-align: center;\n}\n.material-batch-add .material_page {\n    /*margin-top: 10px;*/\n    text-align: right;\n}\n",""])},"8kp7":function(e,t,a){var i=a("NixQ");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("375607ac",i,!1,{})},A0Cp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),n=a.n(i),r=a("cMGX"),s=a("JoXd"),o=a("a6hc"),l={name:"MaterialBatchAdd",props:["selectMaterial","isEdit"],data:function(){return{isBackObj:!0,source:"0",innerVisible:!1,pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},materialForm:{e01z211a:"",e01z227:"",e01z124:"",e01z224:1,e01z231:"",e01z211:"",e01z217:"",a0100:"",a0100s:"",id:""},personlist:[],showPersonList:[],a0101:"",a0111a:"",a0192a:"",rules:{e01z211a:[{required:!0,message:"请输入材料名称",trigger:"change"},{min:0,max:this.fieldsConfig.commonLength.eighty,message:"长度必须在0到 "+this.fieldsConfig.commonLength.eighty+"位字符之间",trigger:"blur"}],e01z227:[{required:!0,message:"请选择制成日期",trigger:"change"}],e01z211:[{required:!0,message:"请选择材料类号",trigger:"change"}],e01z124:[{required:!0,message:"请选择分数",trigger:"change"}],e01z224:[{required:!0,message:"请选中页数",trigger:"change"}],e01z231:[{min:0,max:this.fieldsConfig.commonLength.fiveHundred,message:"长度必须在0到 "+this.fieldsConfig.commonLength.fiveHundred+"位字符之间",trigger:"blur"}]},materialTypes:[],type:0,eList:[]}},created:function(){if(this.materialForm.e01z227=new Date,this.isEdit){this.materialForm=JSON.parse(n()(this.selectMaterial)),this.materialForm.e01z211=this.selectMaterial.sysId;var e={};e.a0101=this.materialForm.a0101,e.a0111a=this.materialForm.a0111a,e.a0192a=this.materialForm.a0192a,this.showPersonList.push(e)}},methods:{applyTypeCall:function(e){this.materialForm.e01z211=e.codeno,this.materialForm.e01z217=e.code},findA01sById:function(){var e=this;this.$axios({method:"get",url:this.API.findA01sById,params:{id:this.materialForm.id}}).then(function(t){var a=t.data;"1"==a.code?(e.pageObj.total=a.data.total,e.personlist=a.data.list,e.showPersonList=e.commonFun.localPaging(e.personlist,e.pageObj.pageIndex,e.pageObj.pageSize)):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})},getChioceFiles:function(e){var t=this;this.personlist=this.commonFun.concatArray(this.personlist,e,"a0100"),this.pageObj.total=this.personlist.length,this.showPersonList=this.commonFun.localPaging(this.personlist,this.pageObj.pageIndex,this.pageObj.pageSize),this.innerVisible=!1,this.eList=[],this.personlist.forEach(function(e){var a={};a.a0100=e.a0100,a.a0101=e.a0101,t.eList.push(a)})},handleChangeScore:function(e){},handleChange:function(e){},save:function(e){var t=this;this.materialForm.e01z124>1e7?this.$message("输入份数过大，请重新输入！"):this.materialForm.e01z224>1e7?this.$message("输入页数过大，请重新输入！"):(this.materialForm.a0100s=this.commonFun.joinTgetherId(this.personlist,this.materialForm.a0100s,"a0100"),this.$refs[e].validate(function(e){if(!e)return!1;!t.isEdit&&t.eList.length<=0?t.$confirm("请选择干部人员！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0}):t.isEdit?t.eidtMaterial():t.doAddMaterial()}))},doAddMaterial:function(){var e=this,t={e01z124:this.materialForm.e01z124,e01z211:this.materialForm.e01z211,e01z211a:this.materialForm.e01z211a,e01z217:this.materialForm.e01z217,e01z224:this.materialForm.e01z224,e01z227:this.commonFun.dateFormat(this.materialForm.e01z227,"yyyyMMdd"),e01z231:this.materialForm.e01z231,sourcetype:0,eList:this.eList},a=n()(t);this.$axios({method:"post",url:this.API.addBulkMaterial,data:{resultJson:a}}).then(function(t){"1"==t.data.code?(""==e.materialForm.id?e.$message({message:"添加数据成功！",type:"success"}):e.$message({message:"编辑数据成功！",type:"success"}),e.$emit("back",e.materialForm)):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(e){})},eidtMaterial:function(){var e=this;this.$axios({method:"post",url:this.API.updateBulkMaterial,data:{e01z000:this.materialForm.e01z000,a0101:this.materialForm.a0101,a0100:this.materialForm.a0100,e01z124:this.materialForm.e01z124,e01z211:this.materialForm.e01z211,e01z211a:this.materialForm.e01z211a,e01z217:this.materialForm.e01z217,e01z224:this.materialForm.e01z224,e01z227:this.commonFun.dateFormat(this.materialForm.e01z227,"yyyyMMdd"),e01z231:this.materialForm.e01z231}}).then(function(t){"1"==t.data.code?(e.$message.success("编辑数据成功！"),e.$emit("back",e.materialForm)):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(e){})},deletesFn2:function(e,t){var a=this;this.$confirm("您确认删除这条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.personlist.splice(t,1),a.pageObj.total=a.personlist.length,a.showPersonList=a.commonFun.localPaging(a.personlist,a.pageObj.pageIndex,a.pageObj.pageSize)})},handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.showPersonList=this.commonFun.localPaging(this.personlist,this.pageObj.pageIndex,this.pageObj.pageSize)},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.showPersonList=this.commonFun.localPaging(this.personlist,this.pageObj.pageIndex,this.pageObj.pageSize)}},components:{pagination:r.a,fileSelection:s.a,materialTypeSelect:o.a}},c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"material-batch-add"},[a("el-form",{ref:"materialForm",staticStyle:{"margin-right":"15px"},attrs:{rules:e.rules,model:e.materialForm,"label-width":"130px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{label:"材料名称：",prop:"e01z211a"}},[a("el-input",{model:{value:e.materialForm.e01z211a,callback:function(t){e.$set(e.materialForm,"e01z211a",t)},expression:"materialForm.e01z211a"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"材料类别：",prop:"e01z211"}},[a("materialTypeSelect",{attrs:{chioceOptionId:e.materialForm.e01z211,isBackObj:e.isBackObj,isAll:!1,isType:!1},on:{applyTypeCall:e.applyTypeCall}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"材料形成时间：",prop:"e01z227"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",format:"yyyyMMdd","value-format":"yyyyMMdd"},model:{value:e.materialForm.e01z227,callback:function(t){e.$set(e.materialForm,"e01z227",t)},expression:"materialForm.e01z227"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"份数：",prop:"e01z124",id:"e01z124","label-width":"80px"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:1,max:1e8},on:{change:e.handleChangeScore},model:{value:e.materialForm.e01z124,callback:function(t){e.$set(e.materialForm,"e01z124",t)},expression:"materialForm.e01z124"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"页数：",prop:"e01z224"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:1,max:1e8},on:{change:e.handleChange},model:{value:e.materialForm.e01z224,callback:function(t){e.$set(e.materialForm,"e01z224",t)},expression:"materialForm.e01z224"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注：",prop:"e01z231"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:e.materialForm.e01z231,callback:function(t){e.$set(e.materialForm,"e01z231",t)},expression:"materialForm.e01z231"}})],1)],1)],1)],1),e._v(" "),a("el-row",[e.isEdit?e._e():a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(t){e.innerVisible=!0}}},[e._v("添加人员")])],1),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"fileDialog",staticStyle:{height:"97%",overflow:"hidden"},attrs:{width:"55%","close-on-click-modal":!1,title:"添加人员",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[a("fileSelection",{attrs:{type:e.type,source:e.source,checkedlist:e.personlist},on:{GetChioceFiles:e.getChioceFiles}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.showPersonList,"highlight-current-row":"","empty-text":"您还没有添加数据，请先选择添加人员！",height:"180px"}},[a("el-table-column",{attrs:{label:"序号",align:"center","min-width":"6%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1))]}}])}),e._v(" "),e.isEdit?e._e():a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",icon:"el-icon-close",circle:"",title:"删除"},on:{click:function(a){e.deletesFn2(t.row,t.$index)}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"a0101",readonly:"isEdit",label:"姓名",width:"150px;","min-width":"11%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0111a",readonly:"isEdit",label:"籍贯",width:"200px;",align:"left","min-width":"23%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0192a",readonly:"isEdit",label:"工作单位及职务","show-overflow-tooltip":"","min-width":"50%"}})],1),e._v(" "),e.isEdit?e._e():a("div",{staticClass:"material_page"},[a("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save("materialForm")}}},[e._v("保存")])],1)],1)};c._withStripped=!0;var d={render:c,staticRenderFns:[]},p=d;var m=!1;var h=a("VU/8")(l,p,!1,function(e){m||a("LZ+f")},null,null);h.options.__file="src/views/materialManage/materialBatchReceive/MaterialBatchAdd.vue";t.default=h.exports},ACDy:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.fileSelection .el-form[data-v-20527db2] {\n  padding: 0 10px !important;\n  margin-bottom: -10px;\n}\n.fileSelection .filesTable[data-v-20527db2] {\n  width: 100%;\n}\n",""])},LIVw:function(e,t,a){var i=a("m7uI");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("430f5234",i,!1,{})},"LZ+f":function(e,t,a){var i=a("45OD");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("221eacf7",i,!1,{})},NixQ:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.right[data-v-59a9ac72] {\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1;\n\t        flex: 1;\n\t-webkit-box-sizing: border-box;\n\t        box-sizing: border-box;\n\t/*overflow-y: auto;\n\tmax-height: 600px;*/\n}\n.right ul[data-v-59a9ac72] {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tborder-bottom: 1px solid #DFDFDF;\n\t/*border-left: 1px solid #DFDFDF;*/\n}\n.right .materialHead[data-v-59a9ac72] {\n\tbackground: #D7EAF6;\n\tborder-top: 1px solid #DFDFDF;\n}\n.right .materialHead .required[data-v-59a9ac72] {\n\tcolor: red;\n\tmargin-left: 10px;\n}\n.right .materialHead li[data-v-59a9ac72] {\n\tfont-size: 14px;\n\tfont-weight: 400;\n}\n.right ul li[data-v-59a9ac72] {\n\t/*text-align: center;*/\n\t-webkit-box-sizing: border-box;\n\t        box-sizing: border-box;\n\theight: 45px;\n\tline-height: 45px;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\t/*border-right: 1px solid #DFDFDF;*/\n}\n.right ul li input[data-v-59a9ac72] {\n\twidth: 95%;\n\theight: 35px;\n\tborder: 1px solid #DFDFDF;\n\tline-height: 35px;\n\ttext-align: center;\n\tborder-radius: 3px;\n}\n.right ul li input[data-v-59a9ac72]:hover {\n\tborder: 1px solid #DFDFDF;\n}\n.right .actions span[data-v-59a9ac72] {\n\tcursor: pointer;\n}\n.right ul li[data-v-59a9ac72]:nth-child(1) {\n\ttext-align: center;\n}\n.right ul li[data-v-59a9ac72]:nth-child(2) {\n\tcursor: pointer;\n}\n.right ul li[data-v-59a9ac72]:nth-child(3) {\n\tcursor: pointer;\n}\n.right ul li[data-v-59a9ac72]:nth-child(4) {\n}\n.right ul li[data-v-59a9ac72]:nth-child(5) {\n\tcursor: pointer;\n}\n.right ul li[data-v-59a9ac72]:nth-child(6) {\n}\n.right ul li[data-v-59a9ac72]:nth-child(8) {\n\t/*border-right: 1px solid #DFDFDF;*/\n}\n.selectedBg[data-v-59a9ac72] {\n\tbackground-color: #DCEBFA !important;\n}\n.footer[data-v-59a9ac72]{\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t    -ms-flex-pack: center;\n\t        justify-content: center;\n\t-webkit-box-align: center;\n\t    -ms-flex-align: center;\n\t        align-items: center;\t\n\tpadding: 10px 0;\n}\n",""])},Pxfh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),n=a.n(i),r=a("cMGX"),s=a("A0Cp"),o=a("Ev+9"),l={name:"FileSelection",props:["isledger","checkedlist","source","type"],components:{Pagination:r.a,OrganizationTreeSelect:o.a},data:function(){return{defaultDepartmentID:"",ledger:!1,tableData:[],pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},multipleSelection:[],searchForm:{departmentID:"",nameAndPinyin:""}}},created:function(){this.isledger&&(this.ledger=this.isledger)},mounted:function(){this.getData()},computed:{},methods:{getRowKeys:function(e){return e.a0100},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getData()},orgTreeSelectCall:function(e){this.searchForm.departmentID=e?e.id:""},getData:function(){var e=this,t="";t="0"==this.source?this.API.queryArchivistsPage:this.API.findA01,this.$axios({loading:{isShow:!0,target:".filesTable"},method:"post",url:t,data:{b0000:this.searchForm.departmentID,a0101:this.searchForm.nameAndPinyin,type:this.type,pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(t){var a=t.data;"1"==a.code?(e.tableData=a.data.list,e.pageObj.total=a.data.total):e.$message({type:"error",message:"查询档案失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},search:function(){this.pageObj.pageIndex=this.API.constObj.pageIndex,this.getData()},clickRow:function(e){this.$emit("getChioceFiles",e)}}},c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fileSelection"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",[a("el-input",{attrs:{clearable:"",placeholder:"输入姓名或拼音"},model:{value:e.searchForm.nameAndPinyin,callback:function(t){e.$set(e.searchForm,"nameAndPinyin",t)},expression:"searchForm.nameAndPinyin"}})],1),e._v(" "),a("el-form-item",[a("OrganizationTreeSelect",{attrs:{defaultOptions:e.defaultDepartmentID},on:{OrgTreeSelectCall:e.orgTreeSelectCall}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"filesTable",attrs:{data:e.tableData,height:"450px"},on:{"row-click":e.clickRow}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"60px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1)+" ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"a0101",label:"姓名",width:"120px","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0111a",label:"籍贯",width:"170px","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0192a",label:"工作单位及职务","show-overflow-tooltip":""}})],1),e._v(" "),a("div",[a("Pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}})],1)],1)};c._withStripped=!0;var d={render:c,staticRenderFns:[]},p=d;var m=!1;var h=a("VU/8")(l,p,!1,function(e){m||a("dse+")},"data-v-20527db2",null);h.options.__file="src/components/RadioPersonnelSelection.vue";var g=h.exports,u=a("WNiX"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right",on:{click:e.resetAllState}},[a("div",{staticStyle:{display:"flex"}},[a("el-button",{staticStyle:{"margin-bottom":"10px","margin-left":"10px"},attrs:{type:"primary"},on:{click:e.addNewMaterial}},[e._v("添加")])],1),e._v(" "),a("div",{ref:"head",staticClass:"materialHead"},[e._m(0)]),e._v(" "),a("div",{ref:"tableBody",staticClass:"materialBody",staticStyle:{height:"180px",overflow:"hidden","border-bottom":"1px solid #e4e7ed"},attrs:{id:"outdiv"}},[a("div",{ref:"tableContent",staticStyle:{height:"100%","overflow-y":"scroll","overflow-x":"hidden"},attrs:{id:"innerDiv"}},e._l(e.dataArr,function(t,i){return a("ul",{key:i,class:{selectedBg:i===e.currentIndex},on:{"!click":function(t){e.getCurrent(i)}}},[a("li",{staticStyle:{width:"5%"}},[e._v(e._s(i+1))]),e._v(" "),a("li",{ref:"content",refInFor:!0,staticStyle:{width:"15%"},on:{click:function(t){t.stopPropagation(),e.bundleClick(i,"e01z211atip",t)}}},[t.inEdit&&t.inEdit.e01z211atip?a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.e01z211a,expression:"row.e01z211a"}],attrs:{type:"text"},domProps:{value:t.e01z211a},on:{input:function(a){a.target.composing||e.$set(t,"e01z211a",a.target.value)}}}):a("span",[e._v(e._s(t.e01z211a))])]),e._v(" "),a("li",{ref:"content",refInFor:!0,staticStyle:{width:"15%"},on:{click:function(t){t.stopPropagation(),e.bundleClick(i,"e01z211tip",t)}}},[t.inEdit&&t.inEdit.e01z211tip?a("el-select",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"95%"},attrs:{clearable:"",placeholder:"请选择"},on:{change:function(a){e.changeChioceId(t)}},model:{value:t.e01z211,callback:function(a){e.$set(t,"e01z211",a)},expression:"row.e01z211"}},e._l(e.dataList,function(e,t){return a("el-option",{key:t,attrs:{label:e.codeno+"、"+e.name,value:e.codeno,name:"item.codeno"}})}),1):a("span",[e._v(e._s(t.e01z211name))])],1),e._v(" "),a("li",{ref:"content",refInFor:!0,staticStyle:{width:"13%"},on:{click:function(t){t.stopPropagation(),e.bundleClick(i,"e01z124tip",t)}}},[t.inEdit&&t.inEdit.e01z124tip?a("el-input-number",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"95%"},attrs:{"controls-position":"right",min:1},model:{value:t.e01z124,callback:function(a){e.$set(t,"e01z124",a)},expression:"row.e01z124"}}):a("span",[e._v(e._s(t.e01z124))])],1),e._v(" "),a("li",{ref:"content",refInFor:!0,staticStyle:{width:"13%"},on:{click:function(t){t.stopPropagation(),e.bundleClick(i,"e01z224tip",t)}}},[t.inEdit&&t.inEdit.e01z224tip?a("el-input-number",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"95%"},attrs:{"controls-position":"right",min:1},model:{value:t.e01z224,callback:function(a){e.$set(t,"e01z224",a)},expression:"row.e01z224"}}):a("span",[e._v(e._s(t.e01z224))])],1),e._v(" "),a("li",{ref:"content",refInFor:!0,staticStyle:{width:"15.5%"},on:{click:function(t){t.stopPropagation(),e.bundleClick(i,"e01z227tip",t)}}},[t.inEdit&&t.inEdit.e01z227tip?a("el-date-picker",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"99%"},attrs:{type:"date",placeholder:"选择日期",format:"yyyyMMdd","value-format":"yyyyMMdd"},model:{value:t.e01z227,callback:function(a){e.$set(t,"e01z227",a)},expression:"row.e01z227"}}):a("span",[e._v(e._s(t.e01z227))])],1),e._v(" "),a("li",{ref:"content",refInFor:!0,staticStyle:{width:"15.5%"},on:{click:function(t){t.stopPropagation(),e.bundleClick(i,"e01z231tip",t)}}},[t.inEdit&&t.inEdit.e01z231tip?a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.e01z231,expression:"row.e01z231"}],staticStyle:{width:"95%"},attrs:{type:"text"},domProps:{value:t.e01z231},on:{input:function(a){a.target.composing||e.$set(t,"e01z231",a.target.value)}}}):a("span",[e._v(e._s(t.e01z231))])]),e._v(" "),a("li",{staticClass:"actions",staticStyle:{width:"9%","border-right":"none"}},[a("el-button",{attrs:{type:"success",icon:"el-icon-close",circle:"",title:"删除"},on:{click:function(t){e.deleteMaterial(i)}}})],1)])}),0)]),e._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveNewMaterial}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.cancle}},[e._v("取消")])],1)])};f._withStripped=!0;var b={render:f,staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",{staticStyle:{width:"5%"}},[e._v("序 号")]),e._v(" "),a("li",{staticStyle:{width:"15%"}},[e._v("材料名称 "),a("i",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("li",{staticStyle:{width:"15%"}},[e._v("材料类别"),a("i",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("li",{staticStyle:{width:"13%"}},[e._v("份数"),a("i",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("li",{staticStyle:{width:"13%"}},[e._v("页数"),a("i",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("li",{staticStyle:{width:"15.5%"}},[e._v("形成时间"),a("i",{staticClass:"required"},[e._v("*")])]),e._v(" "),a("li",{staticStyle:{width:"15.5%"}},[e._v("备注")]),e._v(" "),a("li",{staticStyle:{width:"9%"}},[e._v("操 作")])])}]},v=b;var y=!1;var z=function(e){y||a("8kp7")},x=a("VU/8")(u.a,v,!1,z,"data-v-59a9ac72",null);x.options.__file="src/views/materialManage/materialBatchReceive/EditMaterial.vue";var _={name:"AddRegisterByMaterial",components:{radioPersonnelSelection:g,editMaterial:x.exports},data:function(){return{innerVisible:!1,type:"0",source:"0",personInfoFrom:{id:"",a0101:"",a0111a:"",a0192a:""},personMaterialList:[],rules:{a0101:[{required:!0,message:"请选择姓名",trigger:"blur"}],a0111a:[{required:!0,message:"请选择籍贯",trigger:"blur"}],a0192a:[{required:!0,message:"请选择现职单位和职位",trigger:"blur"}]}}},methods:{getChioceFiles:function(e){this.personInfoFrom=e,this.innerVisible=!1},getMaterialList:function(e){""!==e?(this.personMaterialList=e,this.save("personInfoFrom")):this.$emit("addRegisterBack","cancle")},save:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a={a0100:t.personInfoFrom.a0100,a0101:t.personInfoFrom.a0101,sourcetype:1,eList:t.personMaterialList},i=n()(a);t.$axios({method:"post",url:t.API.addBulkMaterial,data:{resultJson:i}}).then(function(e){1==e.data.code?(t.$message.success("添加材料成功！"),t.$emit("addRegisterBack")):t.$message.error("操作失败，请刷新重试！")}).catch(function(e){})})},cancle:function(){this.$emit("backAdd","cancle")}}},w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-registerby-material"},[a("el-row",[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(t){e.innerVisible=!0}}},[e._v("添加人员")])],1),e._v(" "),a("el-form",{ref:"personInfoFrom",staticStyle:{"margin-right":"10px"},attrs:{rules:e.rules,model:e.personInfoFrom,"label-width":"150px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名：",prop:"a0101"}},[a("el-input",{attrs:{readonly:""},model:{value:e.personInfoFrom.a0101,callback:function(t){e.$set(e.personInfoFrom,"a0101",t)},expression:"personInfoFrom.a0101"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"籍贯：",prop:"a0111a"}},[a("el-input",{attrs:{readonly:""},model:{value:e.personInfoFrom.a0111a,callback:function(t){e.$set(e.personInfoFrom,"a0111a",t)},expression:"personInfoFrom.a0111a"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"工作单位及职务：",prop:"a0192a"}},[a("el-input",{attrs:{readonly:""},model:{value:e.personInfoFrom.a0192a,callback:function(t){e.$set(e.personInfoFrom,"a0192a",t)},expression:"personInfoFrom.a0192a"}})],1)],1)],1)],1),e._v(" "),a("editMaterial",{on:{getMaterialList:e.getMaterialList}}),e._v(" "),e.innerVisible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"radioDialog",attrs:{width:"55","close-on-click-modal":!1,title:"添加人员",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[a("radioPersonnelSelection",{attrs:{source:e.source,type:e.type},on:{getChioceFiles:e.getChioceFiles}})],1):e._e()],1)};w._withStripped=!0;var F={render:w,staticRenderFns:[]},k=F;var S=!1;var M=a("VU/8")(_,k,!1,function(e){S||a("0JOO")},"data-v-5ed58dc8",null);M.options.__file="src/views/materialManage/materialBatchReceive/AddRegisterByMaterial.vue";var I=M.exports,j=a("JoXd"),C=a("a6hc"),$={name:"MaterialBatchEdit",props:["selectMaterial","isEdit"],data:function(){return{isBackObj:!0,source:"0",innerVisible:!1,pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},materialForm:{e01z211a:"",e01z227:"",e01z124:"",e01z224:1,e01z231:"",e01z211:"",e01z217:"",a0100:"",a0100s:"",id:""},personlist:[],showPersonList:[],a0101:"",a0111a:"",a0192a:"",rules:{e01z211a:[{required:!0,message:"请输入材料名称",trigger:"change"},{min:0,max:this.fieldsConfig.commonLength.eighty,message:"长度必须在0到 "+this.fieldsConfig.commonLength.eighty+"位字符之间",trigger:"blur"}],e01z227:[{required:!0,message:"请选择制成日期",trigger:"change"}],e01z211:[{required:!0,message:"请选择材料类号",trigger:"change"}],e01z124:[{required:!0,message:"请选择分数",trigger:"change"}],e01z224:[{required:!0,message:"请选中页数",trigger:"change"}],e01z231:[{min:0,max:this.fieldsConfig.commonLength.fiveHundred,message:"长度必须在0到 "+this.fieldsConfig.commonLength.fiveHundred+"位字符之间",trigger:"blur"}]},materialTypes:[],type:0,eList:[]}},created:function(){if(this.materialForm.e01z227=new Date,this.isEdit){this.materialForm=JSON.parse(n()(this.selectMaterial)),this.materialForm.e01z211=this.selectMaterial.sysId;var e={};e.a0101=this.materialForm.a0101,e.a0111a=this.materialForm.a0111a,e.a0192a=this.materialForm.a0192a,this.showPersonList.push(e)}},methods:{applyTypeCall:function(e){this.materialForm.e01z211=e.codeno,this.materialForm.e01z217=e.code},findA01sById:function(){var e=this;this.$axios({method:"get",url:this.API.findA01sById,params:{id:this.materialForm.id}}).then(function(t){var a=t.data;"1"==a.code?(e.pageObj.total=a.data.total,e.personlist=a.data.list,e.showPersonList=e.commonFun.localPaging(e.personlist,e.pageObj.pageIndex,e.pageObj.pageSize)):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})},getChioceFiles:function(e){var t=this;this.personlist=this.commonFun.concatArray(this.personlist,e,"a0100"),this.pageObj.total=this.personlist.length,this.showPersonList=this.commonFun.localPaging(this.personlist,this.pageObj.pageIndex,this.pageObj.pageSize),this.innerVisible=!1,this.eList=[],this.personlist.forEach(function(e){var a={};a.a0100=e.a0100,a.a0101=e.a0101,t.eList.push(a)})},handleChangeScore:function(e){},handleChange:function(e){},save:function(e){var t=this;this.materialForm.e01z124>1e7?this.$message("输入份数过大，请重新输入！"):this.materialForm.e01z224>1e7?this.$message("输入页数过大，请重新输入！"):(this.materialForm.a0100s=this.commonFun.joinTgetherId(this.personlist,this.materialForm.a0100s,"a0100"),this.$refs[e].validate(function(e){if(!e)return!1;t.eidtMaterial()}))},eidtMaterial:function(){var e=this;this.$axios({method:"post",url:this.API.updateBulkMaterial,data:{e01z000:this.materialForm.e01z000,a0101:this.materialForm.a0101,a0100:this.materialForm.a0100,e01z124:this.materialForm.e01z124,e01z211:this.materialForm.e01z211,e01z211a:this.materialForm.e01z211a,e01z217:this.materialForm.e01z217,e01z224:this.materialForm.e01z224,e01z227:this.commonFun.dateFormat(this.materialForm.e01z227,"yyyyMMdd"),e01z231:this.materialForm.e01z231}}).then(function(t){"1"==t.data.code?(e.$message.success("编辑数据成功！"),e.$emit("back",e.materialForm)):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(e){})}},components:{pagination:r.a,fileSelection:j.a,materialTypeSelect:C.a}},O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"material-batch-add"},[a("el-form",{ref:"materialForm",staticStyle:{"margin-right":"15px"},attrs:{rules:e.rules,model:e.materialForm,"label-width":"130px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{label:"材料名称：",prop:"e01z211a"}},[a("el-input",{model:{value:e.materialForm.e01z211a,callback:function(t){e.$set(e.materialForm,"e01z211a",t)},expression:"materialForm.e01z211a"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"材料类别：",prop:"e01z211"}},[a("materialTypeSelect",{attrs:{chioceOptionId:e.materialForm.e01z211,isBackObj:e.isBackObj,isAll:!1,isType:!1},on:{applyTypeCall:e.applyTypeCall}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"材料形成时间：",prop:"e01z227"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",format:"yyyyMMdd","value-format":"yyyyMMdd"},model:{value:e.materialForm.e01z227,callback:function(t){e.$set(e.materialForm,"e01z227",t)},expression:"materialForm.e01z227"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"份数：",prop:"e01z124",id:"e01z124","label-width":"80px"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:1,max:1e8},on:{change:e.handleChangeScore},model:{value:e.materialForm.e01z124,callback:function(t){e.$set(e.materialForm,"e01z124",t)},expression:"materialForm.e01z124"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"页数：",prop:"e01z224"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:1,max:1e8},on:{change:e.handleChange},model:{value:e.materialForm.e01z224,callback:function(t){e.$set(e.materialForm,"e01z224",t)},expression:"materialForm.e01z224"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名："}},[a("el-input",{attrs:{disabled:""},model:{value:e.showPersonList[0].a0101,callback:function(t){e.$set(e.showPersonList[0],"a0101",t)},expression:"showPersonList[0].a0101"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"籍贯："}},[a("el-input",{attrs:{disabled:""},model:{value:e.showPersonList[0].a0111a,callback:function(t){e.$set(e.showPersonList[0],"a0111a",t)},expression:"showPersonList[0].a0111a"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"工作单位及职务："}},[a("el-input",{attrs:{disabled:""},model:{value:e.showPersonList[0].a0192a,callback:function(t){e.$set(e.showPersonList[0],"a0192a",t)},expression:"showPersonList[0].a0192a"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注：",prop:"e01z231"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:e.materialForm.e01z231,callback:function(t){e.$set(e.materialForm,"e01z231",t)},expression:"materialForm.e01z231"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save("materialForm")}}},[e._v("保存")])],1)],1)};O._withStripped=!0;var D={render:O,staticRenderFns:[]},T=D;var P=!1;var A=a("VU/8")($,T,!1,function(e){P||a("LIVw")},null,null);A.options.__file="src/views/materialManage/materialBatchReceive/MaterialBatchEdit.vue";var L=A.exports,B={name:"MaterialBatchReceive",components:{pagination:r.a,materialBatchAdd:s.default,materialBatchEdit:L,addRegisterByMaterial:I},data:function(){return{flag:!1,dailogTitleType:"",dialogStatus:"",selectMaterial:"",addmaterial_popUp:!1,pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},materialList:[],a0101:"",e01z211a:"",startTime:"",endTime:"",tableHeight:0,addMaterialRegistered_popUp:!1,firstFlag:!0,isEdit:!1,editmaterial_popUp:!1}},created:function(){this.getMaterialList()},watch:{materialList:{handler:function(e){this.firstFlag&&(this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-40-52-93,this.firstFlag=!1)}}},methods:{startTimeChange:function(){var e=this.startTime.substring(0,4)+"-"+this.startTime.substring(4,6)+"-"+this.startTime.substring(6),t=this.endTime.substring(0,4)+"-"+this.endTime.substring(4,6)+"-"+this.endTime.substring(6);e&&e.length>0&&t&&t.length>0&&(new Date(e).getTime()>new Date(t).getTime()&&(this.$message({type:"error",message:"开始日期不能大于结束日期!"}),this.startTime=""))},endTimeChange:function(){var e=this.startTime.substring(0,4)+"-"+this.startTime.substring(4,6)+"-"+this.startTime.substring(6),t=this.endTime.substring(0,4)+"-"+this.endTime.substring(4,6)+"-"+this.endTime.substring(6);e&&e.length>0&&t&&t.length>0&&(new Date(e).getTime()>new Date(t).getTime()&&(this.$message({type:"error",message:"开始日期不能大于结束日期!"}),this.endTime=""))},delMaterial:function(){""==this.selectMaterial?this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确认",showCancelButton:!1,type:"warning",center:!0}):this.doDel()},doDel:function(){var e=this;this.$axios({loading:{isShow:!0,target:".material_Batch_receive_container"},method:"get",url:this.API.deleteBulkMaterial,params:{e01z000:this.selectMaterial.e01z000}}).then(function(t){"1"==t.data.code?(e.selectMaterial="",e.$message.success("删除数据成功！"),e.getMaterialList()):e.$message.error("删除数据失败，请刷新重试！")}).catch(function(e){})},handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.getMaterialList()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getMaterialList()},getMaterialList:function(){var e=this;this.$axios({loading:{isShow:!0,target:".material_Batch_receive_container"},method:"post",url:this.API.queryBulkMaterialPage,data:{a0101:this.a0101,startTime:this.startTime,e01z211a:this.e01z211a,endTime:this.endTime,pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(t){var a=t.data;"1"==a.code?(e.materialList=a.data.list,e.pageObj.total=a.data.total):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})},search:function(){this.pageObj.pageIndex=this.API.constObj.pageIndex,this.getMaterialList()},addPersonnelRegistration:function(){this.dailogTitleType="按人员登记",this.isEdit=!1,this.addmaterial_popUp=!0,this.dialogStatus="addEquipment"},editMaterial:function(){""==this.selectMaterial?this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0}):(this.dailogTitleType="编辑",this.editmaterial_popUp=!0,this.isEdit=!0,this.dialogStatus="editEquipent")},clickRow:function(e){this.selectMaterial=e},getBack:function(e){this.selectMaterial="",this.addmaterial_popUp=!1,this.editmaterial_popUp=!1,this.getMaterialList()},addRegisterBack:function(e){this.addMaterialRegistered_popUp=!1,"cancle"!==e&&this.getMaterialList()}}},E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"material_Batch_receive_container"},[a("el-main",[a("div",{staticClass:"title"},[a("div",{staticClass:"left"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addPersonnelRegistration}},[e._v("按人员登记")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addMaterialRegistered_popUp=!0}}},[e._v("按材料登记")]),e._v(" "),a("el-button",{attrs:{type:"primary",material:e.selectMaterial},on:{click:e.editMaterial}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.delMaterial}},[e._v("删除")])],1),e._v(" "),a("div",{staticClass:"right"},[a("el-input",{attrs:{placeholder:"档案人员名称",clearable:""},model:{value:e.a0101,callback:function(t){e.a0101=t},expression:"a0101"}}),e._v(" "),a("el-input",{attrs:{placeholder:"材料名称",clearable:""},model:{value:e.e01z211a,callback:function(t){e.e01z211a=t},expression:"e01z211a"}}),e._v(" "),a("el-date-picker",{attrs:{clearable:"",type:"date",format:"yyyyMMdd","value-format":"yyyyMMdd",placeholder:"材料开始日期"},on:{change:e.startTimeChange},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),e._v(" "),a("el-date-picker",{attrs:{clearable:"",type:"date",placeholder:"材料结束日期",format:"yyyyMMdd","value-format":"yyyyMMdd"},on:{change:e.endTimeChange},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)]),e._v(" "),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.materialList,height:e.tableHeight},on:{"row-click":e.clickRow}},[a("el-table-column",{attrs:{label:"序号",align:"center","min-width":"6%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"a0101",label:"档案人员","show-overflow-tooltip":"","min-width":"12%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z211a",label:"材料名称","show-overflow-tooltip":"","min-width":"10%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sysName",label:"材料类别","show-overflow-tooltip":"","min-width":"12%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z124",label:"份数","min-width":"9%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z224",label:"页数","min-width":"9%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z227",label:"材料形成日期","min-width":"15%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sourcetypeName",label:"材料来源","min-width":"10"}}),e._v(" "),a("el-table-column",{attrs:{prop:"e01z231",label:"备注","show-overflow-tooltip":"","min-width":"17%"}})],1),e._v(" "),a("div",[a("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}})],1)],1),e._v(" "),e.addmaterial_popUp?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"outDialog",attrs:{"append-to-body":"","close-on-click-modal":!1,title:e.dailogTitleType,width:"65%",visible:e.addmaterial_popUp},on:{"update:visible":function(t){e.addmaterial_popUp=t}}},[a("materialBatchAdd",{attrs:{isEdit:e.isEdit,selectMaterial:e.selectMaterial},on:{back:e.getBack}})],1):e._e(),e._v(" "),e.editmaterial_popUp?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"outDialog",attrs:{"append-to-body":"","close-on-click-modal":!1,title:"编辑",width:"65%",visible:e.editmaterial_popUp},on:{"update:visible":function(t){e.editmaterial_popUp=t}}},[a("material-batch-edit",{attrs:{isEdit:e.isEdit,selectMaterial:e.selectMaterial},on:{back:e.getBack}})],1):e._e(),e._v(" "),e.addMaterialRegistered_popUp?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"outDialog",attrs:{"append-to-body":"","close-on-click-modal":!1,title:"按材料登记",width:"65%",visible:e.addMaterialRegistered_popUp},on:{"update:visible":function(t){e.addMaterialRegistered_popUp=t}}},[a("addRegisterByMaterial",{on:{addRegisterBack:e.addRegisterBack}})],1):e._e()],1)};E._withStripped=!0;var R={render:E,staticRenderFns:[]},N=R;var U=!1;var q=a("VU/8")(B,N,!1,function(e){U||a("nruR")},null,null);q.options.__file="src/views/materialManage/materialBatchReceive/MaterialBatchReceive.vue";t.default=q.exports},WNiX:function(e,t,a){"use strict";(function(e){var i=a("Gu7T"),n=a.n(i),r=a("Dd8w"),s=a.n(r),o=a("mvHQ"),l=a.n(o);t.a={name:"EditMaterial",props:["materialList"],data:function(){return{initEditState:{a0101tip:!1,e01z211atip:!1,e01z211btip:!1,e01z211tip:!1,e01z124tip:!1,e01z224tip:!1,e01z227tip:!1,e01z231tip:!1},currentRowRight:!0,dataArr:[],materialObj:{e01z211a:"",e01z211:"",e01z217:"",e01z211name:"",e01z124:1,e01z224:1,e01z227:this.commonFun.dateFormat(new Date,"yyyyMMdd"),e01z231:"",inEdit:{e01z211atip:!1,e01z211tip:!1,e01z124tip:!1,e01z224tip:!1,e01z227tip:!1,e01z231tip:!1}},dataList:[],backDataList:[],currentIndex:"",tableWidth:0,widthFlag:!1}},watch:{materialList:function(e){""!=e&&(this.dataArr=e)},dataArr:function(t){t.length<6?(this.$refs.tableContent.style.overflow="hidden",e("#innerDiv").css("margin-right","0px"),this.widthFlag=!1):this.widthFlag||(this.widthFlag=!0,this.$refs.tableContent.style.overflowY="scroll",this.$refs.tableContent.style.overflowX="hidden",e("#innerDiv").css("margin-right","-17px"))}},mounted:function(){},created:function(){this.getData()},methods:{getCurrent:function(e){this.currentIndex=e},copyNewMaterial:function(){var e=this;if(""!==this.currentIndex){var t={};this.dataArr.forEach(function(a,i){i===e.currentIndex&&(t=a)});var a=l()(t),i=JSON.parse(a);this.dataArr.unshift(i),this.currentIndex=""}else this.$confirm("请选择一条数据","提示",{confirmButtomText:"确认",showCancelButton:!1,type:"warning",center:!0})},getData:function(){var e=this;this.$axios({isLoading:!1,method:"get",url:this.API.quertMaterialType,params:{isAll:!1}}).then(function(t){var a=t.data;"1"==a.code?e.dataList=a.data:e.$message({type:"error",message:"获取状态下拉框数据失败，请刷新重试！"})}).catch(function(e){this.$message({type:"error",message:"请求异常，请检查网络！"})})},changeChioceId:function(e){this.dataList.forEach(function(t){t.codeno==e.e01z211&&(e.e01z217=t.codeno,e.e01z211name=t.codeno+"、"+t.name,e.e01z211=t.codeno)})},addNewMaterial:function(){if(this.dataArr){var e=this.materialObj;this.dataArr.push(s()({},e))}else this.$message.error("抱歉,网络错误了,请稍后重试")},deleteMaterial:function(e){this.dataArr.splice(e,1)},bundleClick:function(e,t,a){this.resetAllState(),this.dataArr[e].inEdit[t]=!0,this.dataArr=[].concat(n()(this.dataArr)),this.$refs.content[e].focus(),this.$nextTick(function(){})},resetAllState:function(){var e=this;this.dataArr.forEach(function(t){t.inEdit=s()({},e.initEditState)}),this.dataArr=[].concat(n()(this.dataArr))},judgeRowIsRight:function(e){var t=!0;return(e.e01z211a||"0"===String(e.e01z211a))&&(e.e01z211||"0"===String(e.e01z211))||(t=!1),t},getFinishData:function(){var e=this,t=this,a=[];return this.currentRowRight=!0,t.currentRowRight&&[].concat(n()(t.dataArr)).forEach(function(i,n){if(t.currentRowRight)if(t.judgeRowIsRight(i)){var r={};r.e01z211a=i.e01z211a,r.e01z211=i.e01z211,r.e01z124=i.e01z124,r.e01z224=i.e01z224,r.e01z227=e.commonFun.dateFormat(i.e01z227,"yyyyMMdd"),r.e01z231=i.e01z231,a.push(s()({},r))}else t.currentRowRight=!1}),[].concat(a)},saveNewMaterial:function(){""!==this.dataArr&&0!==this.dataArr.length?(this.backDataList=this.getFinishData(),this.currentRowRight?this.$emit("getMaterialList",this.backDataList):this.$message.warning("请确保必填字段不为空！")):this.$message.warning("请添加材料！")},cancle:function(){this.$emit("getMaterialList","")}}}}).call(t,a("7t+N"))},"dse+":function(e,t,a){var i=a("ACDy");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("6e13e055",i,!1,{})},fmfU:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.radioDialog[data-v-5ed58dc8] .el-dialog .el-dialog__body {\n\tpadding: 10px 0 0 0 !important;\n}\n",""])},m7uI:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.fileDialog /deep/ .el-dialog .el-dialog__body {\n  padding: 10px 0 0 0 !important;\n}\n.material-batch-add {\n  padding: 0 !important;\n}\n.material-batch-add h3 {\n    font-size: 16px;\n    color: #fff;\n    background-color: #369FDD;\n    line-height: 38px;\n    text-indent: 1em;\n}\n.material-batch-add .el-table {\n    margin-top: 10px;\n}\n.material-batch-add .el-table__body tr.current-row > td {\n    background: #DCEBFA !important;\n    color: #606266;\n}\n.material-batch-add .dialog-footer {\n    padding: 10px 0;\n    text-align: center;\n}\n.material-batch-add .material_page {\n    /*margin-top: 10px;*/\n    text-align: right;\n}\n",""])},nruR:function(e,t,a){var i=a("rBjH");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("17664505",i,!1,{})},rBjH:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n/deep/ .el-container {\n  border-top: 1px solid #ddd;\n}\n.outDialog /deep/ .el-dialog .el-dialog__body {\n  padding: 10px 0 0 0 !important;\n}\n.material_Batch_receive_container .el-main {\n  background-color: #fff;\n  padding: 0 !important;\n}\n.material_Batch_receive_container .el-main .title {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    font-size: 14px;\n    padding: 10px;\n}\n.material_Batch_receive_container .el-main .title .el-button {\n      size: small;\n      color: white;\n      text-align: center;\n}\n.material_Batch_receive_container .el-main .title .right {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.material_Batch_receive_container .el-main .title .right .el-input {\n        padding-right: 10px;\n        width: 150px;\n}\n.material_Batch_receive_container .el-main .el-table__body tr.current-row > td {\n    background: #DCEBFA !important;\n    color: #606266;\n}\n",""])}});