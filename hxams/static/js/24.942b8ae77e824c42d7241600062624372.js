webpackJsonp([24],{"/Ef6":function(t,e,i){var a=i("WZhW");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("0d776936",a,!1,{})},SvI7:function(t,e,i){var a=i("kCLZ");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("533ad359",a,!1,{})},WZhW:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.sort-organization-management-container[data-v-7936fc10] {\n  padding: 0 0 10px 0;\n  height: 100%;\n}\n.sort-organization-management-container .sort-organization-management-title[data-v-7936fc10] {\n    padding: 0 0 10px 10px;\n}\n",""])},WwOX:function(t,e,i){var a=i("vB+K");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("11378cf6",a,!1,{})},eJTx:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.UnitLevelTreeSelect .el-select[data-v-71eb8fda] {\n  width: 100%;\n}\n",""])},kCLZ:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.unitlevel-tree-select-container .el-select[data-v-981961b4] {\n  width: 100%;\n}\n",""])},lLQK:function(t,e,i){var a=i("ndGB");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("2b7f68e2",a,!1,{})},ndGB:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.organization-management-container {\n  height: calc(100% - 44px);\n}\n.organization-management-container .my-header {\n    padding-top: 15px;\n    display: none;\n}\n.organization-management-container .el-main {\n    background-color: #fff;\n    height: 100%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    padding: 0;\n}\n.organization-management-container .el-main .organization-management-left {\n      height: 100%;\n      width: 27%;\n}\n.organization-management-container .el-main .organization-management-left .organization-management-title {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        border-bottom: 1px solid #DDD;\n        padding: 10px;\n}\n.organization-management-container .el-main .organization-management-left .organization-management-tree {\n        height: calc(100% - 61px);\n        overflow-y: auto;\n        margin-top: 10px;\n        max-height: 755px;\n}\n.organization-management-container .el-main .lines {\n      border-right: 1px solid #DDD;\n      width: 5px;\n      border-left: 1px solid #DDD;\n}\n.organization-management-container .el-main .organization-management-right {\n      width: 72.4%;\n}\n.organization-management-container .el-main .organization-management-right .tip {\n        margin-top: 100px;\n        text-align: center;\n        font-size: 14px;\n}\n.organization-management-container .el-main .organization-management-right .el-form {\n        padding: 10px 10px 0 0;\n        border: 1px solid #DCDFE6;\n}\n",""])},oVFr:function(t,e,i){var a=i("plFR");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("00335670",a,!1,{})},plFR:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.add-organization-management-container[data-v-5aa0f523] {\n  padding: 0 10px 10px 0;\n}\n.add-organization-management-container .footer[data-v-5aa0f523] {\n    text-align: center;\n}\n",""])},u1yC:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("TXDF"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sort-organization-management-container"},[i("div",{staticClass:"sort-organization-management-title"},[i("el-button",{attrs:{type:"primary"},on:{click:t.moveUp}},[t._v("上移")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.moveDown}},[t._v("下移")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.sava}},[t._v("保存")])],1),t._v(" "),i("div",{staticClass:"sort-organization-management-content"},[i("el-table",{ref:"table",staticClass:"material_table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","row-class-name":t.tableRowClassName,height:"350px",data:t.sortList},on:{"row-click":t.clickRow}},[i("el-table-column",{attrs:{label:"序号",align:"center","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1))]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"b0101",label:"机构名称","min-width":"40%"}}),t._v(" "),i("el-table-column",{attrs:{prop:"b0114",label:"机构编码","show-overflow-tooltip":"","min-width":"40%"}})],1)],1)])};n._withStripped=!0;var r={render:n,staticRenderFns:[]},o=r;var s=!1;var l=i("VU/8")({name:"SortOrganizationManagement",props:["id","sortList"],data:function(){return{selectdata:"",index:"",b0000s:""}},methods:{tableRowClassName:function(t){var e=t.row,i=t.rowIndex;e.index=i},clickRow:function(t){this.selectdata=t,this.index=t.index},moveUp:function(){if(""!=this.selectdata)if(this.index>0){var t=this.sortList[this.index-1];this.sortList.splice(this.index-1,1),this.sortList.splice(this.index,0,t),this.index=this.index-1}else this.$message("已经是第一条，不可上移");else this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},moveDown:function(){if(""!=this.selectdata)if(this.index+1===this.sortList.length)this.$message("已经是最后一条，不可下移");else{var t=this.sortList[this.index+1];this.sortList.splice(this.index+1,1),this.sortList.splice(this.index,0,t),this.index=this.index+1}else this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},sava:function(){var t=[];this.sortList.forEach(function(e){t.push(e.b0111)}),t.length<=0||(this.b0000s=t.join(",").toString(),this.saveForNet())},saveForNet:function(){var t=this;this.$axios({method:"get",url:this.API.upAndDownB00,params:{b0000s:this.b0000s,id:this.id}}).then(function(e){"1"==e.data.code?(t.$message.success("排序成功！"),t.$emit("getSortOM","getSortOM")):t.$message({type:"error",message:"排序失败，请刷新重试！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})},restoreData:function(){var t=this;this.$axios({method:"get",url:this.API.initializationB00Order,params:{b000:this.id}}).then(function(e){"1"==e.data.code?(t.$message.success("初始化成功！"),t.$emit("getSortOM","getSortOM")):t.$message({type:"error",message:"初始化失败，请刷新重试！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})}}},o,!1,function(t){s||i("/Ef6")},"data-v-7936fc10",null);l.options.__file="src/views/systemMaintenance/organizationManagement/SortOrganizationManagement.vue";var c=l.exports,d=(i("g7ZD"),{name:"OrganizationStatusSelect",props:["chioceOptionId"],data:function(){return{dataList:[],chioceId:this.chioceOptionId}},computed:{},created:function(){this.getData()},methods:{changeChioceId:function(t){this.chioceId=t,this.$emit("applyStatusCall",t)},getData:function(){var t=this;this.$axios({loading:{isShow:!1},method:"get",url:this.API.getDataList,params:{id:this.API.constObj.stateId}}).then(function(e){var i=e.data;"1"==i.code?(t.dataList=i.data,t.chioceOptionId&&t.chioceOptionId.length>0&&(t.chioceId=t.chioceOptionId,t.$emit("applyStatusCall",t.chioceId))):t.$message({type:"error",message:"获取状态下拉框数据失败，请刷新重试！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})}}}),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"applyStatusSelect"},[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:t.changeChioceId},model:{value:t.chioceId,callback:function(e){t.chioceId=e},expression:"chioceId"}},t._l(t.dataList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)};m._withStripped=!0;var g={render:m,staticRenderFns:[]},h=g;var u=!1;var p=i("VU/8")(d,h,!1,function(t){u||i("WwOX")},"data-v-0dfe9811",null);p.options.__file="src/components/OrganizationStatusSelect.vue";var f=p.exports,b={name:"UnitLevelTreeSelect",props:["chioceOptionId"],data:function(){return{dataList:[],chioceId:""}},computed:{},watch:{chioceOptionId:{handler:function(t){this.chioceId=t}}},created:function(){this.getData(),this.chioceId=this.chioceOptionId},methods:{changeChioceId:function(t){this.chioceId=t,this.$emit("UnitLevelTreeSelectCall",t)},getData:function(){var t=this;this.$axios({loading:{isShow:!1},method:"get",url:this.API.getSysCadreCodeDetailList,params:{code:this.API.constObj.CadreCodeDetailList[15].id}}).then(function(e){var i=e.data;"1"==i.code?(t.dataList=i.data,t.chioceOptionId&&t.chioceOptionId.length>0&&(t.chioceId=t.chioceOptionId,t.$emit("UnitLevelTreeSelectCall",t.chioceId))):t.$message({type:"error",message:"获取单位级别下拉框数据失败，请刷新重试！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})}},mounted:function(){}},v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"UnitLevelTreeSelect"},[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:t.changeChioceId},model:{value:t.chioceId,callback:function(e){t.chioceId=e},expression:"chioceId"}},t._l(t.dataList,function(t){return i("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}),1)],1)};v._withStripped=!0;var z={render:v,staticRenderFns:[]},x=z;var y=!1;var F=i("VU/8")(b,x,!1,function(t){y||i("vzzJ")},"data-v-71eb8fda",null);F.options.__file="src/components/UnitlevelTreeSelect.vue";var $=F.exports,O=i("k+ZH"),w={name:"UnitAffiliationTreeSelect",props:["chioceUnitOptionId"],data:function(){return{dataList:[],chioceId:this.chioceUnitOptionId}},computed:{},watch:{chioceUnitOptionId:{handler:function(t){this.chioceId=t}}},created:function(){this.getData()},methods:{changeChioceId:function(t){this.chioceId=t,this.$emit("affiliationSelectCall",t)},getData:function(){var t=this;this.$axios({loading:{isShow:!1},method:"get",url:this.API.getSysCadreCodeDetailList,params:{code:this.API.constObj.CadreCodeDetailList[20].id}}).then(function(e){var i=e.data;"1"==i.code?(t.dataList=i.data,t.chioceUnitOptionId&&t.chioceUnitOptionId.length>0&&(t.chioceId=t.chioceUnitOptionId,t.$emit("affiliationSelectCall",t.chioceUnitOptionId))):t.$message({type:"error",message:"获取单位级别数据失败，请刷新重试！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})}},mounted:function(){}},S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"unitlevel-tree-select-container"},[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:t.changeChioceId},model:{value:t.chioceId,callback:function(e){t.chioceId=e},expression:"chioceId"}},t._l(t.dataList,function(t){return i("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}),1)],1)};S._withStripped=!0;var _={render:S,staticRenderFns:[]},I=_;var C=!1;var L=i("VU/8")(w,I,!1,function(t){C||i("SvI7")},"data-v-981961b4",null);L.options.__file="src/components/UnitAffiliationTreeSelect.vue";var k=L.exports,T={name:"AddOrganizationManagement",props:["organizationSelected","type"],components:{organizationTreeSelect:i("Ev+9").a},data:function(){return{defaultOptions:"",flag:!0,organizationForm:{b0001:"",b0002:"",b000:"",departmentAllID:"",departmentID:"",b0194:"1",b0000:""},rules:{b0001:[{required:!0,message:"请输入机构名称",trigger:"change"},{min:0,max:this.fieldsConfig.commonLength.fifty,message:"长度必须在0到"+this.fieldsConfig.commonLength.fifty+"位字符之间",trigger:"blur"}],b0002:[{required:!0,message:"请输入机构编码",trigger:"change"},{min:0,max:25,message:"长度必须在0到25位字符之间",trigger:"blur"}]},radioList:[{id:"1",b0001:"法人机构"},{id:"2",b0001:"内设机构"},{id:"3",b0001:"机构分组"}],isEdit:!1,name:""}},created:function(){""!=this.organizationSelected&&(this.isEdit=!0,this.defaultOptions=this.organizationSelected.pId,this.b000=this.organizationSelected.b000,this.organizationForm.b0194=String(this.type),this.organizationForm.b0000=this.organizationSelected.id,this.organizationForm.b0001=this.organizationSelected.name,this.organizationForm.b0002=this.organizationSelected.code,this.organizationForm.b000=this.organizationSelected.pId)},methods:{orgTreeSelectCall:function(t){this.departmentAllID=t.id,this.departmentID=t.id,this.b000=this.departmentID,this.defaultOptions=t.id,this.name=t.name},changeRadioId:function(t){this.organizationForm.b0194=t},save:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.name!==e.organizationForm.b0001?e.saveToNet():e.$message("机构名称和上级单位名字不能一样，请重新输入！")})},saveToNet:function(){var t=this;this.$axios({method:"post",url:this.API.saveOrUpdateB00,data:{b0101:this.organizationForm.b0001,b0114:this.organizationForm.b0002,b0121:this.b000,b0194:this.organizationForm.b0194,b0111:this.organizationForm.b0000}}).then(function(e){var i=e.data;if("1"==i.code){if(t.isEdit)return t.$message({message:"编辑数据成功！",type:"success"}),void t.$emit("addback","edit",!1);t.$message({message:"添加数据成功！",type:"success"}),t.$emit("addback","",!1)}else"9"==i.code?t.isEdit&&t.$message({message:"父级机构不能移动到子集机构下，请重新选择上级单位！",type:"warning"}):t.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){})},cancle:function(){this.$emit("addback","",!0)}}},B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add-organization-management-container"},[i("el-form",{ref:"organizationForm",attrs:{rules:t.rules,model:t.organizationForm,"label-width":"100px"}},[i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构名称：",prop:"b0001"}},[i("el-input",{attrs:{clearable:""},model:{value:t.organizationForm.b0001,callback:function(e){t.$set(t.organizationForm,"b0001",e)},expression:"organizationForm.b0001"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构编码：",prop:"b0002"}},[i("el-input",{attrs:{clearable:""},model:{value:t.organizationForm.b0002,callback:function(e){t.$set(t.organizationForm,"b0002",e)},expression:"organizationForm.b0002"}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"上级单位：",prop:"b000"}},[i("organizationTreeSelect",{staticClass:"sele",attrs:{defaultOptions:t.defaultOptions,isShow:t.flag},on:{OrgTreeSelectCall:t.orgTreeSelectCall}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构类型：",prop:"type"}},[i("el-radio-group",{on:{change:t.changeRadioId},model:{value:t.organizationForm.b0194,callback:function(e){t.$set(t.organizationForm,"b0194",e)},expression:"organizationForm.b0194"}},t._l(t.radioList,function(e){return i("el-radio",{key:e.id,attrs:{label:e.id,value:e.id}},[t._v(t._s(e.b0001))])}),1)],1)],1)],1)],1),t._v(" "),i("div",{staticClass:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save("organizationForm")}}},[t._v("保存")]),t._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:t.cancle}},[t._v("取消")])],1)],1)};B._withStripped=!0;var D={render:B,staticRenderFns:[]},U=D;var M=!1;var P=i("VU/8")(T,U,!1,function(t){M||i("oVFr")},"data-v-5aa0f523",null);P.options.__file="src/views/systemMaintenance/organizationManagement/AddOrganizationManagement.vue";var A=P.exports,V=i("7qxd"),R={name:"OrganizationManagement",components:{organizationTree:a.a,organizationStatusSelect:f,unitlevelTreeSelect:$,natureUnitTreeSelect:O.a,unitAffiliationTreeSelect:k,addOrganizationManagement:A,nativePlaceFileSelection:V.a,sortOrganizationManagement:c},data:function(){return{treeHeight:0,filterText:"",unitOptionId:"",leveOptionId:"",natureOptionId:"",title:"",isFirst:!0,virtualOrganizationForm:{b0101:"",b0104:"",b0114:"",b0180:""},formFlag:"1",departmentForm:{b0101:"",b0104:"",b0114:"",b0180:""},unitForm:{b0101:"",b0104:"",b0114:"",b0180:""},b0000:"",intType:1,innerVisible:!1,addOrganizationVisible:!1,innerSortVisible:!1,organizationSelected:"",rules1:{b0101:[{required:!0,message:"请输入机构全称",trigger:"change"},{min:0,max:this.fieldsConfig.commonLength.fifty,message:"长度必须在0到"+this.fieldsConfig.commonLength.fifty+"位字符之间",trigger:"blur"}],b0104:[{required:!0,message:"请输入机构简介",trigger:"change"}],b0114:[{required:!0,message:"请输入机构编码",trigger:"change"},{min:0,max:50,message:"长度必须在0到50位字符之间",trigger:"blur"}],b0180:[{min:0,max:this.fieldsConfig.commonLength.nineThousand,message:"长度必须在0到"+this.fieldsConfig.commonLength.nineThousand+"位字符之间",trigger:"blur"}]},rules2:{b0101:[{required:!0,message:"请输入机构全称",trigger:"change"},{min:0,max:this.fieldsConfig.commonLength.fifty,message:"长度必须在0到"+this.fieldsConfig.commonLength.fifty+"位字符之间",trigger:"blur"}],b0104:[{required:!0,message:"请输入机构简介",trigger:"change"}],b0114:[{required:!0,message:"请输入机构编码",trigger:"change"},{min:0,max:50,message:"长度必须在0到50位字符之间",trigger:"blur"}],b0180:[{min:0,max:this.fieldsConfig.commonLength.nineThousand,message:"长度必须在0到"+this.fieldsConfig.commonLength.nineThousand+"位字符之间",trigger:"blur"}]},rules3:{b0101:[{required:!0,message:"请输入机构全称",trigger:"change"},{min:0,max:this.fieldsConfig.commonLength.fifty,message:"长度必须在0到"+this.fieldsConfig.commonLength.fifty+"位字符之间",trigger:"blur"}],b0104:[{required:!0,message:"请输入机构简介",trigger:"change"}],b0114:[{required:!0,message:"请输入机构编码",trigger:"change"},{min:0,max:50,message:"长度必须在0到50位字符之间",trigger:"blur"}],b0180:[{min:0,max:this.fieldsConfig.commonLength.nineThousand,message:"长度必须在0到"+this.fieldsConfig.commonLength.nineThousand+"位字符之间",trigger:"blur"}]},formName:"",treeList:"",isParent:!1,id:"",sortList:"",isBack:!1}},methods:{getSelectData:function(t,e,i){switch(this.organizationSelected=t,this.treeList=i,this.b0000=t.id,e||(this.isFirst=!1),this.isFirst||(this.id=t.id),this.isBack&&(this.id="",this.isBack=!1),this.intType=parseInt(t.type),this.intType){case 1:this.formFlag="1";break;case 2:this.formFlag="2";break;case 3:this.formFlag="3"}this.findB00ById(),this.$refs.form1.clearValidate()},findB00ById:function(){var t=this;this.$axios({method:"get",url:this.API.findB00ById,params:{b0000:this.b0000}}).then(function(e){var i=e.data;"1"==i.code?1==t.intType?t.virtualOrganizationForm=i.data.b:2==t.intType?t.unitForm=i.data.b:3==t.intType?t.departmentForm=i.data.b:t.$message({type:"error",message:"获取数据失败，请刷新重试！"}):t.$message({type:"error",message:"查询组织机构管理失败，请刷新重试！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})},savaData:function(t){var e=this,i=this.$refs[t];switch(this.intType){case 1:i.validate(function(t){if(!t)return!1;e.updateB00()});break;case 2:i.validate(function(t){if(!t)return!1;e.saveOrUpdateB00()});break;case 3:i.validate(function(t){if(!t)return!1;e.saveOrUpdate()})}},updateB00:function(){var t=this;this.$axios({method:"post",url:this.API.updateB00,data:{b0111:this.virtualOrganizationForm.b0111,b0101:this.virtualOrganizationForm.b0101,b0104:this.virtualOrganizationForm.b0104,b0114:this.virtualOrganizationForm.b0114,b0180:this.virtualOrganizationForm.b0180}}).then(function(e){"1"==e.data.code?(t.$message({message:"更新成功！",type:"success"}),t.$refs.treeChild.getTreeData(!1)):t.$message({type:"error",message:"更新失败，请刷新重试！"})}).catch(function(t){})},saveOrUpdateB00:function(){var t=this;this.$axios({method:"post",url:this.API.saveOrUpdateB00,data:{b0111:this.unitForm.b0111,b0101:this.unitForm.b0101,b0104:this.unitForm.b0104,b0114:this.unitForm.b0114,b0180:this.unitForm.b0180}}).then(function(e){"1"==e.data.code?(t.$message({message:"更新成功！",type:"success"}),t.$refs.treeChild.getTreeData(!1)):t.$message({type:"error",message:"更新失败，请刷新重试！"})}).catch(function(t){})},saveOrUpdate:function(){var t=this;this.$axios({method:"post",url:this.API.saveOrUpdateB00,data:{b0111:this.departmentForm.b0111,b0101:this.departmentForm.b0101,b0104:this.departmentForm.b0104,b0114:this.departmentForm.b0114,b0180:this.departmentForm.b0180}}).then(function(e){"1"==e.data.code?(t.$message({message:"更新成功！",type:"success"}),t.$refs.treeChild.getTreeData(!1)):t.$message({type:"error",message:"更新失败，请刷新重试！"})}).catch(function(t){})},addBack:function(t,e){this.addOrganizationVisible=!1,e||(this.$refs.treeChild.getTreeData(),this.organizationSelected="")},addOrganization:function(){this.title="添加",this.organizationSelected="",this.addOrganizationVisible=!0},eidtOrganization:function(){""!=this.organizationSelected?(this.title="编辑",this.addOrganizationVisible=!0):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},isParentElement:function(){var t=this;this.treeList.forEach(function(e){t.organizationSelected.id!==e.pId||(t.isParent=!0)})},delOrganization:function(){var t=this;""!=this.organizationSelected?this.organizationSelected.uIssystem?this.$confirm("系统内置不能删除！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0}):(this.isParent=!1,this.isParentElement(),this.isParent?this.$confirm("机构下有子机构不允许删除！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0}):this.$confirm("您确认删除这条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.delFromNet()}).catch(function(){t.selectDeceive="",t.$message({type:"info",message:"已取消"})})):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},delFromNet:function(){var t=this;this.$axios({method:"get",url:this.API.deleteB00,params:{b0000:this.b0000}}).then(function(e){var i=e.data;t.isParent=!1,"1"==i.code?(t.organizationSelected="",t.isParent=!1,t.$confirm("删除成功！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0}).then(function(){t.$refs.treeChild.getTreeData()})):"7"==i.code?t.$confirm("机构下有人员不允许删除！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0}):t.$message({type:"error",message:"删除组织机构失败，请刷新重试！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})},sortOrgManagement:function(){this.findsortB00List()},findsortB00List:function(){var t=this;this.$axios({method:"get",url:this.API.findsortB00List,params:{id:this.id}}).then(function(e){var i=e.data;if("1"==i.code){if(t.sortList=i.data,0==t.sortList.length)return void t.$message("没有要排序的数据！");if(1==t.sortList.length)return void t.$message("只有一条数据,不需要进行排序！");t.innerSortVisible=!0}else t.$message({type:"error",message:"获取排序列表失败，请刷新重试！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})},getsortOrganizationManagement:function(t){this.innerSortVisible=!1,"getSortOM"===t&&(this.isBack=!0),this.$refs.treeChild.getTreeData()}}},E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticClass:"organization-management-container"},[i("el-header",{staticClass:"my-header page-title",staticStyle:{height:"45px"}},[t._v("组织机构管理")]),t._v(" "),i("el-main",[i("div",{staticClass:"organization-management-left"},[i("div",{staticClass:"organization-management-title"},[i("el-button",{staticClass:"elbt",attrs:{type:"primary",size:"mini"},on:{click:t.addOrganization}},[t._v("添加")]),t._v(" "),i("el-button",{staticClass:"elbt",attrs:{type:"primary",size:"mini"},on:{click:t.eidtOrganization}},[t._v("编辑")]),t._v(" "),i("el-button",{staticClass:"elbt",attrs:{type:"danger",size:"mini"},on:{click:t.delOrganization}},[t._v("删除")]),t._v(" "),i("el-button",{staticClass:"elbt",attrs:{type:"primary",size:"mini"},on:{click:t.sortOrgManagement}},[t._v("排序")])],1),t._v(" "),i("div",{staticClass:"organization-management-tree"},[i("organizationTree",{ref:"treeChild",attrs:{filterText:t.filterText},on:{getSelect:t.getSelectData}})],1)]),t._v(" "),i("div",{staticClass:"lines"}),t._v(" "),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{width:"45%",title:"排序",visible:t.innerSortVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.innerSortVisible=e}}},[i("sortOrganizationManagement",{attrs:{sortList:t.sortList,id:t.id},on:{getSortOM:t.getsortOrganizationManagement}})],1),t._v(" "),t.addOrganizationVisible?i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{width:"900px",title:t.title,visible:t.addOrganizationVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.addOrganizationVisible=e}}},[i("addOrganizationManagement",{attrs:{type:t.intType,organizationSelected:t.organizationSelected},on:{addback:t.addBack}})],1):t._e(),t._v(" "),i("div",{staticClass:"organization-management-right"},[t.isFirst?i("div",{staticClass:"tip"},[t._v("选择维护左边干部人员组织机构，点击具体组织机构维护对应信息。")]):i("div",[i("el-button",{staticStyle:{margin:"10px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){t.savaData("form1")}}},[t._v("保存")]),t._v(" "),"1"==t.formFlag?i("el-form",{ref:"form1",staticStyle:{"border-left":"none","border-right":"none"},attrs:{rules:t.rules1,model:t.virtualOrganizationForm,"label-width":"140px"}},[i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构全称：",prop:"b0101"}},[i("el-input",{attrs:{"validate-event":""},model:{value:t.virtualOrganizationForm.b0101,callback:function(e){t.$set(t.virtualOrganizationForm,"b0101",e)},expression:"virtualOrganizationForm.b0101"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构简称：",prop:"b0104"}},[i("el-input",{attrs:{"validate-event":""},model:{value:t.virtualOrganizationForm.b0104,callback:function(e){t.$set(t.virtualOrganizationForm,"b0104",e)},expression:"virtualOrganizationForm.b0104"}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构编码：",prop:"b0114","validate-event":""}},[i("el-input",{model:{value:t.virtualOrganizationForm.b0114,callback:function(e){t.$set(t.virtualOrganizationForm,"b0114",e)},expression:"virtualOrganizationForm.b0114"}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"备注：",prop:"b0180"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:t.virtualOrganizationForm.b0180,callback:function(e){t.$set(t.virtualOrganizationForm,"b0180",e)},expression:"virtualOrganizationForm.b0180"}})],1)],1)],1)],1):"2"==t.formFlag?i("el-form",{ref:"form1",staticStyle:{"border-left":"none","border-right":"none"},attrs:{border:"",rules:t.rules2,model:t.unitForm,"label-width":"140px"}},[i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构全称：",prop:"b0101"}},[i("el-input",{attrs:{"validate-event":""},model:{value:t.unitForm.b0101,callback:function(e){t.$set(t.unitForm,"b0101",e)},expression:"unitForm.b0101"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构简称：",prop:"b0104"}},[i("el-input",{attrs:{"validate-event":""},model:{value:t.unitForm.b0104,callback:function(e){t.$set(t.unitForm,"b0104",e)},expression:"unitForm.b0104"}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构编码：",prop:"b0114","validate-event":""}},[i("el-input",{model:{value:t.unitForm.b0114,callback:function(e){t.$set(t.unitForm,"b0114",e)},expression:"unitForm.b0114"}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"备注：",prop:"b0180"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:t.unitForm.b0180,callback:function(e){t.$set(t.unitForm,"b0180",e)},expression:"unitForm.b0180"}})],1)],1)],1)],1):t.departmentForm&&"3"==t.formFlag?i("el-form",{ref:"form1",staticStyle:{"border-left":"none","border-right":"none"},attrs:{id:"departForm",model:t.departmentForm,border:"",rules:t.rules3,"label-width":"120px"}},[i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构全称：",prop:"b0101"}},[i("el-input",{attrs:{"validate-event":""},model:{value:t.departmentForm.b0101,callback:function(e){t.$set(t.departmentForm,"b0101",e)},expression:"departmentForm.b0101"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构简称：",prop:"b0104"}},[i("el-input",{attrs:{"validate-event":""},model:{value:t.departmentForm.b0104,callback:function(e){t.$set(t.departmentForm,"b0104",e)},expression:"departmentForm.b0104"}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"机构编码：",prop:"b0114","validate-event":""}},[i("el-input",{model:{value:t.departmentForm.b0114,callback:function(e){t.$set(t.departmentForm,"b0114",e)},expression:"departmentForm.b0114"}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"备注：",prop:"b0180"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:t.departmentForm.b0180,callback:function(e){t.$set(t.departmentForm,"b0180",e)},expression:"departmentForm.b0180"}})],1)],1)],1)],1):t._e()],1)])],1)],1)};E._withStripped=!0;var j={render:E,staticRenderFns:[]},q=j;var Z=!1;var N=i("VU/8")(R,q,!1,function(t){Z||i("lLQK")},null,null);N.options.__file="src/views/systemMaintenance/organizationManagement/OrganizationManagement.vue";e.default=N.exports},"vB+K":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.applyStatusSelect .el-select[data-v-0dfe9811] {\n  width: 100%;\n}\n",""])},vzzJ:function(t,e,i){var a=i("eJTx");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("3f707fea",a,!1,{})}});