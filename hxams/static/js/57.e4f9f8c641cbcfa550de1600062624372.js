webpackJsonp([57],{"7m7C":function(e,t,a){"use strict";a("g7ZD");var i={name:"CadresCategoryTreeSelect",props:["chioceOptionId"],data:function(){return{dataList:[],chioceId:""}},computed:{},created:function(){this.chioceId=this.chioceOptionId,this.getData()},watch:{chioceOptionId:{handler:function(e){this.chioceId=e}}},methods:{changeChioceId:function(e){this.chioceId=e,this.$emit("CadresCategoryTreeSelectCall",e)},getData:function(){var e=this;this.$axios({loading:{isShow:!1},method:"get",url:this.API.getSysCadreCodeDetailList,params:{code:this.API.constObj.CadreCodeDetailList[13].id}}).then(function(t){var a=t.data;"1"==a.code?(e.dataList=a.data,e.chioceOptionId&&e.chioceOptionId.length>0&&(e.chioceId=e.chioceOptionId,e.$emit("CadresCategoryTreeSelectCall",e.chioceId))):e.$message({type:"error",message:"获取干部类别下拉框数据失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})}},mounted:function(){}},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CadresCategoryTreeSelect"},[a("el-select",{attrs:{clearable:"",placeholder:"请选择干部类别"},on:{change:e.changeChioceId},model:{value:e.chioceId,callback:function(t){e.chioceId=t},expression:"chioceId"}},e._l(e.dataList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1)};n._withStripped=!0;var r={render:n,staticRenderFns:[]},s=r;var o=!1;var l=a("VU/8")(i,s,!1,function(e){o||a("NzhL")},"data-v-25c2147c",null);l.options.__file="src/components/CadresCategoryTreeSelect.vue";t.a=l.exports},NzhL:function(e,t,a){var i=a("saAw");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("d704d5d0",i,!1,{})},O2Dp:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.is-disabled[data-v-59e315d1] {\n  background-color: #dcdfe6 !important;\n  border-color: #dcdfe6 !important;\n  color: #909399 !important;\n}\n[data-v-59e315d1] .el-input__inner {\n  padding: 0 15px !important;\n}\n.el-table[data-v-59e315d1] .el-table__fixed {\n  border-left: 3px solid #ccc;\n}\n.cell[data-v-59e315d1] .el-button--small {\n  padding: 0;\n}\n.edit-dialog[data-v-59e315d1] .el-dialog__header {\n  border-radius: none !important;\n}\n.edit-dialog[data-v-59e315d1] .el-dialog .el-dialog__body {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n}\n[data-v-59e315d1] .el-form-item {\n  margin-bottom: 5px !important;\n}\n[data-v-59e315d1] .el-form-item__label {\n  padding: 0 !important;\n}\n.archives-receive-containerss[data-v-59e315d1] {\n  position: relative;\n}\n.archives-receive-containerss .top[data-v-59e315d1] {\n    margin: 10px;\n}\n.archives-receive-containerss .el-container[data-v-59e315d1] {\n    /*.right-col {\n\t\t\t\ttext-align: right;\n\t\t\t}*/\n    background-color: #fff;\n}\n.archives-receive-containerss .el-container .el-row[data-v-59e315d1] {\n      padding: 10px;\n}\n.archives-receive-containerss .el-container .el-dialog[data-v-59e315d1] {\n      height: 100%;\n}\n.archives-receive-containerss .el-container .material_page[data-v-59e315d1] {\n      margin-top: 10px;\n      text-align: right;\n}\n.archives-receive-containerss .el-container .el-dialog[data-v-59e315d1] {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin: 0 !important;\n      -webkit-transform: translate(-50%, -50%);\n              transform: translate(-50%, -50%);\n      max-height: calc(100% - 30px);\n      max-width: calc(100% - 30px);\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-orient: vertical;\n      -webkit-box-direction: normal;\n          -ms-flex-direction: column;\n              flex-direction: column;\n      background-color: #fff;\n}\n.archives-receive-containerss .el-container .el-dialog .el-dialog__body[data-v-59e315d1] {\n        overflow: auto;\n}\n.archives-receive-containerss .el-container .el-main[data-v-59e315d1] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      padding: 0 !important;\n}\n.archives-receive-containerss .el-container .el-main .leftOuter[data-v-59e315d1] {\n        width: 75px;\n        border-right: 1px solid #ccc;\n}\n.archives-receive-containerss .el-container .el-main .organization_personnel_adjustment-left[data-v-59e315d1] {\n        width: 230px;\n        border-right: 1px solid #ccc;\n        /*padding-right: 10px;*/\n        /*margin-right: 10px;*/\n}\n.archives-receive-containerss .el-container .el-main .organization_personnel_adjustment-left .left_search[data-v-59e315d1] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-pack: justify;\n              -ms-flex-pack: justify;\n                  justify-content: space-between;\n          margin: 10px;\n}\n.archives-receive-containerss .el-container .el-main .organization_personnel_adjustment-left .left_search .el-button[data-v-59e315d1] {\n            margin-left: 10px;\n}\n.archives-receive-containerss .el-container .el-main .organization_personnel_adjustment-left .tree[data-v-59e315d1] {\n          border-top: 1px solid #DDD;\n          overflow-y: auto;\n          height: calc(100% - 90px);\n          height: -moz-calc(100% - 90px);\n          max-height: 768px;\n}\n.archives-receive-containerss .el-container .el-main .rightOuter[data-v-59e315d1] {\n        width: 100%;\n}\n.archives-receive-containerss .el-container .el-main .organization_personnel_adjustment-right[data-v-59e315d1] {\n        width: calc(100% - 230px);\n}\n",""])},saAw:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.CadresCategoryTreeSelect[data-v-25c2147c] {\n  display: inline-block;\n}\n.CadresCategoryTreeSelect .el-select[data-v-25c2147c] {\n    width: 100%;\n}\n",""])},"y+aL":function(e,t,a){var i=a("O2Dp");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("6598e619",i,!1,{})},znK3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOdI"),n=a.n(i),r=a("cMGX"),s=a("5xvJ"),o=a("7m7C"),l=a("TXDF"),c=a("/Fir"),d={name:"CadreInformationBase",components:{Pagination:r.a,FileStatusTreeSelect:s.a,CadresCategoryTreeSelect:o.a,organizationTree:l.a,EditPersonal:c.a},data:function(){var e;return e={showOrg:!0,tableHeight:0,pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},chioceObj:{},searchForm:{search_name:"",qrzxl:"",a01statusb:"",e10statusb:"",startage:"",endage:"",workstartage:"",workendage:"",partystartage:"",partyendage:""},cadreInformationList:[],titlels:"",colsls:"",options:[],isexcelColsSelect:!1,nowTime:this.commonFun.dateFormat(new Date,"yyyyMMddHHmmss"),filterText:"",flag:!0,id:"",edit_personal:!1},n()(e,"id",""),n()(e,"flag",!0),n()(e,"isOpen",!1),e},watch:{cadreInformationList:{handler:function(e){this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-40-70-52-22}}},created:function(){this.getPagerE01Z500Json(),this.getSetting(),this.keyupEnter()},mounted:function(){this.getColumns()},methods:{getSetting:function(){var e=this.$store.state.settingsList;if(e&&e.length>0)for(var t=0;t<e.length;t++)if("MechanismTree"==e[t].code){var a=!1;"yes"==e[t].value&&(a=!0),this.isOpen=a}},getAllOrgan:function(){this.$refs.treeChild.changeHighlight(!0),this.id="",this.getPagerE01Z500Json()},getSelectData:function(e,t,a){t?(this.id="",this.flag=!1):(this.flag=!0,this.id=e.id),this.getPagerE01Z500Json()},getColumns:function(){for(var e=this.$refs.table.columns,t=0;t<e.length-1;t++){var a={};e[t].property&&(this.$set(a,"label",e[t].label),this.$set(a,"value",e[t].property),this.options.push(a))}},getExport:function(){this.isexcelColsSelect=!0},colsBack:function(e){"cancel"!=e?e.colsls&&""!=e.colsls?(this.colsls=e.colsls,this.titlels=e.titlels,this.isexcelColsSelect=!1,this.excelTable()):this.$message({type:"error",message:"至少选择一条数据导出！"}):this.isexcelColsSelect=!1},clickRow:function(e,t,a){this.chioceObj=e},addPersonal:function(){this.$router.push({path:"AddPersonal"})},editPersonal:function(e,t){this.chioceObj=this.cadreInformationList[e],""!=this.chioceObj?this.edit_personal=!0:this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},BrowsePersonal:function(e,t){this.chioceObj=this.cadreInformationList[e],this.browse_personal=!0},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getPagerE01Z500Json()},getPagerE01Z500Json:function(){var e=this;this.$axios({loading:{isShow:!0,target:"#baseTable"},method:"get",url:this.API.findA01InformationPage,params:{a01010:this.searchForm.search_name,a01statusb:this.searchForm.a01statusb,e10statusb:this.searchForm.e10statusb,qrzxl:this.searchForm.qrzxl,b0000:this.id,startage:this.searchForm.startage,endage:this.searchForm.endage,workstartage:this.searchForm.workstartage,workendage:this.searchForm.workendage,partystartage:this.searchForm.partystartage,partyendage:this.searchForm.partyendage,pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(t){var a=t.data;"1"==a.code?(e.cadreInformationList=a.data.list,e.pageObj.total=a.data.total):e.$message({type:"error",message:"获取失败，请刷新！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},keyupEnter:function(){var e=this;document.onkeydown=function(t){document.getElementsByTagName("body")[0];13===t.keyCode&&e.search()}},search:function(){this.pageObj.pageIndex=this.API.constObj.pageIndex,isNaN(this.searchForm.startage)||isNaN(this.searchForm.endage)||Number(this.searchForm.startage)>Number(this.searchForm.endage)?this.$message({type:"error",message:"请书写正确的年龄！"}):isNaN(this.searchForm.workstartage)||isNaN(this.searchForm.workendage)||Number(this.searchForm.workstartage)>Number(this.searchForm.workendage)?this.$message({type:"error",message:"请书写正确的工龄！"}):isNaN(this.searchForm.partystartage)||isNaN(this.searchForm.partyendage)||Number(this.searchForm.partystartage)>Number(this.searchForm.partyendage)?this.$message({type:"error",message:"请书写正确的党龄！"}):this.getPagerE01Z500Json()},clearSearch:function(){for(var e in this.searchForm)this.searchForm[e]="";this.pageObj.pageIndex=this.API.constObj.pageIndex,this.getPagerE01Z500Json()},FileStatusTreeSelectCall:function(e){this.searchForm.e10statusb=e},CadresCategoryTreeSelectCall:function(e){this.searchForm.a01statusb=e},getEditBack:function(e){this.getPagerE01Z500Json(),this.edit_personal=!1}}},h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"archives-receive-containerss"},[a("el-container",{attrs:{id:"baseTable"}},[a("el-main",[a("div",{class:[this.showOrg?"organization_personnel_adjustment-left":"leftOuter"]},[a("el-button",{staticStyle:{margin:"10px 15px 0 15px"},attrs:{icon:"el-icon-rank",type:"primary"},on:{click:function(t){e.showOrg=!e.showOrg}}}),e._v(" "),a("transition",{attrs:{name:"el-zoom-in-center"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showOrg,expression:"showOrg"}],class:[this.showOrg?"organization_personnel_adjustment-left":""]},[a("div",{staticClass:"left_search"},[a("el-input",{attrs:{placeholder:"机构名称"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.getAllOrgan}},[e._v("查看全部")])],1),e._v(" "),a("div",{staticClass:"tree"},[a("organizationTree",{ref:"treeChild",attrs:{filterText:e.filterText,isOpen:e.isOpen},on:{getSelect:e.getSelectData}})],1)])])],1),e._v(" "),a("div",{class:[this.showOrg?"organization_personnel_adjustment-right":"rightOuter"]},[a("el-row",[a("el-col",{staticClass:"right-col",attrs:{span:20}},[a("el-popover",{attrs:{placement:"bottom",width:"400",trigger:"click"}},[a("el-form",{ref:"form",attrs:{model:e.searchForm,"label-width":"80px","label-position":"top"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{staticStyle:{width:"175px"},attrs:{clearable:"",placeholder:"请输入姓名/拼音"},model:{value:e.searchForm.search_name,callback:function(t){e.$set(e.searchForm,"search_name",t)},expression:"searchForm.search_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"学历"}},[a("el-input",{staticStyle:{width:"175px"},attrs:{clearable:"",placeholder:"请输入学历"},model:{value:e.searchForm.qrzxl,callback:function(t){e.$set(e.searchForm,"qrzxl",t)},expression:"searchForm.qrzxl"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"档案状态"}},[a("FileStatusTreeSelect",{staticStyle:{width:"175px"},attrs:{chioceOptionId:e.searchForm.e10statusb},on:{FileStatusTreeSelectCall:e.FileStatusTreeSelectCall}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"干部类别"}},[a("CadresCategoryTreeSelect",{staticStyle:{width:"175px"},attrs:{chioceOptionId:e.searchForm.a01statusb},on:{CadresCategoryTreeSelectCall:e.CadresCategoryTreeSelectCall}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"年龄"}},[a("div",{staticStyle:{display:"flex","justify-content":"center",width:"175px"}},[a("el-input",{staticStyle:{width:"85px"},attrs:{clearable:""},model:{value:e.searchForm.startage,callback:function(t){e.$set(e.searchForm,"startage",t)},expression:"searchForm.startage"}}),e._v("-"),a("el-input",{staticStyle:{width:"85px"},attrs:{clearable:""},model:{value:e.searchForm.endage,callback:function(t){e.$set(e.searchForm,"endage",t)},expression:"searchForm.endage"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工龄"}},[a("div",{staticStyle:{display:"flex","justify-content":"center",width:"175px"}},[a("el-input",{staticStyle:{width:"85px"},attrs:{clearable:""},model:{value:e.searchForm.workstartage,callback:function(t){e.$set(e.searchForm,"workstartage",t)},expression:"searchForm.workstartage"}}),e._v("-"),a("el-input",{staticStyle:{width:"85px"},attrs:{clearable:""},model:{value:e.searchForm.workendage,callback:function(t){e.$set(e.searchForm,"workendage",t)},expression:"searchForm.workendage"}})],1)])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"党龄"}},[a("div",{staticStyle:{display:"flex","justify-content":"center",width:"175px"}},[a("el-input",{staticStyle:{width:"85px"},attrs:{clearable:""},model:{value:e.searchForm.partystartage,callback:function(t){e.$set(e.searchForm,"partystartage",t)},expression:"searchForm.partystartage"}}),e._v("-"),a("el-input",{staticStyle:{width:"85px"},attrs:{clearable:""},model:{value:e.searchForm.partyendage,callback:function(t){e.$set(e.searchForm,"partyendage",t)},expression:"searchForm.partyendage"}})],1)])],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"30px"},attrs:{span:12}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.clearSearch}},[e._v("清空")])],1)],1)],1),e._v(" "),a("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("检索"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})])],1)],1)],1),e._v(" "),a("el-table",{ref:"table",attrs:{height:e.tableHeight,data:e.cadreInformationList},on:{"row-click":e.clickRow}},[a("el-table-column",{attrs:{label:"序号",align:"center","min-width":this.fieldsConfig.commonWidth.fivity},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"e10statusa",label:"档案状态","min-width":this.fieldsConfig.commonWidth.eighty,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0101",label:"姓名","min-width":this.fieldsConfig.commonWidth.eighty,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0104a",label:"性别","min-width":this.fieldsConfig.commonWidth.sixty}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0107",label:"出生年月","min-width":this.fieldsConfig.commonWidth.ninety}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0117a",label:"民族","show-overflow-tooltip":"","min-width":this.fieldsConfig.commonWidth.sixty}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0111a",label:"籍贯","min-width":this.fieldsConfig.commonWidth.eighty,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0134",label:"参加工作日期",width:this.fieldsConfig.commonWidth.oneHundredAndTen,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0141a",label:"政治面貌","min-width":this.fieldsConfig.commonWidth.eighty,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0140",label:"参加组织日期",width:this.fieldsConfig.commonWidth.oneHundredAndTen,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0192a",label:"工作单位及职务","show-overflow-tooltip":"","min-width":this.fieldsConfig.commonWidth.oneEighty}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",prop:"operation",label:"操作",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["转出"==t.row.e10statusa?a("el-button",{staticClass:"gray",attrs:{type:"success",icon:"el-icon-edit",circle:"",title:"编辑"}}):a("el-button",{attrs:{type:"success",icon:"el-icon-edit",circle:"",title:"编辑"},on:{click:function(a){e.editPersonal(t.$index,t.row)}}})]}}])})],1),e._v(" "),a("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}})],1)]),e._v(" "),e.edit_personal?a("el-dialog",{staticClass:"edit-dialog",attrs:{title:"编辑信息",width:"100%",fullscreen:"",visible:e.edit_personal,"close-on-click-modal":!1,"append-to-body":"","before-close":e.getEditBack},on:{"update:visible":function(t){e.edit_personal=t}}},[a("EditPersonal",{attrs:{selectDeceive:e.chioceObj}})],1):e._e(),e._v(" "),e.isexcelColsSelect?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"导出列选择",width:"500px",height:"500px",visible:e.isexcelColsSelect,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.isexcelColsSelect=t}}},[a("excelColsSelect",{attrs:{tableCols:e.options},on:{colsBack:e.colsBack}})],1):e._e()],1)],1)};h._withStripped=!0;var p={render:h,staticRenderFns:[]},g=p;var m=!1;var u=a("VU/8")(d,g,!1,function(e){m||a("y+aL")},"data-v-59e315d1",null);u.options.__file="src/views/cadreInfoCollection/cadreInfoCollection.vue";t.default=u.exports}});