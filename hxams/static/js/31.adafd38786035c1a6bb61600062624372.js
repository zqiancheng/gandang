webpackJsonp([31],{C2bb:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.el-scrollbar .el-scrollbar__view .el-select-dropdown__item[data-v-30a90f58] {\n  height: auto;\n  padding: 0;\n}\n.el-select-dropdown__item.selected[data-v-30a90f58] {\n  font-weight: normal;\n}\nul li > .el-tree .el-tree-node__content[data-v-30a90f58] {\n  height: auto;\n}\n.el-tree-node__label[data-v-30a90f58] {\n  font-weight: normal;\n}\n.el-tree > .is-current .el-tree-node__label[data-v-30a90f58] {\n  color: #409EFF;\n  font-weight: 700;\n}\n.el-tree > .is-current .el-tree-node__children .el-tree-node__label[data-v-30a90f58] {\n  color: #606266;\n  font-weight: normal;\n}\n",""])},Chwv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("cMGX"),i=n("lcDd"),o=(n("g7ZD"),{name:"knowledgeTreeSelect",props:["defaultOptions"],data:function(){return{selectedOptions:[],treeProps:{value:"id",label:"title",children:"children"},oldTreeList:[],treeList:[]}},created:function(){this.getData()},mounted:function(){},methods:{handleChange:function(e){var t="";e&&e.length>0&&(t=e[e.length-1]);var n=this.findObjById(t);this.$emit("knowledgeTreeSelectCall",n)},findObjById:function(e){for(var t={},n=0;n<this.oldTreeList.length;n++)if(e==this.oldTreeList[n].id){t=this.oldTreeList[n];break}return t},getData:function(){var e=this,t=this;this.$axios({loading:{isShow:!1},method:"post",url:this.API.queryBusinessType,data:{typename:"Sys_ArchivesKnowledge"}}).then(function(n){var a=n.data;if("1"==a.code){var i={childKey:"id",fatherKey:"pid"};if(t.oldTreeList=a.data,t.treeList=t.commonFun.toTreeDataNormal(a.data,i),t.defaultOptions){var o=t.commonFun.findTreeNodeById(t.oldTreeList,t.defaultOptions,i);t.selectedOptions=t.commonFun.createArrIdAndReverse(o,"id")}else""==t.defaultOptions?t.selectedOptions=[]:t.selectedOptions.push(t.treeList[0].id);var l=t.selectedOptions[t.selectedOptions.length-1],s=e.findObjById(l);e.$emit("knowledgeTreeSelectCall",s)}else t.$message({type:"error",message:"获取上级分类下拉框数据失败，请刷新重试！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})}}}),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"knowledgeTreeSelect"},[n("el-cascader",{attrs:{placeholder:"请选择","expand-trigger":"hover",options:e.treeList,"change-on-select":!0,props:e.treeProps,clearable:!0,"show-all-levels":!1},on:{change:e.handleChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1)};l._withStripped=!0;var s={render:l,staticRenderFns:[]},r=s;var d=!1;var c=n("VU/8")(o,r,!1,function(e){d||n("mKxn")},"data-v-30a90f58",null);c.options.__file="src/components/KnowledgeTreeSelect.vue";var g={name:"knowledegTree",components:{knowledgeTreeSelect:c.exports},props:["knowledgeBaseObj","isEdit"],data:function(){return{knowledgeTreeForm:{id:"",pid:"",title:"",content:""},rules:{title:[{required:!0,message:"请输入分类名称",trigger:"change"},{min:1,max:60,message:"长度必须在1到60位字符之间",trigger:"blur"}],content:[{min:0,max:1300,message:"长度必须在0到1300位字符之间",trigger:"blur"}]},defaultFormTree:[]}},computed:{},watch:{},methods:{knowledgeTreeSelectCall:function(e){e&&(this.knowledgeTreeForm.pid=e.id)},save:function(e){var t=this;this.knowledgeBaseObj.id!=this.knowledgeTreeForm.pid?this.$refs[e].validate(function(e){if(!e)return!1;t.addKnowledgeTreeToNet()}):this.$message({type:"error",message:"请选择上级分类！"})},addKnowledgeTreeToNet:function(){var e=this;this.$axios({method:"post",url:this.API.saveOrUpdateBusType,data:{id:this.knowledgeTreeForm.id,pid:this.knowledgeTreeForm.pid,title:this.knowledgeTreeForm.title,typename:"Sys_ArchivesKnowledge",content:this.knowledgeTreeForm.content}}).then(function(t){"1"==t.data.code?(e.$message({message:"添加数据成功！",type:"success"}),e.$emit("knowledgeTreeCall",!0)):e.$message({type:"error",message:"添加数据失败，请刷新重试！"})})},cancel:function(){this.resetForm("knowledgeTreeForm"),this.$emit("knowledgeTreeCall",!1)},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){this.knowledgeBaseObj.pid&&""!=this.knowledgeBaseObj.pid?this.defaultFormTree=this.knowledgeBaseObj.pid:this.isEdit?this.defaultFormTree="":this.defaultFormTree=this.knowledgeBaseObj.id,this.isEdit&&(this.knowledgeTreeForm.id=this.knowledgeBaseObj.id,this.knowledgeTreeForm.content=this.knowledgeBaseObj.content,this.knowledgeTreeForm.title=this.knowledgeBaseObj.title)},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"knowledeg-tree-add"},[n("el-form",{ref:"knowledgeTreeForm",staticClass:"demo-ruleForm",attrs:{model:e.knowledgeTreeForm,rules:e.rules,"label-width":"100px",size:"small"}},[n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"pid",label:"上级分类："}},[n("knowledgeTreeSelect",{attrs:{defaultOptions:e.defaultFormTree},on:{knowledgeTreeSelectCall:e.knowledgeTreeSelectCall}})],1)],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"title",label:"分类名称："}},[n("el-input",{attrs:{placeholder:"请输入分类名称"},model:{value:e.knowledgeTreeForm.title,callback:function(t){e.$set(e.knowledgeTreeForm,"title",t)},expression:"knowledgeTreeForm.title"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{prop:"content",label:"内容："}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.knowledgeTreeForm.content,callback:function(t){e.$set(e.knowledgeTreeForm,"content",t)},expression:"knowledgeTreeForm.content"}})],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save("knowledgeTreeForm")}}},[e._v("保存")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.cancel}},[e._v("取 消")])],1)],1)};u._withStripped=!0;var p={render:u,staticRenderFns:[]},m=p;var h=!1;var f=n("VU/8")(g,m,!1,function(e){h||n("Dvwc")},"data-v-c7942af8",null);f.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/KnowledgeTreeForm.vue";var b=f.exports,w={name:"knowledgeBaseTable",components:{},props:["selectColumn","isEditTable","knowledgeBaseObj"],data:function(){return{knowledgeBaseTable:{id:"",title:"",comments:"",publiclevel:0,content:""},rules:{title:[{required:!0,message:"请输入名称",trigger:"change"},{min:1,max:60,message:"长度必须在1到60位字符之间",trigger:"blur"}],comments:[{required:!0,message:"请输入简要说明",trigger:"change"},{min:1,max:15,message:"长度必须在1到15位字符之间",trigger:"blur"}],content:[{min:0,max:715827882,message:"长度必须在0到715827882位字符之间",trigger:"blur"}]},options:[{value:1,label:"公开"},{value:0,label:"不公开"}],editorOption:{placeholder:"请在这里输入...",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:[1,2,3,4,5,6,!1]}],[{align:[]}],["image","link"]]}},fileList:[],completeUrl:"",fileIds:[],uploadFileName:"uploadFile",isFileLength:0,filename:"",fileId:"",fileListLgt:0}},computed:{editor:function(){return this.$refs.myQuillEditor.quill},headers:function(){var e=window.vm.$store.state;if(e.user&&e.user.token){var t=encodeURIComponent(e.user.token),n=this.$axios.defaults.headers.selectmenuid,a=encodeURIComponent(t);return e.menuObj&&e.menuObj.id&&(n=e.menuObj.id),{token:a,selectmenuid:n}}return window.vm.commonFun.againLogin(!0),{}}},watch:{},methods:{beforeUpload:function(e){var t=e.size/1024/1024<1;if(!t)return this.$message({type:"error",message:"上传文件大小不得超过1M！"}),t},handleRemove:function(e,t){var n=this;this.$axios({method:"get",url:this.API.deleteAttaById,params:{id:e.id}}).then(function(e){"1"==e.data.code&&(n.$message({type:"success",message:"移除附件成功！"}),n.fileListLgt--,n.fileList=t)}).catch(function(e){n.$message({type:"error",message:"请求异常，请检查网络！"})})},handleChange:function(e,t){this.fileList=t},handleSuccess:function(e,t,n){"1"===e.code?(this.isFileLength++,this.fileIds.push(e.data.id),this.isFileLength+this.fileListLgt===this.fileList.length&&this.updateToNet()):"3"===e.code?(this.$message({type:"error",message:"登录信息过期，请重新登录!"}),this.commonFun.againLogin(!0)):this.$message({type:"error",message:"上传文件失败，请重新上传！"})},downloadPic:function(e,t){var n=document.createElement("a"),a=this.base64ToBlob(t);document.createEvent("HTMLEvents").initEvent("click",!0,!0),n.download=e,n.href=URL.createObjectURL(a),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)},base64ToBlob:function(e){for(var t=e.split(";base64,"),n=t[0].split(":")[1],a=window.atob(t[1]),i=a.length,o=new Uint8Array(i),l=0;l<i;++l)o[l]=a.charCodeAt(l);return new Blob([o],{type:n})},downloadFile:function(e,t){var n=new Blob([t]);if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(n,e);else{var a=document.createElement("a");a.download=e,a.style.display="none",a.href=URL.createObjectURL(n),document.body.appendChild(a),a.click(),URL.revokeObjectURL(a.href),document.body.removeChild(a)}},downloadAxios:function(e,t){var n=this;this.$axios({method:"post",url:this.API.downloadFile,responseType:e,data:{id:this.fileId}}).then(function(e){var a;t?(a=e.data,n.downloadFile(n.filename,a)):(a=e.data.data,n.downloadPic(n.filename,a))}).catch(function(e){n.$message({type:"error",message:"请求异常，请检查网络！"})})},handlePreview:function(e){this.filename=e.name,this.fileId=e.id,"jpg"==e.type||"jpeg"==e.type||"png"==e.type||"gif"==e.type||"bmp"==e.type?this.downloadAxios("",!1):this.downloadAxios("arraybuffer",!0)},save:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;0===t.fileList.length||t.fileListLgt==t.fileList.length?t.updateToNet():t.$refs.upload.submit()})},updateToNet:function(){var e=this,t="";t=this.isEditTable?this.API.updateArchKnowledge:this.API.saveArchKnowledge,this.$axios({method:"post",url:t,data:{id:this.knowledgeBaseTable.id,businesstypeid:this.knowledgeBaseObj.id,title:this.knowledgeBaseTable.title,comments:this.knowledgeBaseTable.comments,content:this.knowledgeBaseTable.content,publiclevel:this.knowledgeBaseTable.publiclevel,businesstype:"Sys_ArchivesKnowledge",fileids:this.fileIds.join(",").toString()}}).then(function(t){"1"==t.data.code?(e.$message({message:"操作成功！",type:"success"}),e.$emit("knowledgebaseTableCall",!0)):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},getData:function(){var e=this;this.$axios({method:"post",url:this.API.editArchKnowledge,data:{id:this.selectColumn.id}}).then(function(t){var n=t.data;if("1"==n.code){var a=n.data.list;e.fileListLgt=a.length,a.forEach(function(t){e.fileList.push({name:t.satitle,id:t.fileid,type:t.filetype})})}else e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},cancel:function(){this.resetForm("knowledgeBaseTable"),this.$emit("knowledgebaseTableCall",!1)},resetForm:function(e){this.$refs[e].resetFields()},onEditorChange:function(){}},created:function(){""!=this.selectColumn&&(this.knowledgeBaseTable.id=this.selectColumn.id,this.knowledgeBaseTable.title=this.selectColumn.title,this.knowledgeBaseTable.comments=this.selectColumn.comments,this.knowledgeBaseTable.content=this.selectColumn.content,this.knowledgeBaseTable.publiclevel=this.selectColumn.publiclevel,this.getData(),this.isEdit=!0)},mounted:function(){this.completeUrl=this.API.baseURL+this.API.uploadFileImageandExcel},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"knowledge-table-add"},[n("el-form",{ref:"knowledgeBaseTable",staticClass:"demo-ruleForm",attrs:{model:e.knowledgeBaseTable,rules:e.rules,"label-width":"100px",size:"small"}},[n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"title",label:"标题："}},[n("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.knowledgeBaseTable.title,callback:function(t){e.$set(e.knowledgeBaseTable,"title",t)},expression:"knowledgeBaseTable.title"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"publiclevel",label:"是否公开："}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.knowledgeBaseTable.publiclevel,callback:function(t){e.$set(e.knowledgeBaseTable,"publiclevel",t)},expression:"knowledgeBaseTable.publiclevel"}},e._l(e.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),n("el-form-item",{attrs:{prop:"comments",label:"简要说明："}},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入简要说明"},model:{value:e.knowledgeBaseTable.comments,callback:function(t){e.$set(e.knowledgeBaseTable,"comments",t)},expression:"knowledgeBaseTable.comments"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"content",label:"内容："}},[n("div",{staticClass:"editorContent",staticStyle:{"min-height":"450px"}},[n("quill-editor",{ref:"myQuillEditor",staticStyle:{height:"400px"},attrs:{options:e.editorOption},on:{change:function(t){e.onEditorChange(t)}},model:{value:e.knowledgeBaseTable.content,callback:function(t){e.$set(e.knowledgeBaseTable,"content",t)},expression:"knowledgeBaseTable.content"}})],1)]),e._v(" "),n("el-form-item",{attrs:{label:"附件上传："}},[n("el-upload",{ref:"upload",attrs:{action:e.completeUrl,name:e.uploadFileName,"before-upload":e.beforeUpload,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"on-preview":e.handlePreview,"file-list":e.fileList,headers:e.headers,"auto-upload":!1,"on-change":e.handleChange,accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.xls,.xlsx,.doc,.docx,.txt",multiple:""}},[n("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("点击上传")])],1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save("knowledgeBaseTable")}}},[e._v("保存")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.cancel}},[e._v("取 消")])],1)],1)};v._withStripped=!0;var k={render:v,staticRenderFns:[]},T=k;var y=!1;var x=n("VU/8")(w,T,!1,function(e){y||n("x0vP")},"data-v-90ba14ea",null);x.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/KnowledgebaseTable.vue";var _=x.exports,C={name:"konwledgBrowse",components:{},props:["selectColumn"],data:function(){return{browseItem:{},isEnclosure:!1,fileList:[],filename:"",fileId:""}},computed:{},watch:{},methods:{getUploadFile:function(){var e=this;this.$axios({method:"post",url:this.API.editArchKnowledge,data:{id:this.browseItem.id}}).then(function(t){var n=t.data;"1"==n.code?(e.isEnclosure=!0,n.data.list.forEach(function(t){e.fileList.push({name:t.satitle,id:t.fileid,type:t.filetype})})):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},downloadPic:function(e,t){var n=document.createElement("a"),a=this.base64ToBlob(t);document.createEvent("HTMLEvents").initEvent("click",!0,!0),n.download=e,n.href=URL.createObjectURL(a),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)},base64ToBlob:function(e){for(var t=e.split(";base64,"),n=t[0].split(":")[1],a=window.atob(t[1]),i=a.length,o=new Uint8Array(i),l=0;l<i;++l)o[l]=a.charCodeAt(l);return new Blob([o],{type:n})},downloadFile:function(e,t){var n=new Blob([t]);if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(n,e);else{var a=document.createElement("a");a.download=e,a.style.display="none",a.href=URL.createObjectURL(n),document.body.appendChild(a),a.click(),URL.revokeObjectURL(a.href),document.body.removeChild(a)}},downloadAxios:function(e,t){var n=this;this.$axios({method:"post",url:this.API.downloadFile,responseType:e,data:{id:this.fileId}}).then(function(e){var a;t?(a=e.data,n.downloadFile(n.filename,a)):(a=e.data.data,n.downloadPic(n.filename,a))}).catch(function(e){n.$message({type:"error",message:"请求异常，请检查网络！"})})},handlePreview:function(e){this.filename=e.name,this.fileId=e.id,"jpg"==e.type||"jpeg"==e.type||"png"==e.type||"gif"==e.type||"bmp"==e.type?this.downloadAxios("",!1):this.downloadAxios("arraybuffer",!0)}},created:function(){this.browseItem=this.selectColumn,this.browseItem.content=this.selectColumn.content,this.getUploadFile()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"konwledg-browse-container"},[n("div",{staticClass:"demo-ruleForm"},[n("el-row",{attrs:{gutter:24}},[n("h4",[e._v(e._s(e.browseItem.title))])]),e._v(" "),n("el-row",[n("div",{staticClass:"title"},[e._v(e._s(e.browseItem.comments))]),e._v(" "),n("div",{attrs:{id:"content"},domProps:{innerHTML:e._s(e.browseItem.content)}}),e._v(" "),e.isEnclosure?n("div",{staticClass:"enclosure"},[n("el-upload",{ref:"upload",attrs:{action:"","file-list":e.fileList,"on-preview":e.handlePreview}})],1):e._e()])],1)])};B._withStripped=!0;var F={render:B,staticRenderFns:[]},$=F;var O=!1;var j=n("VU/8")(C,$,!1,function(e){O||n("wWSi")},"data-v-f97a6428",null);j.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/Knowledgebrowse.vue";var L=j.exports,I={name:"knowledgeBaseManagement",components:{pagination:a.a,konwledgebaseTree:i.a,knowledgeTreeForm:b,knowledgebaseTable:_,knowledgebrowse:L},props:[""],data:function(){return{pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},tableHeight:"400",dialogTitle:"添加",dialogGridTitle:"添加",selectColumn:"",knowledgeBaseList:[],knowledgeTreeVisble:!1,knowledgeTableVisble:!1,title:"",knowledgebrowseVisble:!1,knowledgeBaseObj:"",isEdit:!1,isEditTable:!1}},computed:{},watch:{knowledgeBaseList:{handler:function(e){this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-70-52-104}}},methods:{baseTreeCall:function(e){this.knowledgeBaseObj=e,this.getData(),this.selectColumn=""},handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.getData()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getData()},clickRow:function(e){this.selectColumn=e},addTree:function(){this.isEdit=!1,this.dialogTitle="添加",this.knowledgeTreeVisble=!0},editTree:function(){this.isEdit=!0,this.dialogTitle="编辑",this.knowledgeTreeVisble=!0},delTree:function(){var e=this;this.$confirm("确定删除选中记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.deleteTreeFromNet()}).catch(function(t){e.$message({type:"info",message:"已取消"})})},deleteTreeFromNet:function(){var e=this;this.$axios({loading:{isShow:!0,target:".konwledgebase-tree-content"},method:"get",url:this.API.deleteBusType,params:{id:this.knowledgeBaseObj.id}}).then(function(t){"1"==t.data.code?(e.$message({type:"success",message:"删除成功！"}),e.$refs.knowledgeBaseTree.getData()):e.$message({type:"error",message:"操作失败，请刷新！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},getData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".table"},method:"post",url:this.API.queryArchKnowledge,data:{pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize,businesstypeid:this.knowledgeBaseObj.id,title:this.title}}).then(function(t){var n=t.data;"1"==n.code?(e.knowledgeBaseList=n.data.list,e.pageObj.total=n.data.total):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},search:function(){this.pageObj.pageIndex=this.API.constObj.pageIndex,this.getData()},knowledgeTreeCall:function(e){this.knowledgeTreeVisble=!1,e&&this.$refs.knowledgeBaseTree.getData()},addTable:function(){this.selectColumn="",this.isEditTable=!1,this.dialogGridTitle="新增",this.knowledgeTableVisble=!0},editTable:function(){""!=this.selectColumn?(this.isEditTable=!0,this.dialogGridTitle="编辑",this.knowledgeTableVisble=!0):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},delTable:function(){var e=this;""!=this.selectColumn?this.$confirm("确定删除选中记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.deleteFromNet()}).catch(function(){e.selectColumn="",e.$message({type:"info",message:"已取消"})}):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},deleteFromNet:function(){var e=this;this.$axios({loading:{isShow:!0,target:".table"},method:"get",url:this.API.deleteArchKnowledge,params:{id:this.selectColumn.id}}).then(function(t){"1"==t.data.code?(e.selectColumn="",e.$message({message:"删除成功！",type:"success"}),e.getData()):e.$message({type:"error",message:"获取失败，请刷新！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},browseTable:function(){""!=this.selectColumn?this.knowledgebrowseVisble=!0:this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},knowledgebaseTableCall:function(e){this.knowledgeTableVisble=!1,e&&this.getData()}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"konwledgebase-container"},[n("el-main",[n("div",{staticClass:"left"},[n("div",{staticClass:"left-title"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addTree}},[e._v("添加")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.editTree}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.delTree}},[e._v("删除")])],1),e._v(" "),n("div",{staticClass:"konwledgebase-tree-content"},[n("konwledgebaseTree",{ref:"knowledgeBaseTree",on:{baseTreeCall:e.baseTreeCall}})],1)]),e._v(" "),n("div",{staticClass:"lines"}),e._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"right-title"},[n("div",{staticClass:"right-title-l"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addTable}},[e._v("添加")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.editTable}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.delTable}},[e._v("删除")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.browseTable}},[e._v("浏览")])],1),e._v(" "),n("div",{staticClass:"right-title-r"},[n("el-input",{staticClass:"myinput",attrs:{placeholder:"标题",clearable:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v("查询")])],1)]),e._v(" "),n("el-table",{ref:"table",staticClass:"table",staticStyle:{width:"100%",height:"100%"},attrs:{height:e.tableHeight,"highlight-current-row":"",data:e.knowledgeBaseList},on:{"row-click":e.clickRow}},[n("el-table-column",{attrs:{prop:"rowNo",label:"序号",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"title",label:"标题"}}),e._v(" "),n("el-table-column",{attrs:{prop:"publiclevel",label:"公开程度"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.publiclevel?n("span",[e._v("公开")]):0===t.row.publiclevel?n("span",[e._v("不公开")]):n("span")]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"comments",label:"说明","show-overflow-tooltip":""}})],1),e._v(" "),n("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}}),e._v(" "),e.knowledgeTreeVisble?n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.dialogTitle,visible:e.knowledgeTreeVisble,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.knowledgeTreeVisble=t}}},[n("knowledgeTreeForm",{attrs:{isEdit:e.isEdit,knowledgeBaseObj:e.knowledgeBaseObj},on:{knowledgeTreeCall:e.knowledgeTreeCall}})],1):e._e(),e._v(" "),e.knowledgeTableVisble?n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.dialogGridTitle,visible:e.knowledgeTableVisble,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.knowledgeTableVisble=t}}},[n("knowledgebaseTable",{attrs:{isEditTable:e.isEditTable,knowledgeBaseObj:e.knowledgeBaseObj,selectColumn:e.selectColumn},on:{knowledgebaseTableCall:e.knowledgebaseTableCall}})],1):e._e(),e._v(" "),e.knowledgebrowseVisble?n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"浏览",visible:e.knowledgebrowseVisble},on:{"update:visible":function(t){e.knowledgebrowseVisble=t}}},[n("knowledgebrowse",{attrs:{selectColumn:e.selectColumn}})],1):e._e()],1)])],1)};S._withStripped=!0;var A={render:S,staticRenderFns:[]},E=A;var U=!1;var P=n("VU/8")(I,E,!1,function(e){U||n("Mpx3")},"data-v-56c98494",null);P.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/KonwledgeBaseManagement.vue";t.default=P.exports},Dvwc:function(e,t,n){var a=n("X3mX");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("1a0b785a",a,!1,{})},Mpx3:function(e,t,n){var a=n("tMIQ");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("24794891",a,!1,{})},X3mX:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.knowledeg-tree-add[data-v-c7942af8] {\n  padding-right: 10px;\n}\n.knowledeg-tree-add .el-button[data-v-c7942af8] {\n    margin-bottom: 10px;\n}\n.knowledeg-tree-add .dialog-footer[data-v-c7942af8] {\n    text-align: center;\n}\n",""])},ZdiQ:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.demo-ruleForm[data-v-f97a6428] .el-upload-list__item.is-success:focus:not(:hover) .el-icon-close-tip {\n  display: none;\n}\n.demo-ruleForm[data-v-f97a6428] .el-upload-list__item:hover .el-icon-close {\n  display: none;\n}\n#content[data-v-f97a6428] img {\n  display: block;\n  width: 80%;\n}\n#content[data-v-f97a6428] em {\n  font-style: italic;\n}\n.konwledg-browse-container[data-v-f97a6428] {\n  width: 100%;\n  min-height: 380px;\n  height: 60vh;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.konwledg-browse-container h4[data-v-f97a6428] {\n    text-align: center;\n    font-size: 18px;\n    color: #333;\n    margin: 10px 0px;\n}\n.konwledg-browse-container .title[data-v-f97a6428] {\n    margin: 15px;\n}\n.konwledg-browse-container #content[data-v-f97a6428] {\n    color: #666;\n    width: 96%;\n    text-indent: 20px;\n    margin: 0 2% 30px;\n}\n.enclosure[data-v-f97a6428] .el-upload--text {\n  text-align: left;\n  border: none;\n}\n.enclosure[data-v-f97a6428] .el-upload {\n  text-align: left;\n}\n",""])},mKxn:function(e,t,n){var a=n("C2bb");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("7983cfff",a,!1,{})},"qDk/":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.knowledge-table-add[data-v-90ba14ea] .el-upload--text {\n  text-align: left;\n  border: none;\n}\n.knowledge-table-add[data-v-90ba14ea] .el-upload {\n  text-align: left;\n}\n.demo-ruleForm[data-v-90ba14ea] .el-icon-close:before {\n  color: #606266;\n}\n.editorContent[data-v-90ba14ea] em {\n  font-style: italic;\n}\n.knowledge-table-add[data-v-90ba14ea] {\n  padding-right: 10px;\n}\n.knowledge-table-add .dialog-footer[data-v-90ba14ea] {\n    text-align: center;\n}\n.knowledge-table-add .dialog-footer .el-button[data-v-90ba14ea] {\n      margin-bottom: 10px;\n}\n",""])},tMIQ:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.right[data-v-56c98494] .el-table__body tr.current-row > td {\n  background: #dcebfa !important;\n  color: #606266;\n}\n.konwledgebase-container[data-v-56c98494] {\n  height: calc(100% - 44px);\n  border: none;\n}\n.konwledgebase-container .my-header[data-v-56c98494] {\n    padding-top: 15px;\n    font-size: 16px;\n    font-weight: bold;\n}\n.konwledgebase-container .el-main[data-v-56c98494] {\n    font-size: 13px;\n    background-color: #fff;\n    height: 100%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    padding: 0px;\n}\n.konwledgebase-container .el-main .left[data-v-56c98494] {\n      width: 25%;\n      height: 100%;\n}\n.konwledgebase-container .el-main .left .left-title[data-v-56c98494] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        border-bottom: 1px solid #CCC;\n        padding: 10px;\n}\n.konwledgebase-container .el-main .left .konwledgebase-tree-content[data-v-56c98494] {\n        height: calc(100% - 61px);\n        overflow-y: auto;\n        margin-top: 10px;\n}\n.konwledgebase-container .el-main .lines[data-v-56c98494] {\n      border-left: 1px solid #CCC;\n}\n.konwledgebase-container .el-main .right[data-v-56c98494] {\n      width: 75%;\n}\n.konwledgebase-container .el-main .right .right-title[data-v-56c98494] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between;\n        padding: 10px;\n}\n.konwledgebase-container .el-main .right .right-title .right-title-l[data-v-56c98494] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n}\n.konwledgebase-container .el-main .right .right-title .right-title-r[data-v-56c98494] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n}\n.konwledgebase-container .el-main .right .right-title .right-title-r .el-input[data-v-56c98494] {\n            width: 180px;\n            margin-right: 10px;\n}\n.konwledgebase-container .el-main .right .material_page[data-v-56c98494] {\n        margin-top: 10px;\n        margin-bottom: 10px;\n        text-align: right;\n}\n",""])},wWSi:function(e,t,n){var a=n("ZdiQ");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("6508e0f4",a,!1,{})},x0vP:function(e,t,n){var a=n("qDk/");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("11f62da0",a,!1,{})}});