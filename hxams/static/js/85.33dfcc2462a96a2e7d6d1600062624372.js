webpackJsonp([85],{MzTK:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.querycount-container .el-main[data-v-6cff96ef] {\n  background-color: #fff;\n  padding: 0 !important;\n}\n.querycount-container .el-main .querycount-title[data-v-6cff96ef] {\n    padding: 10px 10px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.querycount-container .el-main .querycount-title .el-input[data-v-6cff96ef] {\n      width: 180px;\n      margin: 0 10px 0 0;\n}\n.querycount-container .el-main .querycount-title .el-date-picker[data-v-6cff96ef] {\n      margin: 0 10px;\n}\n",""])},OfkA:function(t,e,n){var a=n("MzTK");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("1f4c4e96",a,!1,{})},g62W:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"queryCount",data:function(){return{Time:"",startTime:"",endTime:"",queryCount:[],tableHeight:0,countItems:[{code:"2",name:"库存统计"},{code:"3",name:"查借阅统计"},{code:"4",name:"散材料统计"},{code:"5",name:"日常业务统计"}],countItem:"2"}},created:function(){this.search()},watch:{queryCount:{handler:function(t){this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-70-10}}},methods:{search:function(){if(null===this.Time)this.startTime="",this.endTime="";else if((this.Time||""!=this.Time)&&this.Time.length>0){var t=this.Time;this.startTime=this.commonFun.dateFormat(t[0],"yyyyMMdd"),this.endTime=this.commonFun.dateFormat(t[1],"yyyyMMdd")}else this.startTime="",this.endTime="";"1"===this.countItem?this.countCarde():this.recordAnalysis()},countCarde:function(){var t=this;this.$axios({loading:{isShow:!1},method:"post",url:this.API.cadresPersonnelBigData,data:{startTime:this.startTime,endTime:this.endTime}}).then(function(e){var n=e.data;"1"===n.code?(t.queryCount=n.data,t.queryCount.forEach(function(e){t.$set(e,"unit","人 次")})):t.$message({type:"error",message:"获取失败，请刷新！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})},recordAnalysis:function(){var t=this;this.$axios({loading:{isShow:!1},method:"post",url:this.API.getArchivesAccountManagement,data:{startTime:this.startTime,endTime:this.endTime}}).then(function(e){var n=e.data;"1"===n.code?("2"===t.countItem?t.queryCount=n.data.list1:"3"===t.countItem?t.queryCount=n.data.list2:"4"===t.countItem?t.queryCount=n.data.list3:"5"===t.countItem&&(t.queryCount=n.data.list4),t.queryCount.forEach(function(e){t.$set(e,"unit","人 次")})):t.$message({type:"error",message:"获取失败，请刷新！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})}}},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"querycount-container"},[n("el-main",[n("div",{staticClass:"querycount-title"},[n("el-select",{attrs:{placeholder:"请选择统计项"},model:{value:t.countItem,callback:function(e){t.countItem=e},expression:"countItem"}},t._l(t.countItems,function(t){return n("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}),1),t._v(" "),n("el-date-picker",{staticClass:"el-date-picker",attrs:{type:"daterange",format:"yyyyMMdd","range-separator":"至","start-placeholder":"统计开始日期","end-placeholder":"统计结束日期"},model:{value:t.Time,callback:function(e){t.Time=e},expression:"Time"}}),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.search}},[t._v("统计")])],1),t._v(" "),n("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.queryCount,height:t.tableHeight}},[n("el-table-column",{attrs:{prop:"name",label:"项目","show-overflow-tooltip":""}}),t._v(" "),n("el-table-column",{attrs:{prop:"value",label:"值","show-overflow-tooltip":"","min-width":"130px"}}),t._v(" "),n("el-table-column",{attrs:{prop:"unit",label:"单位","show-overflow-tooltip":"","min-width":"130px"}})],1)],1)],1)};i._withStripped=!0;var o={render:i,staticRenderFns:[]},r=o;var s=!1;var c=n("VU/8")(a,r,!1,function(t){s||n("OfkA")},"data-v-6cff96ef",null);c.options.__file="src/views/archivesBigData/queryCount/queryCount.vue";e.default=c.exports}});