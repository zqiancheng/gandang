webpackJsonp([4,33,35,76],{"/EoD":function(e,t,n){var o=n("ZqUK");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("b12f1a8c",o,!1,{})},"/V6b":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.workComTreeContent[data-v-7db022f7] {\n  width: 100%;\n  height: 80%;\n}\n.workComTreeContent .el-tree[data-v-7db022f7] {\n    height: 100%;\n    width: 100%;\n    min-width: 250px;\n}\n",""])},"3HUV":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.treeContainer .el-tree[data-v-80752c94] {\n  height: 360px;\n  overflow-y: auto;\n  font-size: 13px;\n  display: inline-block;\n}\n.treeContainer .el-button[data-v-80752c94] {\n  margin-bottom: 10px;\n}\n.treeContainer .dialog-footer[data-v-80752c94] {\n  margin-top: 10px;\n  text-align: center;\n}\n",""])},DjwR:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.config-form-add {\n  padding-right: 20px;\n}\n.config-form-add .el-button {\n    margin-bottom: 10px;\n}\n.config-form-add .dialog-footer {\n    text-align: center;\n}\n",""])},ElLv:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.sort-detail-container[data-v-e022af4a] .el-table__body tr.current-row > td {\n  background: #dcebfa !important;\n  color: #606266;\n}\n.sort-detail-container .sort-detail-title[data-v-e022af4a] {\n  margin-bottom: 10px;\n}\n",""])},FgAn:function(e,t,n){var o=n("o7pW");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("0950a932",o,!1,{})},H4wQ:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.bench-config-container[data-v-b4f63814] {\n  border: none;\n}\n.bench-config-container .my-header[data-v-b4f63814] {\n    padding-top: 15px;\n    font-size: 16px;\n    font-weight: bold;\n}\n.bench-config-container .el-main[data-v-b4f63814] {\n    padding: 0 !important;\n    background-color: #fff;\n    height: 100%;\n}\n.bench-config-container .el-main .bench-config-title[data-v-b4f63814] {\n      padding: 10px;\n}\n.bench-config-container .el-main .bench-config-content .el-table__body tr.current-row > td[data-v-b4f63814] {\n      background: #dcebfa !important;\n      color: #606266;\n}\n.bench-config-container .gray[data-v-b4f63814] {\n    background-color: #dcdfe6;\n    border-color: #dcdfe6;\n    color: #909399;\n}\n.bench-config-container[data-v-b4f63814] .el-dialog__body {\n    padding: 20px 0 20px !important;\n}\n",""])},JtHF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("woOf"),i=n.n(o),a=n("cMGX"),r={name:"config",components:{},props:["selectColumn"],data:function(){return{configForm:{id:"",name:""},rules:{name:[{required:!0,message:"请输入工作台名称",trigger:"change"},{min:0,max:30,message:"长度必须在0到30位字符之间",trigger:"blur"}]},isEdit:!1}},computed:{},watch:{},methods:{saveConfig:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.addConfigToNet()})},addConfigToNet:function(){var e=this;this.$axios({methods:"get",url:this.API.saveOrUpdatePWD,params:{id:this.configForm.id,name:this.configForm.name}}).then(function(t){"1"==t.data.code?(e.$message({message:"操作成功！",type:"success"}),e.$emit("ConfigCallBack",!0)):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},cancelConfig:function(){this.resetForm("configForm"),this.$emit("ConfigCallBack",!1)},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){""!=this.selectColumn&&(this.configForm.id=this.selectColumn.id,this.configForm.name=this.selectColumn.name,this.isEdit=!0)},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"config-form-add"},[n("el-form",{ref:"configForm",staticClass:"demo-ruleForm",attrs:{model:e.configForm,rules:e.rules,"label-width":"110px",size:"small"}},[n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"工作台名称：",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入工作台名称"},model:{value:e.configForm.name,callback:function(t){e.$set(e.configForm,"name",t)},expression:"configForm.name"}})],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveConfig("configForm")}}},[e._v("保存")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.cancelConfig}},[e._v("取 消")])],1)],1)};s._withStripped=!0;var l={render:s,staticRenderFns:[]},c=l;var d=!1;var m=n("VU/8")(r,c,!1,function(e){d||n("Ui9F")},null,null);m.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/ConfigForm.vue";var h=m.exports,u=(n("mvHQ"),{name:"addDetailContainer",components:{},props:["id","name","detaileTable"],data:function(){return{defaultProps:{label:"name",children:"children"},checkedId:[],oldList:[],treeList:[]}},computed:{},watch:{},methods:{getData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".treeContainer"},methods:"get",url:this.API.powerWorkMenuList}).then(function(t){var n=t.data;"1"==n.code?(e.treeList=e.commonFun.toTreeDataNormal(n.data,{childKey:"id",fatherKey:"parentid"}),"领导工作台"==e.name||"档案管理员工作台"==e.name?(e.treeList[0].children[1].disabled=!1,e.treeList[0].children[4].disabled=!1):(e.treeList[0].children[1].disabled=!0,e.treeList[0].children[4].disabled=!0),e.detaileTable.forEach(function(t){e.checkedId.push(t.menuid)})):e.$message({type:"error",message:"，请刷新重试！"})}).catch(function(e){})},saveTreeList:function(){var e=this,t=this.$refs.tree.getCheckedKeys(!0);if(""==t)return this.$message({type:"error",message:"请至少选择一条数据！"}),!1;this.$axios({loading:{isShow:!0,target:".treeContainer"},method:"post",url:this.API.savePWDMenus,data:{workbenchid:this.id,menuids:t.join(",")}}).then(function(t){"1"==t.data.code?e.$emit("addDetCallBack",!0):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})},cancle:function(){this.$emit("addDetCallBack",!1)},handleNodeClick:function(e){}},created:function(){this.getData()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}}),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"treeContainer"},[n("el-tree",{ref:"tree",attrs:{data:e.treeList,"default-checked-keys":e.checkedId,"show-checkbox":"","node-key":"id","highlight-current":"","default-expand-all":"",props:e.defaultProps},on:{"node-click":e.handleNodeClick}}),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.saveTreeList}},[e._v("保存")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.cancle}},[e._v("取消")])],1)],1)};f._withStripped=!0;var p={render:f,staticRenderFns:[]},g=p;var b=!1;var v=n("VU/8")(u,g,!1,function(e){b||n("oo1y")},"data-v-80752c94",null);v.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/AddDetail.vue";var C=v.exports,w={name:"sortDetailContainer",components:{},props:["id"],data:function(){return{sortTableList:[],tableHeight:"400",isChange:!1,selectList:"",_index:null}},computed:{},watch:{},methods:{clickRow:function(e){this.selectList=e,this._index=e.index},tableRowClassName:function(e){var t=e.row,n=e.rowIndex;t.index=n},getData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".sort-detail-container"},methods:"get",url:this.API.getWorkMenuListByWorkbenchId,params:{workbenchid:this.id}}).then(function(t){var n=t.data;"1"==n.code?e.sortTableList=n.data.list:e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},initSort:function(){var e=this;this.$axios({loading:{isShow:!0,target:".sort-detail-container"},methods:"get",url:this.API.initializeSortNo,params:{workbenchid:this.id}}).then(function(t){"1"==t.data.code?(e.$message({message:"初始化排序完成！",type:"success"}),e.$emit("sortDetCallBack",!0)):e.$message({type:"error",message:"初始化排序失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},upGo:function(){if(""!=this.selectList){var e=this._index,t=this.sortTableList;0!=e?(t[e]=t.splice(e-1,1,t[e])[0],this._index--,this.isChange=!0):this.$message("已经是第一条，不可上移")}else this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},downGo:function(){if(""!=this.selectList){var e=this._index,t=this.sortTableList;e!=t.length-1?(t[e]=t.splice(e+1,1,t[e])[0],this._index++,this.isChange=!0):this.$message("已经是最后一条，不可下移")}else this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},saveSort:function(){var e=this,t=[];this.sortTableList.forEach(function(e){t.push(e.id)}),this.$axios({methods:"get",url:this.API.updatePwbmSortNo,params:{ids:t.join(",")}}).then(function(t){"1"==t.data.code?(e.$message({message:"排序成功！",type:"success"}),e.$emit("sortDetCallBack",!0)):e.$message({type:"error",message:"保存失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})}},created:function(){this.getData()},mounted:function(){this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-145},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"sort-detail-container"},[n("el-main",[n("div",{staticClass:"sort-detail-title"},[n("el-button",{attrs:{type:"primary"},on:{click:e.initSort}},[e._v("初始化排序")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.upGo}},[e._v("上移")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.downGo}},[e._v("下移")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.saveSort}},[e._v("保存")])],1),e._v(" "),n("div",{staticClass:"sort-detail-content"},[n("el-table",{ref:"table",staticClass:"table",staticStyle:{width:"100%",height:"100%"},attrs:{height:e.tableHeight,data:e.sortTableList,"row-class-name":e.tableRowClassName,"highlight-current-row":"",border:""},on:{"row-click":e.clickRow}},[n("el-table-column",{attrs:{prop:"rowNo",label:"序号",align:"center",width:"80"}}),e._v(" "),n("el-table-column",{attrs:{prop:"workbenchName",label:"工作台",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"menusName",label:"菜单",align:"center"}})],1)],1)])],1)};k._withStripped=!0;var y={render:k,staticRenderFns:[]},x=y;var _=!1;var T=n("VU/8")(w,x,!1,function(e){_||n("Utzn")},"data-v-e022af4a",null);T.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/SortDetail.vue";var F=T.exports,$={name:"configDetail",components:{pagination:a.a,addDetail:C,sortDetail:F},props:["selectColumn"],data:function(){return{pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},tableHeight:"400",selectItem:"",detaileTable:[],addDetailVisble:!1,flag:!0,sortDetailVisble:!1}},computed:{},watch:{},methods:{handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.getBenchConfigData()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getBenchConfigData()},clickRow:function(e){this.selectItem=e},getData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".config-detail-container"},method:"post",url:this.API.queryPWDMenusDetails,data:{pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize,workbenchid:this.selectColumn.id}}).then(function(t){var n=t.data;"1"==n.code?(e.detaileTable=n.data.list,e.pageObj.total=n.data.total):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})},delDetail:function(){var e=this;null!==this.selectItem&&""!==this.selectItem?this.$confirm("确定删除选中记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.deleteDetailFromNet()}).catch(function(){e.selectItem="",e.$message({type:"info",message:"已取消"})}):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},deleteDetailFromNet:function(){var e=this;this.$axios({loading:{isShow:!0,target:".bench-config-container"},method:"get",url:this.API.deletePWDMenus,params:{id:this.selectItem.id}}).then(function(t){"1"==t.data.code?(e.$message({type:"success",message:"删除成功！"}),e.getData()):e.$message({type:"error",message:"操作失败，请刷新！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},addDetCallBack:function(e){this.addDetailVisble=!1,e&&this.getData()},sortDetCallBack:function(e){this.sortDetailVisble=!1,e&&this.getData()}},created:function(){this.getData()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"config-detail-container"},[n("div",{staticClass:"config-detail-title"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDetailVisble=!0}}},[e._v("添加")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.delDetail}},[e._v("删除")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sortDetailVisble=!0}}},[e._v("排序")])],1),e._v(" "),n("div",{staticClass:"config-detail-content"},[n("el-table",{ref:"detaileTable",staticStyle:{width:"100%",height:"100%"},attrs:{height:e.tableHeight,"highlight-current-row":"",data:e.detaileTable},on:{"row-click":e.clickRow}},[n("el-table-column",{attrs:{prop:"rowNo",label:"序号",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"menusName",label:"菜单名称"}})],1),e._v(" "),n("div",{staticClass:"material_page"},[n("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}})],1),e._v(" "),e.addDetailVisble?n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"添加",visible:e.addDetailVisble,width:"30%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.addDetailVisble=t}}},[n("addDetail",{attrs:{id:e.selectColumn.id,name:e.selectColumn.name,detaileTable:e.detaileTable},on:{addDetCallBack:e.addDetCallBack}})],1):e._e(),e._v(" "),e.sortDetailVisble?n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"排序",visible:e.sortDetailVisble,"append-to-body":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.sortDetailVisble=t}}},[n("sortDetail",{attrs:{id:e.selectColumn.id},on:{sortDetCallBack:e.sortDetCallBack}})],1):e._e()],1)])};B._withStripped=!0;var j={render:B,staticRenderFns:[]},O=j;var D=!1;var S=n("VU/8")($,O,!1,function(e){D||n("iuau")},"data-v-01b2dbff",null);S.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/ConfigDetail.vue";var I=S.exports,L={name:"benchConfig",components:{pagination:a.a,Config:h,configDetail:I},props:[""],data:function(){return{pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},tableHeight:0,benchVisble:!1,detailVisble:!1,dialogTitle:"添加",selectColumn:"",benchConfigList:[]}},computed:{},watch:{benchConfigList:{handler:function(e){this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-70-52-104}}},methods:{handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.getBenchConfigData()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getBenchConfigData()},clickRow:function(e){this.selectColumn=e},getBenchConfigData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".bench-config-container"},method:"post",url:this.API.queryPowerWorkbConfig,data:{pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(t){var n=t.data;"1"==n.code?(e.benchConfigList=n.data.list,e.pageObj.total=n.data.total):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){this.$message({type:"error",message:"请求异常，请检查网络！"})})},addBench:function(){this.selectColumn="",this.dialogTitle="添加",this.benchVisble=!0},editBench:function(e,t){var n=this.selectColumn.uIssystem;if(void 0!==t)n=e.uIssystem;else if(null==this.selectColumn||""==this.selectColumn)return void this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0});1!=n?(this.dialogTitle="编辑",this.benchVisble=!0):this.$confirm("系统内置账户，不允许编辑！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},delBench:function(e,t){var n=this,o=this.selectColumn.uIssystem;if(void 0!==t)o=e.uIssystem;else if(null===this.selectColumn||""===this.selectColumn)return void this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0});!0!==o?this.$confirm("确定删除选中记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){var t=n.selectColumn.id;"undefined"==n.selectColumn.id&&(t=e.id),n.$axios({loading:{isShow:!0,target:".bench-config-container"},method:"get",url:n.API.deletePWD,params:{id:t}}).then(function(e){"1"==e.data.code?(n.$message({type:"success",message:"操作成功！"}),n.getBenchConfigData()):n.$message({type:"error",message:"获取失败，请刷新！"})}).catch(function(e){n.$message({type:"error",message:"请求异常，请检查网络！"})})}).catch(function(){n.selectColumn="",n.$message({type:"info",message:"已取消"})}):this.$confirm("系统内置账户，不允许删除！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},ConfigCallBack:function(e){this.benchVisble=!1,e&&this.getBenchConfigData()},detail:function(e,t){this.selectColumn=i()({},e),this.detailVisble=!0}},created:function(){this.getBenchConfigData()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"bench-config-container"},[n("el-main",[n("div",{staticClass:"bench-config-title"},[n("el-button",{attrs:{type:"primary"},on:{click:e.addBench}},[e._v("添加")])],1),e._v(" "),n("div",{staticClass:"bench-config-content"},[n("el-table",{ref:"table",staticClass:"table",staticStyle:{width:"100%"},attrs:{height:e.tableHeight,"highlight-current-row":"",data:e.benchConfigList},on:{"row-click":e.clickRow}},[n("el-table-column",{attrs:{label:"序号",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"operation",label:"操作",width:"200",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"success",icon:"iconfont gd-chakan",circle:"",title:"详细"},on:{click:function(n){e.detail(t.row,t.$index)}}}),e._v(" "),t.row.uIssystem?n("el-button",{staticClass:"gray",attrs:{type:"success",icon:"el-icon-edit",circle:"",title:"编辑"}}):n("el-button",{attrs:{type:"success",icon:"el-icon-edit",circle:"",title:"编辑"},on:{click:function(n){e.editBench(t.row,t.$index)}}}),e._v(" "),t.row.uIssystem?n("el-button",{staticClass:"gray",attrs:{type:"success",icon:"el-icon-close",circle:"",title:"删除"}}):n("el-button",{attrs:{type:"success",icon:"el-icon-close",circle:"",title:"删除"},on:{click:function(n){e.delBench(t.row,t.$index)}}})]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"工作台名称"}}),e._v(" "),n("el-table-column",{attrs:{prop:"uIssystem",label:"是否系统内置"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.uIssystem?n("span",[e._v("是")]):!1===t.row.uIssystem?n("span",[e._v("否")]):n("span")]}}])})],1),e._v(" "),n("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}}),e._v(" "),e.benchVisble?n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.dialogTitle,visible:e.benchVisble,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.benchVisble=t}}},[n("Config",{attrs:{selectColumn:e.selectColumn},on:{ConfigCallBack:e.ConfigCallBack}})],1):e._e(),e._v(" "),e.detailVisble?n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"详细",visible:e.detailVisble,"modal-append-to-body":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.detailVisble=t}}},[n("configDetail",{attrs:{selectColumn:e.selectColumn}})],1):e._e()],1)])],1)};U._withStripped=!0;var A={render:U,staticRenderFns:[]},P=A;var V=!1;var E=n("VU/8")(L,P,!1,function(e){V||n("Snvo")},"data-v-b4f63814",null);E.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/BenchConfig.vue";t.default=E.exports},Jynu:function(e,t,n){var o=n("vAhG");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("586534b5",o,!1,{})},"No++":function(e,t,n){var o=n("XVz1");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("4fc6b494",o,!1,{})},Snvo:function(e,t,n){var o=n("H4wQ");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("c3d59ade",o,!1,{})},Ui9F:function(e,t,n){var o=n("DjwR");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("e018c196",o,!1,{})},Utzn:function(e,t,n){var o=n("ElLv");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("f7a0d4d0",o,!1,{})},Uw9y:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.config-detail-container .config-detail-title[data-v-01b2dbff] {\n  padding: 0 20px 20px;\n}\n",""])},VXTj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("mvHQ");var o=n("cMGX"),i={name:"roleBenchEdit",components:{roleBenchNameSelect:n("Hh1l").a},props:["selectColumn"],data:function(){return{roleBenEditForm:{id:"",name:"",workbenchName:"",workbenchid:""},rules:{workbenchName:[{required:!0,message:"请选择工作台",trigger:"change"}]}}},computed:{},watch:{},methods:{roleBenchNameSelectCall:function(e){this.roleBenEditForm.workbenchid=e.id,this.roleBenEditForm.workbenchName=e.name},save:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.updateToNet()})},updateToNet:function(){var e=this;this.roleBenEditForm.workbenchName?this.$axios({method:"get",url:this.API.updateRoleWorkBench,params:{id:this.selectColumn.id,workbenchid:this.roleBenEditForm.workbenchid}}).then(function(t){"1"==t.data.code?(e.$message({message:"编辑数据成功！",type:"success"}),e.$emit("roleBenchCallBack",!0)):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})}):this.$message({type:"error",message:"请选择工作台！"})},cancel:function(){this.resetForm("roleBenEditForm"),this.$emit("roleBenchCallBack",!1)},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){""!=this.selectColumn&&(this.roleBenEditForm.workbenchid=this.selectColumn.workbenchid,this.roleBenEditForm.name=this.selectColumn.name,this.roleBenEditForm.workbenchName=this.selectColumn.workbenchName)},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"roleBench-edit-container"},[n("el-form",{ref:"roleBenEditForm",attrs:{rules:e.rules,model:e.roleBenEditForm,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"角色名称：",prop:"name"}},[n("el-input",{attrs:{disabled:""},model:{value:e.roleBenEditForm.name,callback:function(t){e.$set(e.roleBenEditForm,"name",t)},expression:"roleBenEditForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"工作台：",prop:"workbenchName"}},[n("roleBenchNameSelect",{attrs:{chioceOptionId:e.roleBenEditForm.workbenchid},on:{roleBenchNameSelectCall:e.roleBenchNameSelectCall}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save("roleBenEditForm")}}},[e._v("保存")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.cancel}},[e._v("取消")])],1)],1)};a._withStripped=!0;var r={render:a,staticRenderFns:[]},s=r;var l=!1;var c=n("VU/8")(i,s,!1,function(e){l||n("No++")},"data-v-1ee71ae8",null);c.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/RoleBenchEdit.vue";var d=c.exports,m={name:"roleBenchSetting",components:{pagination:o.a,RoleBenchEdit:d},props:[""],data:function(){return{pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},tableHeight:0,roleBenchVisble:!1,name:"",selectColumn:"",roleBenchSettingList:[]}},computed:{},watch:{roleBenchSettingList:{handler:function(e){this.tableHeight=window.innerHeight-64-70-52-92}}},methods:{handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.getData()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getData()},clickRow:function(e){this.selectColumn=e},getData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".rolebench-setting-content"},method:"post",url:this.API.queryRoleWorkBench,data:{pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize,name:this.name}}).then(function(t){var n=t.data;"1"==n.code?(e.roleBenchSettingList=n.data.list,e.pageObj.total=n.data.total):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})},search:function(){this.pageObj.pageIndex=this.API.constObj.pageIndex,this.getData()},roleBenchEdit:function(){var e=this.selectColumn.uIssystem;""!=this.selectColumn?1!=e?this.roleBenchVisble=!0:this.$confirm("系统内置账户，不允许编辑！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0}):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},roleBenchCallBack:function(e){this.roleBenchVisble=!1,e&&this.getData()}},created:function(){this.getData()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"rolebench-setting-container"},[n("el-main",[n("div",{staticClass:"rolebench-setting-title"},[n("div",{staticClass:"left"},[n("el-button",{attrs:{type:"primary"},on:{click:e.roleBenchEdit}},[e._v("编辑")])],1),e._v(" "),n("div",{staticClass:"right"},[n("el-input",{attrs:{clearable:"",placeholder:"角色名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)]),e._v(" "),n("div",{staticClass:"rolebench-setting-content"},[n("el-table",{ref:"tableRef",staticClass:"table",staticStyle:{width:"100%"},attrs:{height:e.tableHeight,"highlight-current-row":"",data:e.roleBenchSettingList},on:{"row-click":e.clickRow}},[n("el-table-column",{attrs:{prop:"rowNo",label:"序号",align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"角色名称","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{prop:"remarks",label:"角色说明","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{prop:"workbenchName",label:"工作台"}})],1),e._v(" "),n("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}}),e._v(" "),e.roleBenchVisble?n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"角色工作台设置",visible:e.roleBenchVisble,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.roleBenchVisble=t}}},[n("roleBenchEdit",{attrs:{selectColumn:e.selectColumn},on:{roleBenchCallBack:e.roleBenchCallBack}})],1):e._e()],1)])],1)};h._withStripped=!0;var u={render:h,staticRenderFns:[]},f=u;var p=!1;var g=n("VU/8")(m,f,!1,function(e){p||n("Jynu")},null,null);g.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/RoleBenchSetting.vue";t.default=g.exports},XVz1:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.roleBench-edit-container[data-v-1ee71ae8] {\n  padding-right: 10px;\n}\n.roleBench-edit-container .dialog-footer[data-v-1ee71ae8] {\n    text-align: center;\n}\n.roleBench-edit-container .dialog-footer .el-button[data-v-1ee71ae8] {\n      margin-bottom: 10px;\n}\n",""])},Z1aL:function(e,t,n){var o=n("cHZN");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("76825a21",o,!1,{})},ZqUK:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.workCom-table-add[data-v-1f090d4a] .el-upload--text {\n  text-align: left;\n  border: none;\n}\n.workCom-table-add[data-v-1f090d4a] .el-upload {\n  text-align: left;\n}\n.demo-ruleForm[data-v-1f090d4a] .el-icon-close:before {\n  color: #606266;\n}\n.workCom-table-add[data-v-1f090d4a] {\n  padding-right: 10px;\n}\n.workCom-table-add .dialog-footer[data-v-1f090d4a] {\n    text-align: center;\n}\n.workCom-table-add .dialog-footer .el-button[data-v-1f090d4a] {\n      margin-bottom: 10px;\n}\n",""])},cHZN:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.workCom-form-right[data-v-632c8a10] .el-table__body tr.current-row > td {\n  background: #dcebfa !important;\n  color: #606266;\n}\n.workCom-form-container[data-v-632c8a10] {\n  height: calc(100% - 44px);\n  border: none;\n}\n.workCom-form-container .my-header[data-v-632c8a10] {\n    padding-top: 15px;\n    font-size: 16px;\n    font-weight: bold;\n}\n.workCom-form-container .el-main[data-v-632c8a10] {\n    font-size: 13px;\n    background-color: #fff;\n    height: 100%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    padding: 0px;\n}\n.workCom-form-container .el-main .workCom-form-left[data-v-632c8a10] {\n      width: 25%;\n      height: 100%;\n}\n.workCom-form-container .el-main .workCom-form-left .workCom-form-left-title[data-v-632c8a10] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        padding: 10px;\n        border-bottom: 1px solid #CCC;\n}\n.workCom-form-container .el-main .workCom-form-left .workCom-tree-content[data-v-632c8a10] {\n        height: calc(100% - 61px);\n        overflow-y: auto;\n        margin-top: 10px;\n}\n.workCom-form-container .el-main .lines[data-v-632c8a10] {\n      border-left: 1px solid #CCC;\n}\n.workCom-form-container .el-main .workCom-form-right[data-v-632c8a10] {\n      width: 75%;\n}\n.workCom-form-container .el-main .workCom-form-right .workCom-form-right-title[data-v-632c8a10] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between;\n        padding: 10px;\n}\n.workCom-form-container .el-main .workCom-form-right .workCom-form-right-title .left[data-v-632c8a10] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n}\n.workCom-form-container .el-main .workCom-form-right .workCom-form-right-title .right[data-v-632c8a10] {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n}\n.workCom-form-container .el-main .workCom-form-right .workCom-form-right-title .right .el-input[data-v-632c8a10] {\n            width: 180px;\n            margin-right: 10px;\n}\n.workCom-form-container .el-main .workCom-form-right .el-table__body tr.current-row > td[data-v-632c8a10] {\n        background: #dcebfa !important;\n        color: #606266;\n}\n.workCom-form-container .el-main .workCom-form-right .material_page[data-v-632c8a10] {\n        margin-top: 10px;\n        margin-bottom: 10px;\n        text-align: right;\n}\n",""])},f3J2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("JtHF"),i=n("v2qs"),a=n("VXTj"),r={name:"workBench",data:function(){return{activeName:"first",isChildUpdate1:!0,isChildUpdate2:!1,isChildUpdate3:!1,mainHeight:""}},components:{BenchConfig:o.default,WorkComForm:i.default,RoleBenchSetting:a.default},created:function(){},methods:{handleClick:function(e){"first"==e.name?(this.isChildUpdate1=!0,this.isChildUpdate2=!1,this.isChildUpdate3=!1):"center"==e.name?(this.isChildUpdate1=!1,this.isChildUpdate2=!0,this.isChildUpdate3=!1):"last"==e.name&&(this.isChildUpdate1=!1,this.isChildUpdate2=!1,this.isChildUpdate3=!0)}}},s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"table",staticClass:"workBench"},[n("div",{staticClass:"container"},[n("el-main",{ref:"elMain",style:{height:e.mainHeight}},[n("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{key:"first",attrs:{label:"工作台配置",name:"first"}},[e.isChildUpdate1?n("BenchConfig"):e._e()],1),e._v(" "),n("el-tab-pane",{key:"center",attrs:{label:"工作常用表",name:"center"}},[e.isChildUpdate2?n("WorkComForm"):e._e()],1),e._v(" "),n("el-tab-pane",{key:"last",attrs:{label:"角色工作台设置",name:"last"}},[e.isChildUpdate3?n("RoleBenchSetting"):e._e()],1)],1)],1)],1)])};s._withStripped=!0;var l={render:s,staticRenderFns:[]},c=l;var d=!1;var m=n("VU/8")(r,c,!1,function(e){d||n("FgAn")},"data-v-390ad883",null);m.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/WorkBench.vue";t.default=m.exports},iuau:function(e,t,n){var o=n("Uw9y");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("40ff7d6a",o,!1,{})},jr2d:function(e,t,n){var o=n("s5D0");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("9ff115b8",o,!1,{})},o7pW:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.workBench[data-v-390ad883] {\n  min-width: 1126px;\n}\n.workBench .container[data-v-390ad883] {\n    padding: 0 !important;\n    border-left: none;\n    border-right: none;\n}\n.workBench .container .el-main[data-v-390ad883] {\n      padding: 0;\n}\n.workBench[data-v-390ad883] .el-tabs__header {\n    margin: 0 !important;\n}\n.workBench[data-v-390ad883] .el-tabs__nav-wrap::after {\n    height: 1px;\n}\n",""])},oUxV:function(e,t,n){var o=n("xfvO");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("3521cdce",o,!1,{})},oo1y:function(e,t,n){var o=n("3HUV");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("3b4e61c9",o,!1,{})},s5D0:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.workCom-treeForm-add[data-v-19989296] {\n  padding-right: 10px;\n}\n.workCom-treeForm-add .el-button[data-v-19989296] {\n    margin-bottom: 10px;\n}\n.workCom-treeForm-add .dialog-footer[data-v-19989296] {\n    text-align: center;\n}\n",""])},v2qs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("mvHQ");var o=n("cMGX"),i={name:"workComTreeContent",props:["defaultOptions"],data:function(){return{treeProps:{value:"id",label:"title",children:"children"},treeList:[]}},created:function(){this.getData()},mounted:function(){},methods:{treeSelected:function(e,t,n){var o=e;this.$emit("comTreeCall",o)},getData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".workComTreeContent"},method:"post",url:this.API.queryBusinessType,data:{typename:"Sys_ActiveFiles"}}).then(function(t){var n=t.data;if("1"==n.code){e.treeList=e.commonFun.toTreeDataNormal(n.data,{childKey:"id",fatherKey:"pid"});var o=e.treeList[0];e.$emit("comTreeCall",o)}else self.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){self.$message({type:"error",message:"请求异常，请检查网络！"})})},renderContent:function(e,t){t.node;var n=t.data;t.store;return e("span",[n.title])}}},a=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"workComTreeContent"},[t("el-tree",{ref:"tree",attrs:{data:this.treeList,"node-key":"id","default-expand-all":"","highlight-current":"","expand-on-click-node":!1,"render-content":this.renderContent},on:{"node-click":this.treeSelected}})],1)};a._withStripped=!0;var r={render:a,staticRenderFns:[]},s=r;var l=!1;var c=n("VU/8")(i,s,!1,function(e){l||n("yBnX")},"data-v-7db022f7",null);c.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/WorkComTreeContent.vue";var d=c.exports,m=(n("g7ZD"),{name:"WorkComTreeSelect",props:["defaultOptions"],data:function(){return{selectedOptions:[],treeProps:{value:"id",label:"title",children:"children"},oldTreeList:[],treeList:[]}},created:function(){this.getData()},mounted:function(){},methods:{handleChange:function(e){var t="";e&&e.length>0&&(t=e[e.length-1]);var n=this.findObjById(t);this.$emit("WorkComTreeSelectCall",n)},findObjById:function(e){for(var t={},n=0;n<this.oldTreeList.length;n++)if(e==this.oldTreeList[n].id){t=this.oldTreeList[n];break}return t},getData:function(){var e=this,t=this;this.$axios({loading:{isShow:!1},method:"post",url:this.API.queryBusinessType,data:{typename:"Sys_ActiveFiles"}}).then(function(n){var o=n.data;if("1"==o.code){var i={childKey:"id",fatherKey:"pid"};if(t.oldTreeList=o.data,t.treeList=t.commonFun.toTreeDataNormal(o.data,i),t.defaultOptions){var a=t.commonFun.findTreeNodeById(t.oldTreeList,t.defaultOptions,i);t.selectedOptions=t.commonFun.createArrIdAndReverse(a,"id")}else""==t.defaultOptions?t.selectedOptions=[]:t.selectedOptions.push(t.treeList[0].id);var r=t.selectedOptions[t.selectedOptions.length-1],s=e.findObjById(r);e.$emit("WorkComTreeSelectCall",s)}else t.$message({type:"error",message:"获取上级分类下拉框数据失败，请刷新重试！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})}}}),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"WorkComTreeSelect"},[n("el-cascader",{attrs:{placeholder:"请选择","expand-trigger":"hover",options:e.treeList,"change-on-select":!0,props:e.treeProps,clearable:!0,"show-all-levels":!1},on:{change:e.handleChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1)};h._withStripped=!0;var u={render:h,staticRenderFns:[]},f=u;var p=!1;var g=n("VU/8")(m,f,!1,function(e){p||n("oUxV")},"data-v-4a7e83ec",null);g.options.__file="src/components/WorkComTreeSelect.vue";var b={name:"workComtree",components:{workComTreeSelect:g.exports},props:["workComObj","isEdit"],data:function(){return{workComTreeForm:{id:"",pid:"",title:"",content:""},rules:{title:[{required:!0,message:"请输入分类名称",trigger:"change"},{min:0,max:60,message:"长度必须在0到60位字符之间",trigger:"blur"}],content:[{min:0,max:1300,message:"长度必须在0到1300位字符之间",trigger:"blur"}]},defaultFormTree:[]}},computed:{},watch:{},methods:{WorkComTreeSelectCall:function(e){e&&(this.workComTreeForm.pid=e.id)},save:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.addWorkComTreeToNet()})},addWorkComTreeToNet:function(){var e=this;this.$axios({method:"post",url:this.API.saveOrUpdateBusType,data:{id:this.workComTreeForm.id,pid:this.workComTreeForm.pid,title:this.workComTreeForm.title,typename:"Sys_ActiveFiles",content:this.workComTreeForm.content}}).then(function(t){"1"==t.data.code?(e.$message({message:"添加数据成功！",type:"success"}),e.$emit("workComCall",!0)):e.$message({type:"error",message:"添加数据失败，请刷新重试！"})})},cancel:function(){this.resetForm("workComTreeForm"),this.$emit("workComCall",!1)},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){this.workComObj.pid&&""!=this.workComObj.pid?this.defaultFormTree=this.workComObj.pid:this.isEdit?this.defaultFormTree="":this.defaultFormTree=this.workComObj.id,this.isEdit&&(this.workComTreeForm.id=this.workComObj.id,this.workComTreeForm.content=this.workComObj.content,this.workComTreeForm.title=this.workComObj.title)},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"workCom-treeForm-add"},[n("el-form",{ref:"workComTreeForm",staticClass:"demo-ruleForm",attrs:{model:e.workComTreeForm,rules:e.rules,"label-width":"100px",size:"small"}},[n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"pid",label:"上级分类："}},[n("workComTreeSelect",{attrs:{defaultOptions:e.defaultFormTree},on:{WorkComTreeSelectCall:e.WorkComTreeSelectCall}})],1)],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"title",label:"分类名称："}},[n("el-input",{attrs:{placeholder:"请输入分类名称"},model:{value:e.workComTreeForm.title,callback:function(t){e.$set(e.workComTreeForm,"title",t)},expression:"workComTreeForm.title"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{prop:"content",label:"内容："}},[n("el-input",{attrs:{type:"textarea",maxlength:"1300"},model:{value:e.workComTreeForm.content,callback:function(t){e.$set(e.workComTreeForm,"content",t)},expression:"workComTreeForm.content"}})],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save("workComTreeForm")}}},[e._v("保存")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.cancel}},[e._v("取 消")])],1)],1)};v._withStripped=!0;var C={render:v,staticRenderFns:[]},w=C;var k=!1;var y=n("VU/8")(b,w,!1,function(e){k||n("jr2d")},"data-v-19989296",null);y.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/WorkComtreeForm.vue";var x=y.exports,_={name:"workComTable",components:{},props:["selectColumn","isEditTable","workComObj"],data:function(){return{WorkComTable:{id:"",title:"",comments:""},rules:{title:[{required:!0,message:"请输入名称",trigger:"change"},{min:1,max:60,message:"长度必须在1到60位字符之间",trigger:"blur"}],comments:[{min:0,max:200,message:"长度必须在0到200位字符之间",trigger:"blur"}]},fileList:[],completeUrl:"",fileIds:[],uploadFileName:"uploadFile",isFileLength:0,filename:"",fileId:"",fileListLgt:0}},computed:{headers:function(){var e=window.vm.$store.state;if(e.user&&e.user.token){var t=encodeURIComponent(e.user.token),n=this.$axios.defaults.headers.selectmenuid,o=encodeURIComponent(t);return e.menuObj&&e.menuObj.id&&(n=e.menuObj.id),{token:o,selectmenuid:n}}return window.vm.commonFun.againLogin(!0),{}}},watch:{},methods:{beforeUpload:function(e){var t=e.size/1024/1024<1;if(!t)return this.$message({type:"error",message:"上传文件大小不得超过1M！"}),t},handleRemove:function(e,t){var n=this;this.$axios({method:"get",url:this.API.deleteAttaById,params:{id:e.id}}).then(function(e){"1"==e.data.code&&(n.$message({type:"success",message:"移除附件成功！"}),n.fileListLgt--,n.fileList=t)}).catch(function(e){n.$message({type:"error",message:"请求异常，请检查网络！"})})},handleChange:function(e,t){this.fileList=t},handleSuccess:function(e,t,n){"1"==e.code?(this.isFileLength++,this.fileIds.push(e.data.id),this.isFileLength+this.fileListLgt===this.fileList.length&&this.updateToNet()):"3"==e.code?(this.$message({type:"error",message:"登录信息过期，请重新登录!"}),this.commonFun.againLogin(!0)):this.$message({type:"error",message:"上传文件失败，请重新上传！"})},downloadPic:function(e,t){var n=document.createElement("a"),o=this.base64ToBlob(t);document.createEvent("HTMLEvents").initEvent("click",!0,!0),n.download=e,n.href=URL.createObjectURL(o),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)},base64ToBlob:function(e){for(var t=e.split(";base64,"),n=t[0].split(":")[1],o=window.atob(t[1]),i=o.length,a=new Uint8Array(i),r=0;r<i;++r)a[r]=o.charCodeAt(r);return new Blob([a],{type:n})},downloadFile:function(e,t){var n=new Blob([t]);if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(n,e);else{var o=document.createElement("a");o.download=e,o.style.display="none",o.href=URL.createObjectURL(n),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)}},downloadAxios:function(e,t){var n=this;this.$axios({method:"post",url:this.API.downloadFile,responseType:e,data:{id:this.fileId}}).then(function(e){var o;t?(o=e.data,n.downloadFile(n.filename,o)):(o=e.data.data,n.downloadPic(n.filename,o))}).catch(function(e){n.$message({type:"error",message:"请求异常，请检查网络！"})})},handlePreview:function(e){this.filename=e.name,this.fileId=e.id,"jpg"==e.type||"jpeg"==e.type||"png"==e.type||"gif"==e.type||"bmp"==e.type?this.downloadAxios("",!1):this.downloadAxios("arraybuffer",!0)},save:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;0===t.fileList.length||t.fileListLgt==t.fileList.length?t.updateToNet():t.$refs.upload.submit()})},updateToNet:function(){var e=this,t="";t=this.isEditTable?this.API.updateActiveFiles:this.API.saveActiveFiles,this.$axios({method:"post",url:t,data:{id:this.WorkComTable.id,businesstypeid:this.workComObj.id,title:this.WorkComTable.title,comments:this.WorkComTable.comments,fileids:this.fileIds.join(",").toString(),businesstype:"Sys_ActiveFiles"}}).then(function(t){"1"==t.data.code?(e.$message({message:"操作成功！",type:"success"}),e.$emit("workComTableCall",!0)):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},getUploadFile:function(){var e=this;this.$axios({method:"post",url:this.API.editActiveFiles,data:{id:this.selectColumn.id}}).then(function(t){var n=t.data;if("1"==n.code){var o=n.data.list;e.fileListLgt=o.length,o.forEach(function(t){e.fileList.push({name:t.satitle,id:t.fileid,type:t.filetype})})}else e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},cancel:function(){this.resetForm("workComTable"),this.$emit("workComTableCall",!1)},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){""!=this.selectColumn&&(this.WorkComTable.id=this.selectColumn.id,this.WorkComTable.title=this.selectColumn.title,this.WorkComTable.comments=this.selectColumn.comments,this.getUploadFile())},mounted:function(){this.completeUrl=this.API.baseURL+this.API.uploadFileImageandExcel},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"workCom-table-add"},[n("el-form",{ref:"workComTable",staticClass:"demo-ruleForm",attrs:{model:e.WorkComTable,rules:e.rules,"label-width":"100px",size:"small"}},[n("el-form-item",{attrs:{prop:"title",label:"名称："}},[n("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.WorkComTable.title,callback:function(t){e.$set(e.WorkComTable,"title",t)},expression:"WorkComTable.title"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"comments",label:"简要说明："}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.WorkComTable.comments,callback:function(t){e.$set(e.WorkComTable,"comments",t)},expression:"WorkComTable.comments"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"附件上传："}},[n("el-upload",{ref:"upload",attrs:{action:e.completeUrl,name:e.uploadFileName,"before-upload":e.beforeUpload,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"on-preview":e.handlePreview,"file-list":e.fileList,headers:e.headers,"auto-upload":!1,"on-change":e.handleChange,accept:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.xls,.xlsx,.doc,.docx,.txt",multiple:""}},[n("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("点击上传")])],1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save("workComTable")}}},[e._v("保存")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.cancel}},[e._v("取 消")])],1)],1)};T._withStripped=!0;var F={render:T,staticRenderFns:[]},$=F;var B=!1;var j=n("VU/8")(_,$,!1,function(e){B||n("/EoD")},"data-v-1f090d4a",null);j.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/WorkComTable.vue";var O=j.exports,D={name:"workComForm",components:{pagination:o.a,WorkComtreeForm:x,workComTreeContent:d,workComTable:O},props:[""],data:function(){return{dialogTitle:"添加",workComFormTreeVisble:!1,pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},workComObj:{},tableHeight:0,dialogGridTitle:"添加",selectColumn:"",workComFormList:[],workComTableVisble:!1,title:"",isEdit:!1,isEditTable:!1}},computed:{},watch:{workComFormList:{handler:function(e){this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-70-52-105}}},methods:{comTreeCall:function(e){this.workComObj=e,this.getData(),this.selectColumn=""},handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.getData()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getData()},clickRow:function(e){this.selectColumn=e},search:function(){this.pageObj.pageIndex=this.API.constObj.pageIndex,this.getData()},addTree:function(){this.dialogTitle="添加",this.isEdit=!1,this.workComFormTreeVisble=!0},editTree:function(){this.dialogTitle="编辑",this.isEdit=!0,this.workComFormTreeVisble=!0},delTree:function(){var e=this;this.$confirm("确定删除选中记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.deleteTreeFromNet()}).catch(function(t){e.$message({type:"info",message:"已取消"})})},deleteTreeFromNet:function(){var e=this;this.$axios({loading:{isShow:!0,target:".workCom-tree-content"},method:"get",url:this.API.deleteBusType,params:{id:this.workComObj.id}}).then(function(t){"1"==t.data.code?(e.$message({type:"success",message:"删除成功！"}),e.$refs.workFormTreeContent.getData()):e.$message({type:"error",message:"操作失败，请刷新！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},workComCall:function(e){this.workComFormTreeVisble=!1,e&&this.$refs.workFormTreeContent.getData()},getData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".table"},method:"post",url:this.API.queryActiveFiles,data:{pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize,businesstypeid:this.workComObj.id,title:this.title}}).then(function(t){var n=t.data;"1"==n.code?(e.workComFormList=n.data.list,e.pageObj.total=n.data.total):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},addTable:function(){this.selectColumn="",this.isEditTable=!1,this.dialogGridTitle="新增",this.workComTableVisble=!0},editTable:function(){""!=this.selectColumn?(this.isEditTable=!0,this.dialogGridTitle="编辑",this.workComTableVisble=!0):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},delTable:function(){var e=this;""!=this.selectColumn?this.$confirm("确定删除选中记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.deleteFromNet()}).catch(function(){e.selectColumn="",e.$message({type:"info",message:"已取消"})}):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},deleteFromNet:function(){var e=this;this.$axios({loading:{isShow:!0,target:".table"},method:"get",url:this.API.deleteActiveFiles,params:{id:this.selectColumn.id}}).then(function(t){"1"==t.data.code?(e.selectColumn="",e.$message({message:"删除成功！",type:"success"}),e.getData()):e.$message({type:"error",message:"获取失败，请刷新！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},workComTableCall:function(e){this.workComTableVisble=!1,e&&this.getData()}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"workCom-form-container"},[n("el-main",[n("div",{staticClass:"workCom-form-left"},[n("div",{staticClass:"workCom-form-left-title"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addTree}},[e._v("添加")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.editTree}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.delTree}},[e._v("删除")])],1),e._v(" "),n("div",{staticClass:"workCom-tree-content"},[n("workComTreeContent",{ref:"workFormTreeContent",on:{comTreeCall:e.comTreeCall}})],1)]),e._v(" "),n("div",{staticClass:"lines"}),e._v(" "),n("div",{staticClass:"workCom-form-right"},[n("div",{staticClass:"workCom-form-right-title"},[n("div",{staticClass:"left"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addTable}},[e._v("添加")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.editTable}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.delTable}},[e._v("删除")])],1),e._v(" "),n("div",{staticClass:"right"},[n("el-input",{staticClass:"myinput",attrs:{placeholder:"常用表名称",clearable:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v("查询")])],1)]),e._v(" "),n("el-table",{ref:"table",staticClass:"table",staticStyle:{width:"100%",height:"100%"},attrs:{height:e.tableHeight,"highlight-current-row":"",data:e.workComFormList},on:{"row-click":e.clickRow}},[n("el-table-column",{attrs:{prop:"rowNo",label:"序号",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"title",label:"常用表名称"}}),e._v(" "),n("el-table-column",{attrs:{prop:"comments",label:"简要说明","show-overflow-tooltip":""}})],1),e._v(" "),n("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}}),e._v(" "),e.workComFormTreeVisble?n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.dialogTitle,visible:e.workComFormTreeVisble,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.workComFormTreeVisble=t}}},[n("WorkComtreeForm",{attrs:{isEdit:e.isEdit,workComObj:e.workComObj},on:{workComCall:e.workComCall}})],1):e._e(),e._v(" "),e.workComTableVisble?n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.dialogGridTitle,visible:e.workComTableVisble,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.workComTableVisble=t}}},[n("workComTable",{attrs:{isEditTable:e.isEditTable,workComObj:e.workComObj,selectColumn:e.selectColumn},on:{workComTableCall:e.workComTableCall}})],1):e._e()],1)])],1)};S._withStripped=!0;var I={render:S,staticRenderFns:[]},L=I;var U=!1;var A=n("VU/8")(D,L,!1,function(e){U||n("Z1aL")},"data-v-632c8a10",null);A.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/WorkComForm.vue";t.default=A.exports},vAhG:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.rolebench-setting-container {\n  position: relative;\n  border: none;\n}\n.rolebench-setting-container .my-header {\n    padding-top: 15px;\n    font-size: 16px;\n    font-weight: bold;\n}\n.rolebench-setting-container .el-main {\n    padding: 0 !important;\n    background-color: #fff;\n    height: 100%;\n}\n.rolebench-setting-container .el-main .rolebench-setting-title {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n      padding: 10px;\n}\n.rolebench-setting-container .el-main .rolebench-setting-title .right {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n}\n.rolebench-setting-container .el-main .rolebench-setting-title .right .el-input {\n          width: 180px;\n          margin-right: 10px;\n}\n.rolebench-setting-container .el-main .rolebench-setting-content .el-table__body tr.current-row > td {\n      background: #dcebfa !important;\n      color: #606266;\n}\n",""])},xfvO:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.el-scrollbar .el-scrollbar__view .el-select-dropdown__item[data-v-4a7e83ec] {\n  height: auto;\n  padding: 0;\n}\n.el-select-dropdown__item.selected[data-v-4a7e83ec] {\n  font-weight: normal;\n}\nul li > .el-tree .el-tree-node__content[data-v-4a7e83ec] {\n  height: auto;\n}\n.el-tree-node__label[data-v-4a7e83ec] {\n  font-weight: normal;\n}\n.el-tree > .is-current .el-tree-node__label[data-v-4a7e83ec] {\n  color: #409EFF;\n  font-weight: 700;\n}\n.el-tree > .is-current .el-tree-node__children .el-tree-node__label[data-v-4a7e83ec] {\n  color: #606266;\n  font-weight: normal;\n}\n",""])},yBnX:function(e,t,n){var o=n("/V6b");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("3cafd707",o,!1,{})}});