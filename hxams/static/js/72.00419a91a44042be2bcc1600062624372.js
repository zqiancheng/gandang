webpackJsonp([72],{"4iPh":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("cMGX"),r=(a("g7ZD"),function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"userGroupTreeByUser"},[t("el-tree",{ref:"tree",attrs:{data:this.treeList,"node-key":"id","default-expand-all":"","highlight-current":"","default-checked-keys":this.selectedOptions,"expand-on-click-node":!1,"render-content":this.renderContent},on:{"node-click":this.treeSelected}})],1)});r._withStripped=!0;var i={render:r,staticRenderFns:[]},o=i;var l=!1;var s=a("VU/8")({name:"UserGroupTreeByUser",props:["defaultOptions"],data:function(){return{selectedOptions:[],treeProps:{value:"id",label:"name",children:"children"},treeList:[]}},created:function(){this.getData()},mounted:function(){},methods:{treeSelected:function(e,t,a){var n=e;this.$emit("UserGroupTreeByUserCall",n)},getData:function(){var e=this,t=this;this.$axios({loading:{isShow:!0,target:".userGroupTree"},method:"get",url:this.API.areaTreeByUAreacode}).then(function(a){var n=a.data;if("1"==n.code){t.oldTreeList=n.data,t.treeList=t.commonFun.toTreeData(n.data);var r={};if(t.defaultOptions){var i=t.commonFun.findTreeNodeById(t.oldTreeList,t.defaultOptions,{childKey:"id",fatherKey:"pId"});t.selectedOptions=t.commonFun.createArrIdAndReverse(i,"id"),r=e.findObjById(t.defaultOptions)}else""==t.defaultOptions?(r={},t.selectedOptions=""):(r=t.treeList[0],t.selectedOptions.push(t.treeList[0].id));e.$refs.tree.setCheckedKeys(t.selectedOptions),e.$emit("UserGroupTreeByUserCall",r)}else t.$message({type:"error",message:"获取区域组织数据失败，请刷新重试！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})},renderContent:function(e,t){t.node;var a=t.data;return t.store,e("span",[a.name])}}},o,!1,function(e){l||a("eV/I")},"data-v-e49d3ad8",null);s.options.__file="src/components/UserGroupTreeByUser.vue";var d=s.exports,c=a("kvU4"),p=a("vW5d"),u={name:"GradedReading",components:{Pagination:n.a,UserGroupTreeByUser:d,BrowsePersonal:c.a,DReaderDouble:p.a},data:function(){return{tableData:[],pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},readingArchivesVisible:!1,DReaderDoubleVisible:!1,userGroupObj:{},chioceObj:{},searchForm:{a01010:"",uAreacode:"",a0192a:""},tableHeight:0}},watch:{tableData:{handler:function(e){this.tableHeight=window.innerHeight-this.$refs.multipleTable.$el.offsetTop-70-52}}},created:function(){},mounted:function(){},computed:{},methods:{UserGroupTreeByUserCall:function(e){this.userGroupObj=e,this.getData()},DReaderDoubleCall:function(){this.DReaderDoubleVisible=!1},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getData()},handleFile:function(e,t){this.chioceObj=t,this.readingArchivesVisible=!0},handleDoubleFile:function(e,t){this.chioceObj=t,this.DReaderDoubleVisible=!0},search:function(){this.pageObj.pageIndex=this.API.constObj.pageIndex,this.getData()},getData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".table"},method:"post",url:this.API.findA01InformationPage,data:{a01010:this.searchForm.a01010,a0192a:this.searchForm.a0192a,uAreacode:this.userGroupObj.code,pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(t){var a=t.data;"1"==a.code?(e.tableData=a.data.list,e.pageObj.total=a.data.total):e.$message({type:"error",message:"查询失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})}}},h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gradedReading"},[a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("UserGroupTreeByUser",{ref:"userGroupTreeChild",on:{UserGroupTreeByUserCall:e.UserGroupTreeByUserCall}})],1),e._v(" "),a("el-main",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"输入姓名或拼音"},model:{value:e.searchForm.a01010,callback:function(t){e.$set(e.searchForm,"a01010",t)},expression:"searchForm.a01010"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"输入工作单位及职务"},model:{value:e.searchForm.a0192a,callback:function(t){e.$set(e.searchForm,"a0192a",t)},expression:"searchForm.a0192a"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"search",size:"mini"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,height:e.tableHeight}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1)+" ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"a0101",label:"姓名",width:"100","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0111a",label:"籍贯",width:"150","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0117a",label:"民族",width:"130","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0141a",label:"政治面貌",width:"130","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0140",label:"参加组织日期",width:"120",sort:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0192a",label:"工作单位及职务","min-width":"130","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",icon:"iconfont gd-chakan",circle:"",title:"详情"},on:{click:function(a){e.handleFile(t.$index,t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"success",icon:"iconfont gd-techreport-",circle:"",title:"数字档案"},on:{click:function(a){e.handleDoubleFile(t.$index,t.row)}}})]}}])})],1),e._v(" "),a("Pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}})],1)],1),e._v(" "),e.readingArchivesVisible?a("el-dialog",{attrs:{title:"人员信息",width:"100%",fullscreen:"",visible:e.readingArchivesVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.readingArchivesVisible=t}}},[a("BrowsePersonal",{attrs:{selectDeceive:e.chioceObj}})],1):e._e(),e._v(" "),e.DReaderDoubleVisible?a("el-dialog",{attrs:{fullscreen:"",title:"双页浏览",visible:e.DReaderDoubleVisible,"append-to-body":""},on:{"update:visible":function(t){e.DReaderDoubleVisible=t}}},[a("DReaderDouble",{attrs:{fileObject:e.chioceObj},on:{DReaderDoubleCall:e.DReaderDoubleCall}})],1):e._e()],1)};h._withStripped=!0;var g={render:h,staticRenderFns:[]},f=g;var b=!1;var m=a("VU/8")(u,f,!1,function(e){b||a("920F")},"data-v-316232e5",null);m.options.__file="src/views/gradedReading/GradedReading.vue";t.default=m.exports},"920F":function(e,t,a){var n=a("NkDr");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("12863a0d",n,!1,{})},BOVa:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.userGroupTreeByUser[data-v-e49d3ad8] {\n  width: 100%;\n}\n.userGroupTreeByUser .el-tree[data-v-e49d3ad8] {\n    width: 100%;\n    font-size: 14px;\n    display: inline-block;\n    min-width: 180px;\n}\n.userGroupTreeByUser .el-tree .el-tree-node:focus > .el-tree-node__content[data-v-e49d3ad8] {\n      background-color: #88B1CA !important;\n      color: #fff;\n}\n",""])},NkDr:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n[data-v-316232e5] .el-form-item {\n  padding: 10px !important;\n  margin: 0;\n}\nel-dialog .del-dialog-cnt[data-v-316232e5] {\n  font-size: 16px;\n  text-align: center;\n}\n.gradedReading[data-v-316232e5] {\n  height: 100%;\n  font-size: 14px;\n}\n.gradedReading .el-container[data-v-316232e5] {\n    height: 100%;\n    background-color: #fff;\n}\n.gradedReading .el-container .el-aside[data-v-316232e5] {\n      height: 95%;\n      padding-top: 15px;\n      overflow-y: auto;\n      border-right: solid 1px #E4E7ED;\n}\n.gradedReading .el-container .el-main[data-v-316232e5] {\n      padding: 0 !important;\n}\n.gradedReading .el-container .el-main .el-form[data-v-316232e5] {\n        text-align: right;\n}\n.gray[data-v-316232e5] {\n  color: #dcdfe6;\n}\n.red[data-v-316232e5] {\n  color: #ff0000;\n}\n",""])},"eV/I":function(e,t,a){var n=a("BOVa");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("b1bd725e",n,!1,{})}});