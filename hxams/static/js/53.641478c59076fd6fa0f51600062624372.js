webpackJsonp([53],{Bde4:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.metadata-management-container .my-header[data-v-5fa62583] {\n  padding-top: 15px;\n  display: none;\n}\n.metadata-management-container .el-main[data-v-5fa62583] {\n  background-color: #fff;\n  padding: 0 !important;\n}\n.metadata-management-container .el-main .title[data-v-5fa62583] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    padding: 10px 10px 0 10px;\n}\n.metadata-management-container .el-main .title .left[data-v-5fa62583] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.metadata-management-container .el-main .title .right[data-v-5fa62583] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.metadata-management-container .el-main .title .right .cateTree[data-v-5fa62583] {\n        width: 200px;\n        margin-left: 10px;\n}\n.metadata-management-container .el-main .title .right .el-input[data-v-5fa62583] {\n        width: 200px;\n        margin: 0 0 0 10px;\n}\n.metadata-management-container .el-main .title .right .el-button[data-v-5fa62583] {\n        margin-left: 10px;\n}\n.metadata-management-container .el-main .metadata-management-content .material_page[data-v-5fa62583] {\n    margin-top: 10px;\n    text-align: right;\n}\n",""])},GtLO:function(t,e,a){var n=a("oyX0");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("6699fb96",n,!1,{})},RAt6:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.metadata-management-container .my-header[data-v-072fd39a] {\n  padding-top: 15px;\n  display: none;\n}\n.metadata-management-container .el-main[data-v-072fd39a] {\n  background-color: #fff;\n  padding: 0 !important;\n}\n.metadata-management-container .el-main .title[data-v-072fd39a] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    padding: 10px 10px 0 10px;\n}\n.metadata-management-container .el-main .title .left[data-v-072fd39a] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.metadata-management-container .el-main .title .right[data-v-072fd39a] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.metadata-management-container .el-main .title .right .cateTree[data-v-072fd39a] {\n        width: 200px;\n        margin-left: 10px;\n}\n.metadata-management-container .el-main .title .right .el-input[data-v-072fd39a] {\n        width: 200px;\n        margin: 0 0 0 10px;\n}\n.metadata-management-container .el-main .title .right .el-button[data-v-072fd39a] {\n        margin-left: 10px;\n}\n.metadata-management-container .el-main .metadata-management-content .material_page[data-v-072fd39a] {\n    margin-top: 10px;\n    text-align: right;\n}\n",""])},ahIN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("mvHQ");var n=a("cMGX"),i=a("X5eI"),l=a("5xvJ"),s=a("kvU4"),o=a("WsiF"),r=a("vW5d"),c={name:"DataManagementList",components:{pagination:n.a,personnelCategoryTreeSelect:i.a,fileStatusTreeSelect:l.a,browsePersonal:s.a,noTimerReadingArchivesList:o.default,DReaderDouble:r.a},data:function(){return{DReaderDoubleVisible:!1,pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},metadataList:[],tableHeight:0,selectMetadata:"",a01010:"",a01Statusb:"",e10Statusb:"",browse_personal:!1,readingArchivesVisible:!1,fourthShow:"hidden",multipleSelection:[]}},watch:{metadataList:{handler:function(t){this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-70-58-110}}},created:function(){this.queryMetadataList()},methods:{DReaderDoubleCall:function(){this.DReaderDoubleVisible=!1},handleDoubleFile:function(t,e){this.chioceObj=e,this.DReaderDoubleVisible=!0},treeSelectCall:function(t){this.a01Statusb=t},handleCurrentChange:function(t){this.pageObj.pageIndex=t,this.queryMetadataList()},PageTurning:function(t){this.pageObj.pageIndex=t.page_index,this.pageObj.pageSize=t.page_size,this.queryMetadataList()},queryMetadataList:function(){var t=this;this.$axios({loading:{isShow:!0,target:".metadata-management-container"},method:"post",url:this.API.queryMetadataList,data:{a01010:this.a01010,a01Statusb:this.a01Statusb,e10Statusb:this.e10Statusb,pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(e){var a=e.data;"1"==a.code?(t.metadataList=a.data.list,t.pageObj.total=a.data.total):t.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(t){})},clickRow:function(t){this.selectMetadata=t},search:function(){this.pageObj.pageIndex=this.API.constObj.pageIndex,this.queryMetadataList()},fileStatusTreeSelectBack:function(t){this.e10Statusb=t},browsePersonalOnclick:function(t,e){this.browse_personal=!0},handleFile:function(t,e){this.selectCadres=e,this.readingArchivesVisible=!0},handleSelectionChange:function(t){this.multipleSelection=t},saveMetadata:function(){var t=this;""!=this.multipleSelection?this.multipleSelection.length>1?this.$message.warning("只能选择一条数据！"):(this.id=this.commonFun.joinTgetherId(this.multipleSelection,this.id,"a0100"),this.$confirm("确认生成选中记录？","提示",{confirmButtonText:"确认",cancelButtonText:"取消"}).then(function(){t.createMetadata()}).catch(function(){t.$message.info("已取消")})):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},createMetadata:function(){var t=this;this.$axios({method:"get",url:this.API.createMetadata,params:{id:this.id}}).then(function(e){"1"==e.data.code?(t.$message({message:"生成元数据成功！",type:"success"}),t.queryMetadataList()):t.$message({type:"error",message:"生成失败，请刷新重试！"})}).catch(function(t){})}}},d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"metadata-management-container"},[a("el-main",[a("div",{staticClass:"title",staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("div",{staticClass:"left"},[a("el-button",{attrs:{type:"primary"},on:{click:t.saveMetadata}},[t._v("生成标准数据包")])],1),t._v(" "),a("div",{staticClass:"right"},[a("fileStatusTreeSelect",{staticStyle:{width:"200px"},on:{FileStatusTreeSelectCall:t.fileStatusTreeSelectBack}}),t._v(" "),a("personnelCategoryTreeSelect",{staticClass:"cateTree",on:{PersonnelCategoryTreeSelectCall:t.treeSelectCall}}),t._v(" "),a("el-input",{attrs:{placeholder:"姓名或拼音"},model:{value:t.a01010,callback:function(e){t.a01010=e},expression:"a01010"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)]),t._v(" "),a("div",{staticClass:"metadata-management-content"},[a("el-table",{ref:"table",staticClass:"material_table",staticStyle:{width:"100%"},attrs:{data:t.metadataList,height:t.tableHeight},on:{"row-click":t.clickRow,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"operation",label:"操作",fixed:"right","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"详情",placement:"bottom"}},[a("el-button",{attrs:{type:"success",icon:"iconfont gd-chakan",circle:"",disabled:e.row.flag},on:{click:function(a){t.browsePersonalOnclick(e.$index,e.row)}}})],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"数字档案",placement:"bottom"}},[a("el-button",{attrs:{type:"success",icon:"iconfont gd-techreport-",circle:"",disabled:e.row.flag},on:{click:function(a){t.handleDoubleFile(e.$index,e.row)}}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{type:"selection",align:"center",width:"48px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"a0101",label:"姓名","show-overflow-tooltip":"","min-width":"6%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"a0104a",label:"性别","min-width":"6%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"a0107",label:"出生年月","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"a0117a",label:"民族","show-overflow-tooltip":"","min-width":"6%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"a0111a",label:"籍贯","show-overflow-tooltip":"","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"a0134",label:"参加工作日期","show-overflow-tooltip":"","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"a0141a",label:"政治面貌","show-overflow-tooltip":"","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"a0140",label:"参加组织日期","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"a0192a",label:"工作单位及职务","show-overflow-tooltip":"","min-width":"18%"}})],1),t._v(" "),a("div",{staticClass:"material_page"},[a("pagination",{attrs:{pageIndex:t.pageObj.pageIndex,total:t.pageObj.total,pageSize:t.pageObj.pageSize},on:{PageTurning:t.PageTurning}})],1),t._v(" "),t.browse_personal?a("el-dialog",{attrs:{title:"人员信息",width:"100%",fullscreen:"",visible:t.browse_personal,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.browse_personal=e}}},[a("browsePersonal",{attrs:{fourthShow:t.fourthShow,selectDeceive:t.selectMetadata}})],1):t._e(),t._v(" "),t.readingArchivesVisible?a("el-dialog",{attrs:{fullscreen:"",title:"档案阅览",visible:t.readingArchivesVisible,"append-to-body":""},on:{"update:visible":function(e){t.readingArchivesVisible=e}}},[a("noTimerReadingArchivesList",{attrs:{fileObject:t.selectMetadata}})],1):t._e(),t._v(" "),t.DReaderDoubleVisible?a("el-dialog",{attrs:{fullscreen:"",title:"数字档案",visible:t.DReaderDoubleVisible,"append-to-body":""},on:{"update:visible":function(e){t.DReaderDoubleVisible=e}}},[a("DReaderDouble",{attrs:{fileObject:t.selectMetadata},on:{DReaderDoubleCall:t.DReaderDoubleCall}})],1):t._e()],1)])],1)};d._withStripped=!0;var p={render:d,staticRenderFns:[]},m=p;var h=!1;var u=a("VU/8")(c,m,!1,function(t){h||a("xEg6")},"data-v-072fd39a",null);u.options.__file="src/views/systemMaintenance/metadataManagement/DataManagementList.vue";var g=u.exports,f={name:"FinishDataList",components:{pagination:n.a},data:function(){return{pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},metadataList:[],tableHeight:0,selectMetadata:"",a01010:"",a01Statusb:"",e10Statusb:"",browse_personal:!1,readingArchivesVisible:!1,fourthShow:"hidden",multipleSelection:[]}},watch:{metadataList:{handler:function(t){this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-70-58-110}}},created:function(){this.queryMetadataList()},methods:{BtnRefresh:function(){this.queryMetadataList(),this.$message({message:"刷新完成！",type:"success"})},PageTurning:function(t){this.pageObj.pageIndex=t.page_index,this.pageObj.pageSize=t.page_size,this.queryMetadataList()},queryMetadataList:function(){var t=this;this.$axios({loading:{isShow:!0,target:".metadata-management-container"},method:"get",url:this.API.findRecordPage,params:{pageNum:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize}}).then(function(e){var a=e.data;"1"==a.code?(t.metadataList=a.data.list,t.pageObj.total=a.data.total):t.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(t){})},clickRow:function(t){this.selectMetadata=t},handleSelectionChange:function(t){this.multipleSelection=t},DownData:function(t,e){var a=this,n=this.metadataList[t].id;this.$confirm("确认下载？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios({loading:{isShow:!1},method:"post",url:a.API.downPkgForBasic,responseType:"arraybuffer",data:{id:n}}).then(function(t){this.commonFun.fileDownload(t.data,"标准数据包.zip")}.bind(a))}).catch(function(){a.$message.info("已取消")})}}},b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"metadata-management-container"},[a("el-main",[a("div",{staticClass:"title",staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("div",{staticClass:"left"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.BtnRefresh()}}},[t._v("刷新")])],1)]),t._v(" "),a("div",{staticClass:"metadata-management-content"},[a("el-table",{ref:"table",staticClass:"material_table",staticStyle:{width:"100%"},attrs:{data:t.metadataList,height:t.tableHeight,"highlight-current-row":""},on:{"row-click":t.clickRow,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.pageObj.pageIndex*t.pageObj.pageSize+e.$index+1)+" ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"names",label:"姓名","show-overflow-tooltip":"","min-width":"6%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"filename",label:"文件名称","show-overflow-tooltip":"","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createdate",label:"创建时间","show-overflow-tooltip":"","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?a("span",[t._v("失败")]):1===e.row.status?a("span",[t._v("成功")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",fixed:"right","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",icon:"el-icon-download",circle:"",title:"下载"},on:{click:function(a){t.DownData(e.$index,e.row)}}})]}}])})],1),t._v(" "),a("div",{staticClass:"material_page"},[a("pagination",{attrs:{pageIndex:t.pageObj.pageIndex,total:t.pageObj.total,pageSize:t.pageObj.pageSize},on:{PageTurning:t.PageTurning}})],1)],1)])],1)};b._withStripped=!0;var v={render:b,staticRenderFns:[]},w=v;var x=!1;var y=a("VU/8")(f,w,!1,function(t){x||a("n+1b")},"data-v-5fa62583",null);y.options.__file="src/views/systemMaintenance/metadataManagement/FinishDataList.vue";var _={name:"MetadataManagement",data:function(){return{activeName:"first",isChildUpdate1:!0,isChildUpdate2:!1}},components:{DataManagementList:g,FinishDataList:y.exports},created:function(){},methods:{handleClick:function(t){"first"==t.name?(this.isChildUpdate1=!0,this.isChildUpdate2=!1):"last"==t.name&&(this.isChildUpdate1=!1,this.isChildUpdate2=!0)}}},S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"table",staticClass:"workBench"},[a("div",{staticClass:"container"},[a("el-main",{ref:"elMain"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{key:"first",attrs:{label:"数据管理",name:"first"}},[t.isChildUpdate1?a("DataManagementList"):t._e()],1),t._v(" "),a("el-tab-pane",{key:"last",attrs:{label:"标准数据包",name:"last"}},[t.isChildUpdate2?a("FinishDataList"):t._e()],1)],1)],1)],1)])};S._withStripped=!0;var k={render:S,staticRenderFns:[]},j=k;var C=!1;var M=a("VU/8")(_,j,!1,function(t){C||a("GtLO")},"data-v-0f734dba",null);M.options.__file="src/views/systemMaintenance/metadataManagement/MetadataManagement.vue";e.default=M.exports},"n+1b":function(t,e,a){var n=a("Bde4");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("4fa9cfc5",n,!1,{})},oyX0:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.workBench[data-v-0f734dba] {\n  min-width: 1126px;\n}\n.workBench .container[data-v-0f734dba] {\n    padding: 0 !important;\n    border-left: none;\n    border-right: none;\n}\n.workBench .container .el-main[data-v-0f734dba] {\n      padding: 0;\n}\n.workBench[data-v-0f734dba] .el-tabs__header {\n    margin: 0 !important;\n    border-bottom: none;\n}\n.workBench[data-v-0f734dba] .el-tabs__nav-wrap::after {\n    height: 1px;\n}\n",""])},xEg6:function(t,e,a){var n=a("RAt6");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("05b85dd7",n,!1,{})}});