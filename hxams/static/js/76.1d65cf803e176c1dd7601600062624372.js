webpackJsonp([76],{Jynu:function(e,t,n){var o=n("vAhG");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("586534b5",o,!1,{})},"No++":function(e,t,n){var o=n("XVz1");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("4fc6b494",o,!1,{})},VXTj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("mvHQ");var o=n("cMGX"),i={name:"roleBenchEdit",components:{roleBenchNameSelect:n("Hh1l").a},props:["selectColumn"],data:function(){return{roleBenEditForm:{id:"",name:"",workbenchName:"",workbenchid:""},rules:{workbenchName:[{required:!0,message:"请选择工作台",trigger:"change"}]}}},computed:{},watch:{},methods:{roleBenchNameSelectCall:function(e){this.roleBenEditForm.workbenchid=e.id,this.roleBenEditForm.workbenchName=e.name},save:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.updateToNet()})},updateToNet:function(){var e=this;this.roleBenEditForm.workbenchName?this.$axios({method:"get",url:this.API.updateRoleWorkBench,params:{id:this.selectColumn.id,workbenchid:this.roleBenEditForm.workbenchid}}).then(function(t){"1"==t.data.code?(e.$message({message:"编辑数据成功！",type:"success"}),e.$emit("roleBenchCallBack",!0)):e.$message({type:"error",message:"操作失败，请刷新重试！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})}):this.$message({type:"error",message:"请选择工作台！"})},cancel:function(){this.resetForm("roleBenEditForm"),this.$emit("roleBenchCallBack",!1)},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){""!=this.selectColumn&&(this.roleBenEditForm.workbenchid=this.selectColumn.workbenchid,this.roleBenEditForm.name=this.selectColumn.name,this.roleBenEditForm.workbenchName=this.selectColumn.workbenchName)},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"roleBench-edit-container"},[n("el-form",{ref:"roleBenEditForm",attrs:{rules:e.rules,model:e.roleBenEditForm,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"角色名称：",prop:"name"}},[n("el-input",{attrs:{disabled:""},model:{value:e.roleBenEditForm.name,callback:function(t){e.$set(e.roleBenEditForm,"name",t)},expression:"roleBenEditForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"工作台：",prop:"workbenchName"}},[n("roleBenchNameSelect",{attrs:{chioceOptionId:e.roleBenEditForm.workbenchid},on:{roleBenchNameSelectCall:e.roleBenchNameSelectCall}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save("roleBenEditForm")}}},[e._v("保存")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.cancel}},[e._v("取消")])],1)],1)};a._withStripped=!0;var r={render:a,staticRenderFns:[]},l=r;var c=!1;var s=n("VU/8")(i,l,!1,function(e){c||n("No++")},"data-v-1ee71ae8",null);s.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/RoleBenchEdit.vue";var h=s.exports,d={name:"roleBenchSetting",components:{pagination:o.a,RoleBenchEdit:h},props:[""],data:function(){return{pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},tableHeight:0,roleBenchVisble:!1,name:"",selectColumn:"",roleBenchSettingList:[]}},computed:{},watch:{roleBenchSettingList:{handler:function(e){this.tableHeight=window.innerHeight-64-70-52-92}}},methods:{handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.getData()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.getData()},clickRow:function(e){this.selectColumn=e},getData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".rolebench-setting-content"},method:"post",url:this.API.queryRoleWorkBench,data:{pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize,name:this.name}}).then(function(t){var n=t.data;"1"==n.code?(e.roleBenchSettingList=n.data.list,e.pageObj.total=n.data.total):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})},search:function(){this.pageObj.pageIndex=this.API.constObj.pageIndex,this.getData()},roleBenchEdit:function(){var e=this.selectColumn.uIssystem;""!=this.selectColumn?1!=e?this.roleBenchVisble=!0:this.$confirm("系统内置账户，不允许编辑！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0}):this.$confirm("请选择一条数据！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0})},roleBenchCallBack:function(e){this.roleBenchVisble=!1,e&&this.getData()}},created:function(){this.getData()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"rolebench-setting-container"},[n("el-main",[n("div",{staticClass:"rolebench-setting-title"},[n("div",{staticClass:"left"},[n("el-button",{attrs:{type:"primary"},on:{click:e.roleBenchEdit}},[e._v("编辑")])],1),e._v(" "),n("div",{staticClass:"right"},[n("el-input",{attrs:{clearable:"",placeholder:"角色名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)]),e._v(" "),n("div",{staticClass:"rolebench-setting-content"},[n("el-table",{ref:"tableRef",staticClass:"table",staticStyle:{width:"100%"},attrs:{height:e.tableHeight,"highlight-current-row":"",data:e.roleBenchSettingList},on:{"row-click":e.clickRow}},[n("el-table-column",{attrs:{prop:"rowNo",label:"序号",align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"角色名称","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{prop:"remarks",label:"角色说明","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{prop:"workbenchName",label:"工作台"}})],1),e._v(" "),n("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}}),e._v(" "),e.roleBenchVisble?n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"角色工作台设置",visible:e.roleBenchVisble,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.roleBenchVisble=t}}},[n("roleBenchEdit",{attrs:{selectColumn:e.selectColumn},on:{roleBenchCallBack:e.roleBenchCallBack}})],1):e._e()],1)])],1)};p._withStripped=!0;var u={render:p,staticRenderFns:[]},m=u;var g=!1;var b=n("VU/8")(d,m,!1,function(e){g||n("Jynu")},null,null);b.options.__file="src/views/systemMaintenance/benchAndKnowledgeBase/RoleBenchSetting.vue";t.default=b.exports},XVz1:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.roleBench-edit-container[data-v-1ee71ae8] {\n  padding-right: 10px;\n}\n.roleBench-edit-container .dialog-footer[data-v-1ee71ae8] {\n    text-align: center;\n}\n.roleBench-edit-container .dialog-footer .el-button[data-v-1ee71ae8] {\n      margin-bottom: 10px;\n}\n",""])},vAhG:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.rolebench-setting-container {\n  position: relative;\n  border: none;\n}\n.rolebench-setting-container .my-header {\n    padding-top: 15px;\n    font-size: 16px;\n    font-weight: bold;\n}\n.rolebench-setting-container .el-main {\n    padding: 0 !important;\n    background-color: #fff;\n    height: 100%;\n}\n.rolebench-setting-container .el-main .rolebench-setting-title {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n      padding: 10px;\n}\n.rolebench-setting-container .el-main .rolebench-setting-title .right {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n}\n.rolebench-setting-container .el-main .rolebench-setting-title .right .el-input {\n          width: 180px;\n          margin-right: 10px;\n}\n.rolebench-setting-container .el-main .rolebench-setting-content .el-table__body tr.current-row > td {\n      background: #dcebfa !important;\n      color: #606266;\n}\n",""])}});