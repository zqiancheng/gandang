webpackJsonp([77],{FtF9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("mvHQ"),n=i.n(a),s=i("cMGX"),r=i("kvU4"),d=i("WsiF"),o=i("Ev+9"),l=i("Gu7T"),c=i.n(l),h=i("Dd8w"),p=i.n(h),g=i("pFYg"),b=i.n(g),f=i("7t+N"),u=i.n(f),v={name:"catalogue",props:["tableDataObj","borderShow"],data:function(){return{acceptParentData:null,headerList:[],dataListArr:[],noAllowDataArr:[],chioceObj:"",addObj:null,initEditState:null,fatherIndex:"",sonIndex:"",saveArrList:[],deleteObj:{},tableHeight:"",isCanSave:!0,uploadUrl:""}},watch:{tableDataObj:{immediate:!0,deep:!0,handler:function(t){t&&(this.acceptParentData=this.deepCloneData(t),this.headerList=this.acceptParentData.headerListArr,this.noAllowDataArr=this.acceptParentData.noAllowAddTitle?this.acceptParentData.noAllowAddTitle:[],this.dataListArr=this.initDataFun(this.acceptParentData.dataListArr),this.addObj=this.initAddObj(this.acceptParentData.headerListArr))}}},created:function(){},mounted:function(){this.tableHeight=window.innerHeight-this.$refs.similatTable.offsetTop-90+"px",this.uploadUrl=this.API.baobiaoURL},computed:{},methods:{deepCloneData:function(t){var e=Array.isArray(t)?[]:{};for(var i in t)t.hasOwnProperty(i)&&("object"===b()(t[i])&&null!==t[i]?e[i]=this.deepCloneData(t[i]):e[i]=t[i]);return e},initAddObj:function(t){var e=this;if(t&&t.length>0){var i={},a={};return t.forEach(function(t){i[t.key]="",i.dates=e.commonFun.dateFormat(new Date,"yyyy-MM-dd"),i.type="目录",i.id="",a[t.key]=!0,i.isEdit=a}),i}},initDataFun:function(t){if(this.headerList&&this.headerList.length>0){var e={};return this.headerList.forEach(function(t,i){e[t.key]=!1}),this.initEditState=e,t.forEach(function(t){t.isShow=!0,t.children&&t.children.forEach(function(t){t.isEdit=p()({},e),t.isShow=!0,t.children&&t.children.forEach(function(t){t.isEdit=p()({},e)})})}),t}},getCardTitle:function(t,e,i,a){for(var n=a.target,s=u()(".list_con_title"),r=0;r<s.length;r++)u()(s[r]).css("background","#dae6fb");u()(".body_detail").removeClass("active"),"list_con_title"==n.className&&u()(n).css("background","#c3d6f8"),this.deleteObj=[],this.chioceObj=t,this.fatherIndex=e,this.sonIndex=i},changeStatus:function(t,e,i,a,n){for(var s=u()(".list_con_title"),r=0;r<s.length;r++)u()(s[r]).css("background","#dae6fb");if(u()(".body_detail").removeClass("active"),u()(n.currentTarget.parentElement).addClass("active"),this.resetAllState(),e||0==e?(this.dataListArr[t].children[e].children[i].isEdit[a]=!0,this.dataListArr[t].children[e].children[i].dates=this.dataListArr[t].children[e].children[i].dates.replace(/-/g,""),this.deleteObj.obj=this.dataListArr[t].children[e].children[i]):(this.dataListArr[t].children[i].isEdit[a]=!0,this.dataListArr[t].children[i].dates=this.dataListArr[t].children[i].dates.replace(/-/g,""),this.deleteObj.obj=this.dataListArr[t].children[i]),this.deleteObj.cardIndex=t,this.deleteObj.childIndex=e,this.deleteObj.rowIndex=i,this.dataListArr=[].concat(c()(this.dataListArr)),"focusout"==n.type){8!=(e||0==e?this.dataListArr[t].children[e].children[i].dates:this.dataListArr[t].children[i].dates).length?(this.$message({type:"error",message:"请填写正确的日期格式！"}),this.isCanSave=!1):this.isCanSave=!0,this.$emit("acceptChildObj",this.acceptParentData)}},resetAllState:function(){var t=this;this.acceptParentData&&this.acceptParentData.dataListArr&&this.acceptParentData.dataListArr.length>0&&this.acceptParentData.dataListArr.forEach(function(e){e.children&&e.children.length>0?e.children.forEach(function(e){e.isEdit=p()({},t.initEditState),e.children&&e.children.length>0&&e.children.forEach(function(e){e.isEdit=p()({},t.initEditState)})}):e.isEdit=p()({},t.initEditState)})},addBtnFun:function(){var t=this,e=!1;for(var i in this.deleteObj)""!=this.deleteObj[i]&&(e=!0);if(e){var a=this.deleteObj.cardIndex,n=this.deleteObj.childIndex,s=this.deleteObj.rowIndex;this.addObj.parentcode=this.deleteObj.obj.parentcode,n||0==n||this.acceptParentData.dataListArr[a].children.splice(s+1,0,this.addObj),(n||0==n)&&this.acceptParentData.dataListArr[a].children[n].children.splice(s+1,0,this.addObj)}else{if(!this.chioceObj)return void this.$confirm("请选择需要添加的部分！","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning",center:!0});var r=this.isAllowAdd(this.chioceObj);if(this.addObj.parentcode=this.chioceObj.code,this.addObj.tempId=(new Date).getTime(),r){var d=this.fatherIndex,o=this.sonIndex;o||0==o?(this.dataListArr[d].children[o].children||(this.dataListArr[d].children[o].children=[]),this.dataListArr[d].children[o].children.push(this.addObj)):this.dataListArr.forEach(function(e){e.name==t.chioceObj.name&&(e.children||(e.children=[]),e.children.push(t.addObj))}),this.$emit("acceptChildObj",this.acceptParentData)}else this.$message({type:"error",message:"请选择对应目录信息！"})}},isAllowAdd:function(t){return!(this.noAllowDataArr&&this.noAllowDataArr.length>0)||!this.noAllowDataArr.includes(t.name)},toggleShowFun:function(t,e){e||0==e?this.dataListArr[t].children[e].isShow=!this.dataListArr[t].children[e].isShow:this.dataListArr[t].isShow=!this.dataListArr[t].isShow,this.dataListArr=[].concat(c()(this.dataListArr))},resultDataFun:function(){return this.dataListArr},saveFun:function(){this.isCanSave?this.$emit("saveFunBack",!0):this.$message({type:"error",message:"日期格式有误，修改后保存！"})},deleteBtnFun:function(){var t=this;this.$confirm("确定删除选中记录?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){if(t.deleteObj.obj.id)t.$axios({loading:{isShow:!0,target:"#archivesRegister"},method:"get",url:t.API.deleteByE01Z100,params:{e01Z100:t.deleteObj.obj.id}}).then(function(e){"1"==e.data.code?(t.$emit("freFreshBack",!0),t.$message({type:"success",message:"删除成功！"})):t.$message({type:"error",message:"获取失败，请刷新！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})});else{var e=t.deleteObj.cardIndex,i=t.deleteObj.childIndex,a=t.deleteObj.rowIndex;i||0==i?t.dataListArr[e].children[i].children.splice(a,1):t.dataListArr[e].children.splice(a,1),t.$emit("acceptChildObj",t.acceptParentData)}}).catch(function(){})},printFun:function(){var t,e=this.borderShow,i=(this.$store.state.user.uAreacode,this.API.constObj.reportFormData[2].id);t="and t_a01.A0100='"+e+"'",this.openPostWindow(this.uploadUrl,i,t)},openPostWindow:function(t,e,i){t=t+"?uuid="+e+"&SQLSCRIPT="+i,t=encodeURI(t),window.open(t)},printFun2:function(){var t,e=this.borderShow,i=this.API.constObj.reportFormData[10].id;t="a.a0100='"+e+"'",this.openPostWindow2(this.uploadUrl,i,t)},openPostWindow2:function(t,e,i){t=t+"?uuid="+e+"&SQLSCRIPT="+i,t=encodeURI(t),window.open(t)}}},m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"catalogue"},[i("div",{staticClass:"righthead"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addBtnFun}},[t._v("添加")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.deleteBtnFun}},[t._v("删除")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveFun}},[t._v("保存")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.printFun}},[t._v("打印")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.printFun2}},[t._v("档案脊背")])],1),t._v(" "),i("div",{staticClass:"big-title"},[t._v("干部人事档案目录")]),t._v(" "),i("div",{staticClass:"similatTable"},[i("div",{staticClass:"header_part"},t._l(t.headerList,function(e,a){return i("div",{key:a,staticClass:"header_con",style:{width:e.width}},[e.isRequired?i("span",{staticClass:"requiredFlag"},[t._v("*")]):t._e(),t._v(" "+t._s(e.name)+"\n\t\t\t")])}),0),t._v(" "),i("div",{ref:"similatTable",staticClass:"body_part",style:{height:t.tableHeight}},t._l(t.dataListArr,function(e,a){return i("div",{key:a,staticClass:"body_list_con",on:{click:function(i){i.stopPropagation(),t.getCardTitle(e,a,null,i)}}},[i("div",{staticClass:"list_con_title",style:e.children&&e.isShow&&"目录"==e.children[0].type?"":"margin-bottom:35px"},[i("span",{staticClass:"toggleShow",on:{click:function(e){e.stopPropagation(),t.toggleShowFun(a)}}},[t._v("+")]),t._v(" "+t._s(e.codeno)+"、"+t._s(e.name)+"\n\t\t\t\t")]),t._v(" "),e.children&&e.isShow?i("div",{staticClass:"list_con_body"},[t._l(e.children,function(e,n){return"目录"==e.type?i("div",{key:n,staticClass:"body_detail"},t._l(e.isEdit,function(s,r,d){return i("div",{key:d,staticClass:"body_detail_con",style:{width:t.headerList[d]&&t.headerList[d].width},on:{click:function(e){e.stopPropagation(),t.changeStatus(a,null,n,t.headerList[d].key,e)},focusout:function(e){t.changeStatus(a,null,n,t.headerList[d].key,e)}}},["shx"==r?i("div",[i("span",[t._v(t._s(n+1))])]):"total"==r?i("div",[s?t._e():i("span",[t._v(t._s(e[t.headerList[d]&&t.headerList[d].key]))]),t._v(" "),s?i("el-input-number",{ref:"currCol",refInFor:!0,attrs:{min:1,max:100},model:{value:e[t.headerList[d]&&t.headerList[d].key],callback:function(i){t.$set(e,t.headerList[d]&&t.headerList[d].key,i)},expression:"el[headerList[index] && headerList[index].key]"}}):t._e()],1):i("div",[s?t._e():i("span",{staticStyle:{"text-align":"left"}},[t._v(t._s(e[t.headerList[d]&&t.headerList[d].key]))]),t._v(" "),"checkbox"===(t.headerList[d]&&t.headerList[d].type?t.headerList[d].type:"input")&&s?i("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e[t.headerList[d]&&t.headerList[d].key],expression:"el[headerList[index] && headerList[index].key]"}],ref:"currCol",refInFor:!0,staticStyle:{"text-align":"left"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e[t.headerList[d]&&t.headerList[d].key])?t._i(e[t.headerList[d]&&t.headerList[d].key],null)>-1:e[t.headerList[d]&&t.headerList[d].key]},on:{change:function(i){var a=e[t.headerList[d]&&t.headerList[d].key],n=i.target,s=!!n.checked;if(Array.isArray(a)){var r=t._i(a,null);n.checked?r<0&&t.$set(e,t.headerList[d]&&t.headerList[d].key,a.concat([null])):r>-1&&t.$set(e,t.headerList[d]&&t.headerList[d].key,a.slice(0,r).concat(a.slice(r+1)))}else t.$set(e,t.headerList[d]&&t.headerList[d].key,s)}}}):"radio"===(t.headerList[d]&&t.headerList[d].type?t.headerList[d].type:"input")&&s?i("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e[t.headerList[d]&&t.headerList[d].key],expression:"el[headerList[index] && headerList[index].key]"}],ref:"currCol",refInFor:!0,staticStyle:{"text-align":"left"},attrs:{type:"radio"},domProps:{checked:t._q(e[t.headerList[d]&&t.headerList[d].key],null)},on:{change:function(i){t.$set(e,t.headerList[d]&&t.headerList[d].key,null)}}}):s?i("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e[t.headerList[d]&&t.headerList[d].key],expression:"el[headerList[index] && headerList[index].key]"}],ref:"currCol",refInFor:!0,staticStyle:{"text-align":"left"},attrs:{type:t.headerList[d]&&t.headerList[d].type?t.headerList[d].type:"input"},domProps:{value:e[t.headerList[d]&&t.headerList[d].key]},on:{input:function(i){i.target.composing||t.$set(e,t.headerList[d]&&t.headerList[d].key,i.target.value)}}}):t._e()])])}),0):t._e()}),t._v(" "),t._l(e.children,function(e,n){return"标题"==e.type?i("div",{key:n,staticClass:"body_list_con",on:{click:function(i){i.stopPropagation(),t.getCardTitle(e,a,n,i)}}},[i("div",{staticClass:"list_con_title",style:e.children&&e.isShow?"":"margin-bottom: 35px;"},[i("span",{staticClass:"toggleShow",on:{click:function(e){e.stopPropagation(),t.toggleShowFun(a,n)}}},[t._v("+")]),t._v(" "+t._s(e.codeno)+"、"+t._s(e.name)+"\n\t\t\t\t\t\t")]),t._v(" "),e.children&&e.isShow?i("div",{staticClass:"list_con_body"},t._l(e.children,function(e,s){return i("div",{key:s,staticClass:"body_detail"},t._l(e,function(r,d,o){return i("div",{key:o,staticClass:"body_detail_con",style:{width:t.headerList[o]&&t.headerList[o].width},on:{click:function(e){e.stopPropagation(),t.changeStatus(a,n,s,d,e)},focusout:function(e){t.changeStatus(a,n,s,t.headerList[o].key,e)}}},[0===Number(o)?i("div",[i("span",[t._v(t._s(s+1))])]):3===Number(o)?i("div",[e.isEdit[d]?i("el-input-number",{ref:"currCol",refInFor:!0,staticStyle:{width:"95%"},attrs:{min:1},model:{value:e[t.headerList[o]&&t.headerList[o].key],callback:function(i){t.$set(e,t.headerList[o]&&t.headerList[o].key,i)},expression:"childItem[headerList[index] && headerList[index].key]"}}):i("span",[t._v(t._s(e[t.headerList[o]&&t.headerList[o].key]))])],1):1===Number(o)||2===Number(o)||4===Number(o)?i("div",[e.isEdit[d]?"checkbox"===(t.headerList[o]&&t.headerList[o].type?t.headerList[o].type:"input")?i("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e[t.headerList[o]&&t.headerList[o].key],expression:"childItem[headerList[index] && headerList[index].key]"}],ref:"currCol",refInFor:!0,staticStyle:{"text-align":"left"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e[t.headerList[o]&&t.headerList[o].key])?t._i(e[t.headerList[o]&&t.headerList[o].key],null)>-1:e[t.headerList[o]&&t.headerList[o].key]},on:{change:function(i){var a=e[t.headerList[o]&&t.headerList[o].key],n=i.target,s=!!n.checked;if(Array.isArray(a)){var r=t._i(a,null);n.checked?r<0&&t.$set(e,t.headerList[o]&&t.headerList[o].key,a.concat([null])):r>-1&&t.$set(e,t.headerList[o]&&t.headerList[o].key,a.slice(0,r).concat(a.slice(r+1)))}else t.$set(e,t.headerList[o]&&t.headerList[o].key,s)}}}):"radio"===(t.headerList[o]&&t.headerList[o].type?t.headerList[o].type:"input")?i("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e[t.headerList[o]&&t.headerList[o].key],expression:"childItem[headerList[index] && headerList[index].key]"}],ref:"currCol",refInFor:!0,staticStyle:{"text-align":"left"},attrs:{type:"radio"},domProps:{checked:t._q(e[t.headerList[o]&&t.headerList[o].key],null)},on:{change:function(i){t.$set(e,t.headerList[o]&&t.headerList[o].key,null)}}}):i("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e[t.headerList[o]&&t.headerList[o].key],expression:"childItem[headerList[index] && headerList[index].key]"}],ref:"currCol",refInFor:!0,staticStyle:{"text-align":"left"},attrs:{type:t.headerList[o]&&t.headerList[o].type?t.headerList[o].type:"input"},domProps:{value:e[t.headerList[o]&&t.headerList[o].key]},on:{input:function(i){i.target.composing||t.$set(e,t.headerList[o]&&t.headerList[o].key,i.target.value)}}}):i("span",{staticStyle:{"text-align":"left"}},[t._v(t._s(e[t.headerList[o]&&t.headerList[o].key]))])]):t._e()])}),0)}),0):t._e()]):t._e()})],2):t._e()])}),0)])])};m._withStripped=!0;var x={render:m,staticRenderFns:[]},y=x;var _=!1;var L=i("VU/8")(v,y,!1,function(t){_||i("e4fa")},"data-v-617345d9",null);L.options.__file="src/views/digitalArchives/catalogue.vue";var w=L.exports,k={name:"digitalArchives",components:{Pagination:s.a,BrowsePersonal:r.a,NoTimerReadingArchivesList:d.default,organizationTreeSelect:o.a,catalogue:w},data:function(){return{aaa:"",borderShow:"",isShowChilder:!0,search:{org:"",name:""},flag:!0,isTotal:!0,pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},addOrEditShow:!1,contentTable:"",tableHeight:"",leftSearchTable:[],fromAddOrEdit:"add",browse_personal:!1,chioceObj:{},readingArchivesVisible:!1,type:1,iniTableObj:{headerListArr:[{name:"序号",key:"shx",isRequired:!1,width:"10%"},{name:"材料名称",key:"name",isRequired:!1,width:"30%"},{name:"材料形成时间",key:"dates",isRequired:!1,width:"20%"},{name:"页数",key:"total",isRequired:!1,width:"15%"},{name:"备注",key:"e01Z121",isRequired:!1,width:"25%"}],noAllowAddTitle:[],dataListArr:[]},savaListArr:[],e1000:"",selectVal:{},isCoverDiv:!0}},created:function(){this.getLeftListFun()},mounted:function(){this.tableHeight=window.innerHeight-this.$refs.organizatinLeft.offsetTop-70-52+"px"},methods:{acceptChildObj:function(t){this.iniTableObj=t},orgTreeSelectCall:function(t){this.search.org=t.id},PageTurning:function(t){this.pageObj.pageIndex=t.page_index,this.pageObj.pageSize=t.page_size,this.$refs.pipeCover&&(this.$refs.pipeCover.style.top="0px"),this.getLeftListFun()},searchFun:function(){this.pageObj.pageIndex=this.API.constObj.pageIndex,this.getLeftListFun(),this.$refs.pipeCover&&(this.$refs.pipeCover.style.top="0px")},msgClick:function(t,e){this.selectVal=t,this.borderShow=t.a0100,this.e1000=t.e1000,this.getRightListFun(t.a0100),e!==this.leftSearchTable.length-1?this.$refs.pipeCover.style.top=this.$refs.leftTable[e].getBoundingClientRect().top-this.$refs.table.getBoundingClientRect().top+"px":this.$refs.pipeCover.style.top=this.$refs.leftTable[e-1].getBoundingClientRect().top-this.$refs.table.getBoundingClientRect().top+this.$refs.leftTable[e].getBoundingClientRect().height+"px"},getLeftListFun:function(){var t=this;this.pageObj.pageIndex,this.pageObj.pageSize,this.pageObj.pageIndex;this.$axios({loading:{isShow:!0,target:"#archivesRegister"},method:"post",url:this.API.getA01ByB0000,data:{pageIndex:this.pageObj.pageIndex,pageSize:this.pageObj.pageSize,b0000:this.search.org,a0101:this.search.name}}).then(function(e){var i=e.data;if("1"==i.code){var a=i.data.list;t.leftSearchTable=a,t.pageObj.total=i.data.total,a.length>0&&(t.isCoverDiv=!0,t.borderShow=a[0].a0100,t.e1000=a[0].e1000,t.getRightListFun(a[0].a0100),t.selectVal=a[0]),"0"==a.length&&(t.isCoverDiv=!1,t.iniTableObj.dataListArr=[])}else t.$message({type:"error",message:"获取失败，请刷新！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})},getRightListFun:function(t){var e=this;this.$axios({loading:{isShow:!0,target:"#archivesRegister"},method:"get",url:this.API.cadreDigitalArchives,params:{a0100:t}}).then(function(t){var i=t.data;if("1"==i.code){var a=i.data,n=e.commonFun.toTreeDataNormal(a,{childKey:"code",fatherKey:"parentcode"});e.iniTableObj.dataListArr=n;for(var s=0;s<n.length;s++)n[s].children&&"标题"==n[s].children[0].type&&e.iniTableObj.noAllowAddTitle.push(n[s].name)}else e.$message({type:"error",message:"获取失败，请刷新！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})},showHideFun:function(t){this.$forceUpdate(),this.dataListArr[t].checked=!this.dataListArr[t].checked},handleCancel:function(){var t=this;this.$confirm("确定删除选中记录?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios({loading:{isShow:!0,target:"#archivesRegister"},method:"get",url:t.API.deleteMyA01Collect,params:{id:t.currentRowEdit.id}}).then(function(e){"1"==e.data.code?t.getLeftSearchList():t.$message({type:"error",message:"获取失败，请刷新！"})}).catch(function(e){t.$message({type:"error",message:"请求异常，请检查网络！"})})}).catch(function(){})},PeopleCancel:function(){},addBackCall:function(t){t&&(this.addOrEditShow=!1,this.getLeftSearchList())},BrowsePersonal:function(t,e){this.chioceObj=this.dynamicRoster[t],this.browse_personal=!0},handleFile:function(t,e){this.chioceObj=e,this.readingArchivesVisible=!0},saveFunBack:function(t){var e=this;if(t){this.treeTOList(this.iniTableObj.dataListArr);var i=this.savaListArr,a=!1;if(i.length>0&&i.forEach(function(t){""==t.name&&(a=!0),t.children&&t.children.length>0&&t.children.forEach(function(t){t.name&&""==t.name&&(a=!0)})}),this.savaListArr.length<=0)return void this.$message({type:"error",message:"无修改，无需保存！"});if(a)return void this.$message({type:"error",message:"有材料名称未填写！"});this.$axios({loading:{isShow:!0,target:"#archivesRegister"},method:"post",url:this.API.saveE01z1,data:{data:n()(this.savaListArr),e1000:this.e1000}}).then(function(t){"1"==t.data.code?e.getRightListFun(e.borderShow):e.$message({type:"error",message:"获取失败，请刷新！"})}).catch(function(t){e.$message({type:"error",message:"请求异常，请检查网络！"})})}},treeTOList:function(t){var e=[];t.forEach(function(t){t.children&&t.children.length>0&&t.children.forEach(function(t,i){t.children&&t.children.length>0?t.children.forEach(function(t,i){t.shx=String(i+1),e.push(t)}):t.children||"标题"==t.type||(t.shx=String(i+1),e.push(t))})}),e.length>0&&e.forEach(function(t){t.total?t.total=String(t.total):t.total="0"}),this.savaListArr=e},freFreshBack:function(t){t&&this.getRightListFun(this.borderShow)}}},A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"digitalArchives"},[a("el-container",{attrs:{id:"baseTable"}},[a("div",{staticClass:"l leftAside",attrs:{id:"dynamicLeft"}},[a("div",{staticClass:"leftHead"},[a("organizationTreeSelect",{attrs:{defaultOptions:t.search.org,isShow:t.flag},on:{OrgTreeSelectCall:t.orgTreeSelectCall}}),t._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{staticStyle:{"padding-right":"0"},attrs:{span:19}},[a("el-input",{attrs:{placeholder:"姓名或拼音"},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.searchFun}},[t._v("查询")])],1)],1)],1),t._v(" "),a("div",{ref:"organizatinLeft",staticClass:"topheight",style:{height:t.tableHeight}},[t.isCoverDiv?a("div",{ref:"table",staticClass:"user-organization-list"},t._l(t.leftSearchTable,function(e,n){return a("div",{key:n,ref:"leftTable",refInFor:!0,staticClass:"item-mesg-box",on:{click:function(i){t.msgClick(e,n)}}},[a("div",{staticClass:"item-msg"},[e.photo?a("div",{staticClass:"left-img"},[a("img",{staticClass:"mCS_img_loaded",attrs:{src:e.photo}})]):a("div",{staticClass:"left-img"},["1"==e.a0104b||""==e.a0104b?a("img",{staticClass:"mCS_img_loaded",attrs:{src:i("Dh7Z")}}):"2"==e.a0104b?a("img",{staticClass:"mCS_img_loaded",attrs:{src:i("y7zx")}}):t._e()]),t._v(" "),a("div",{staticClass:"right-msg"},[a("table",[a("tbody",[a("tr",[a("td",{staticClass:"user-name td-msg"},[t._v(t._s(e.a0101))])]),t._v(" "),a("tr",[a("td",{staticClass:"td-msg"},[t._v("籍贯:"+t._s(e.a0111a))])]),t._v(" "),a("tr",[a("td",{staticClass:"td-msg",attrs:{title:e.a0192a}},[t._v("现职:"+t._s(e.a0192a))])])])])])])])}),0):a("div",{staticClass:"user-organization-list-noData"},[a("p",[t._v("暂无数据")])]),t._v(" "),t.isCoverDiv?a("div",{ref:"pipeCover",staticClass:"item-msg msg-cover-div"},[t.selectVal.photo?a("div",{staticClass:"left-img"},[a("img",{staticClass:"mCS_img_loaded",attrs:{src:t.selectVal.photo}})]):a("div",{staticClass:"left-img"},["1"==t.selectVal.a0104b||""==t.selectVal.a0104b?a("img",{staticClass:"mCS_img_loaded",attrs:{src:i("Dh7Z")}}):"2"==t.selectVal.a0104b?a("img",{staticClass:"mCS_img_loaded",attrs:{src:i("y7zx")}}):t._e()]),t._v(" "),a("div",{staticClass:"right-msg"},[a("table",[a("tbody",[a("tr",[a("td",{staticClass:"user-name td-msg"},[t._v(t._s(t.selectVal.a0101))])]),t._v(" "),a("tr",[a("td",{staticClass:"td-msg"},[t._v("籍贯:"+t._s(t.selectVal.a0111a))])]),t._v(" "),a("tr",[a("td",{staticClass:"td-msg",attrs:{title:t.selectVal.a0192a}},[t._v("现职:"+t._s(t.selectVal.a0192a))])])])])])]):t._e()]),t._v(" "),a("div",{staticClass:"Pagination dyna-l left-page"},[a("pagination",{attrs:{pageIndex:t.pageObj.pageIndex,enableSmall:!0,total:t.pageObj.total,pageSize:t.pageObj.pageSize},on:{PageTurning:t.PageTurning}})],1)]),t._v(" "),a("div",{staticClass:"contentRight r"},[a("div",{staticClass:"topheight1",attrs:{id:"dynamicRight"}},[a("catalogue",{attrs:{tableDataObj:t.iniTableObj,borderShow:t.borderShow},on:{saveFunBack:t.saveFunBack,acceptChildObj:t.acceptChildObj,freFreshBack:t.freFreshBack}})],1)]),t._v(" "),t.browse_personal?a("el-dialog",{attrs:{title:"人员信息",width:"100%",fullscreen:"",visible:t.browse_personal,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.browse_personal=e}}},[a("BrowsePersonal",{attrs:{selectDeceive:t.chioceObj}})],1):t._e(),t._v(" "),t.readingArchivesVisible?a("el-dialog",{attrs:{fullscreen:"",title:"档案阅览",visible:t.readingArchivesVisible,"append-to-body":""},on:{"update:visible":function(e){t.readingArchivesVisible=e}}},[a("NoTimerReadingArchivesList",{attrs:{fileObject:t.chioceObj}})],1):t._e()],1)],1)};A._withStripped=!0;var C={render:A,staticRenderFns:[]},S=C;var j=!1;var O=i("VU/8")(k,S,!1,function(t){j||i("sLmS")},"data-v-1378acce",null);O.options.__file="src/views/digitalArchives/digitalArchives.vue";e.default=O.exports},RFoB:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.left-page[data-v-1378acce] .el-pagination {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n.leftHead[data-v-1378acce] .el-row {\n  margin: 0 !important;\n}\n.organizationTreeSelect[data-v-1378acce] {\n  padding: 0 12px 0;\n}\n.organizationTreeSelect[data-v-1378acce] .el-cascader {\n  width: 100%;\n}\n.digitalArchives[data-v-1378acce] {\n  height: 100%;\n  background: #fff;\n  overflow: hidden;\n}\n.user-organization-list-noData[data-v-1378acce] {\n  width: 100%;\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.head[data-v-1378acce] {\n  width: 100%;\n  height: 40px;\n  line-height: 40px;\n  background-color: #f5f5f5;\n  border-bottom: 1px solid #ccc;\n}\n.head h4[data-v-1378acce] {\n    padding-left: 15px;\n    font-size: 16px;\n}\n.body_part[data-v-1378acce],\n.body_list_con[data-v-1378acce],\n.list_con_title[data-v-1378acce],\n.list_con_body[data-v-1378acce] {\n  width: 100%;\n}\n.topheight[data-v-1378acce] {\n  position: relative;\n  margin-top: 42px;\n}\n.topheight .user-organization-list[data-v-1378acce] {\n    position: absolute;\n    height: 100%;\n    overflow: auto;\n}\n.topheight .item-msg[data-v-1378acce] {\n    margin: 6px 0 6px 16px;\n    display: inline-block;\n    width: 367px;\n    cursor: pointer;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.topheight .item-msg .mCS_img_loaded[data-v-1378acce] {\n      width: 80px;\n      height: 100px;\n      background: #c1c1c1;\n}\n.topheight .item-msg .right-msg[data-v-1378acce] {\n      height: 100px;\n      position: relative;\n      width: 272px;\n      background: #EFEFEF;\n      padding-left: 10px;\n}\n.topheight .item-msg .right-msg table[data-v-1378acce] {\n        height: 100%;\n}\n.topheight .item-msg .right-msg table .user-name[data-v-1378acce] {\n          color: red;\n}\n.topheight .item-msg .right-msg table .td-msg[data-v-1378acce] {\n          width: 275px;\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          display: block;\n}\n.topheight .msg-cover-div[data-v-1378acce] {\n    background: white;\n    position: absolute;\n    width: 97%;\n    height: 108px;\n    border: 2px solid #1FA9F2;\n    border-right: none;\n    top: 0px;\n    left: 0;\n    filter: alpha(Opacity=80);\n    -moz-opacity: 0.8;\n    opacity: 1.8;\n    z-index: 100;\n    /*padding-left: 10px;*/\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    margin: 0;\n    margin-left: 15px;\n    padding: 3px;\n}\n.topheight .msg-cover-div .right-msg[data-v-1378acce] {\n      background: #fff !important;\n}\n.topheight .item-msg-blue[data-v-1378acce] {\n    border: 2px solid #1fa9f2;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.topheight1[data-v-1378acce] {\n  /*margin-top: 5px;*/\n  border: 1px solid #e5e5e5;\n}\n.topheight1 .header_part[data-v-1378acce] {\n    width: 100%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-pack: distribute;\n        justify-content: space-around;\n}\n.topheight1 .header_part .header_con[data-v-1378acce] {\n      width: 25%;\n      text-align: center;\n      padding: 10px 10px;\n      border-bottom: 1px solid #e5e5e5;\n      border-right: 1px solid #e5e5e5;\n}\n.topheight1 .list_con_title[data-v-1378acce] {\n    line-height: 30px;\n    border-bottom: 1px solid #e5e5e5;\n    font-weight: bolder;\n    background: #dae6fb;\n    color: #0087d6;\n    text-align: left;\n    text-indent: 10px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    margin-bottom: 15px;\n}\n.topheight1 .list_con_title .showHide[data-v-1378acce] {\n      display: block;\n      width: 20px;\n      height: 20px;\n      background: red;\n      text-align: center;\n      line-height: 20px;\n}\n.topheight1 .list_con_body[data-v-1378acce],\n  .topheight1 .body_detail[data-v-1378acce] {\n    overflow: hidden;\n    width: 100%;\n}\n.topheight1 .list_con_body .body_detail[data-v-1378acce],\n    .topheight1 .body_detail .body_detail[data-v-1378acce] {\n      border-bottom: 1px solid #e5e5e5;\n}\n.topheight1 .list_con_body .body_detail .body_detail_con[data-v-1378acce],\n      .topheight1 .body_detail .body_detail .body_detail_con[data-v-1378acce] {\n        list-style: none;\n        float: left;\n        width: 25%;\n        text-align: center;\n        padding: 10px 15px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n}\n.leftAside[data-v-1378acce] {\n  width: 400px;\n  height: 100%;\n  border-right: 1px solid #ccc;\n}\n.leftAside .leftHead[data-v-1378acce] {\n    height: 40px;\n    line-height: 40px;\n    margin-top: 6px;\n}\n.leftAside .dyna-l .el-pagination__total[data-v-1378acce] {\n    display: none !important;\n}\n.contentRight[data-v-1378acce] {\n  width: calc(100% - 410px);\n  border: 2px solid #1FA9F2;\n  /*width: 80%;*/\n}\n.contentRight .big-title[data-v-1378acce] {\n    margin: 0;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    letter-spacing: 16px;\n    font-size: 36px;\n    font-family: 'SimSun';\n    height: 30px;\n    line-height: 30px;\n    margin: 20px 0 10px;\n    color: black;\n    font-weight: bold;\n}\n.contentRight .righthead[data-v-1378acce] {\n    width: 100%;\n    padding-top: 10px;\n    height: 40px;\n}\n.contentRight .righthead .inputContent[data-v-1378acce] {\n      width: 22%;\n      margin-right: 10px;\n}\n.inputContent1[data-v-1378acce] {\n  width: 73%;\n}\n",""])},e4fa:function(t,e,i){var a=i("fW8h");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("d32407f8",a,!1,{})},fW8h:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\ninput[data-v-617345d9]{\n\t\ttext-align: left;\n}\n.catalogue[data-v-617345d9] {\n\t\twidth: 100%;\n\t\theight: 100%;\n}\n.righthead[data-v-617345d9] {\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -ms-flexbox;\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\tpadding-top: 10px;\n\t\tpadding-left: 10px;\n}\n.addBtn[data-v-617345d9] {\n\t\tpadding: 8px 15px;\n\t\tborder: none;\n\t\tbackground: #1890ff;\n\t\tcolor: #ffffff;\n\t\tborder-radius: 4px;\n\t\tmargin-bottom: 20px;\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -ms-flexbox;\n\t\tdisplay: flex;\n\t\t-webkit-box-pack: start;\n\t\t    -ms-flex-pack: start;\n\t\t        justify-content: flex-start;\n\t\tcursor: pointer;\n}\n.big-title[data-v-617345d9] {\n\t\tmargin: 0;\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -ms-flexbox;\n\t\tdisplay: flex;\n\t\t-webkit-box-pack: center;\n\t\t    -ms-flex-pack: center;\n\t\t        justify-content: center;\n\t\tletter-spacing: 16px;\n\t\tfont-size: 36px;\n\t\tfont-family: 'SimSun';\n\t\theight: 30px;\n\t\tline-height: 30px;\n\t\tmargin: 20px 0 10px;\n\t\tcolor: black;\n\t\tfont-weight: bold;\n}\n.similatTable[data-v-617345d9] {\n\t\tborder: 1px solid #e5e5e5;\n\t\t/*height:calc(100% - 500px);*/\n}\n.header_part[data-v-617345d9] {\n\t\twidth: calc(100% - 18px);\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -ms-flexbox;\n\t\tdisplay: flex;\n\t\t-ms-flex-pack: distribute;\n\t\t    justify-content: space-around;\n}\n.header_con[data-v-617345d9] {\n\t\twidth: 25%;\n\t\ttext-align: center;\n\t\t/*padding: 0 10px;*/\n\t\tline-height: 50px;\n\t\tborder-bottom: 1px solid #e5e5e5;\n\t\tborder-right: 1px solid #e5e5e5;\n\t\tfont-size: 20px;\n\t\tfont-weight: 300;\n\t\tfont-family: '\\5B8B\\4F53';\n}\n.requiredFlag[data-v-617345d9] {\n\t\tcolor: red;\n\t\tpadding-right: 2px;\n}\n.body_part[data-v-617345d9],\n\t.body_list_con[data-v-617345d9],\n\t.list_con_title[data-v-617345d9],\n\t.list_con_body[data-v-617345d9] {\n\t\twidth: 100%;\n}\n.body_part[data-v-617345d9] {\n\t\toverflow: auto;\n}\n.list_con_title[data-v-617345d9] {\n\t\tline-height: 35px;\n\t\tborder-bottom: 1px solid #e5e5e5;\n\t\tfont-weight: bolder;\n\t\tbackground: #dae6fb;\n\t\tfont-size: 18px;\n\t\tcolor: #0087d6;\n\t\ttext-align: left;\n\t\ttext-indent: 10px;\n\t\t/*margin-bottom: 15px;*/\n}\n.list_con_body[data-v-617345d9],\n\t.body_detail[data-v-617345d9] {\n\t\toverflow: hidden;\n\t\twidth: 100%;\n}\n.toggleShow[data-v-617345d9] {\n\t\tcolor: #0087d6;\n\t\tmargin-right: 8px;\n\t\tmargin-left: 10px;\n\t\tcursor: pointer;\n}\n.body_detail[data-v-617345d9] {\n\t\tborder-bottom: 1px solid #e5e5e5;\n\t\theight: 50px;\n\t\t-webkit-box-sizing: border-box;\n\t\t        box-sizing: border-box;\n}\n.body_detail[data-v-617345d9]:last-child {\n\t\tborder-bottom: transparent;\n}\n\t/*.body_detail:hover {\n\t\tbackground-color: rgba(24, 144, 255, 0.5);\n\t\tcursor: pointer;\n\t\tcolor: #ffffff;\n\t}*/\n.body_detail[data-v-617345d9]:actived {\n        background-color: rgba(24, 144, 255, 0.5);\n        cursor: pointer;\n        color: #ffffff;\n}\n.list_con_body .body_detail .body_detail_con[data-v-617345d9] {\n\t\tlist-style: none;\n\t\tfloat: left;\n\t\ttext-align: center;\n\t\tpadding: 0 15px;\n\t\theight: 50px;\n\t\tline-height: 50px;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\t-webkit-box-sizing: border-box;\n\t\t        box-sizing: border-box;\n\t\tborder-right: 1px solid #e5e5e5;\n}\n.body_detail_con div[data-v-617345d9] {\n\t\theight: 100%\n}\n.body_detail_con span[data-v-617345d9] {\n\t\tdisplay: inline-block;\n\t\twidth: 100%;\n\t\theight: 100%;\n}\n.body_detail_con input[data-v-617345d9] {\n\t\twidth: 100%;\n\t\t/*height: 70%;*/\n\t\tborder: none;\n\t\tborder-radius: 4px;\n\t\t-webkit-box-shadow: 0 0 2px #1890ff inset;\n\t\t        box-shadow: 0 0 2px #1890ff inset;\n\t\ttext-align: center;\n\t\tpadding: 8px 0\n}\n.active[data-v-617345d9]{\n        background: rgba(24, 144, 255, 0.5);\n}\n.list_con_body[data-v-617345d9] {\n\t\t-webkit-transition: 0.3s all linear;\n\t\ttransition: 0.3s all linear;\n}\n\t/*.list_con_title:hover{\n\t\tbackground:rgb(195, 214, 248);\n\t}*/\n",""])},sLmS:function(t,e,i){var a=i("RFoB");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("23fc6e49",a,!1,{})}});