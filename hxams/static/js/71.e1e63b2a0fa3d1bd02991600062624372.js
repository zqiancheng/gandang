webpackJsonp([71],{ZoiQ:function(e,t,a){var i=a("aY51");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("19edfcc4",i,!1,{})},aY51:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.el-main {\n  padding: 0;\n}\n.special-audit-recognition-container /deep/ .el-table__fixed-right-patch {\n  width: 0;\n}\n",""])},d3R6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("X5eI"),n=a("kvU4"),s=a("cMGX"),l=a("vW5d"),o={name:"LabelPersonnelInfor",props:["flagType","time","classificationTitle"],components:{personnelCategoryTreeSelect:i.a,browsePersonal:n.a,pagination:s.a,DReaderDouble:l.a},data:function(){return{activeName:"four",selectSpecialAuditR:"",browse_personal:!1,fourthShow:"hidden",readingArchivesVisible:!1,DReaderDoubleVisible:!1,pageObj:{pageIndex:this.API.constObj.pageIndex,total:0,pageSize:this.API.constObj.pageSize},tableData:[],e10statusb:"",a01statusb:"",a01010:"",tableHeight:0,multipleSelection:[]}},watch:{tableData:{handler:function(e){this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-110}}},created:function(){this.fetchTableData()},methods:{browsePersonalOnclick:function(e,t){this.browse_personal=!0,this.selectSpecialAuditR=t},handleDoubleFile:function(e,t){this.selectSpecialAuditR=t,this.DReaderDoubleVisible=!0},DReaderDoubleCall:function(){this.DReaderDoubleVisible=!1},handleCurrentChange:function(e){this.pageObj.pageIndex=e,this.fetchTableData()},PageTurning:function(e){this.pageObj.pageIndex=e.page_index,this.pageObj.pageSize=e.page_size,this.fetchTableData()},fetchTableData:function(){var e=this,t={};t.pageIndex=this.pageObj.pageIndex,t.pageSize=this.pageObj.pageSize,t.stype=this.flagType,t.e01z101=this.classificationTitle,t.start=this.time.startTime,t.end=this.time.endTime,this.$axios({loading:{isShow:!0,target:".special-audit-recognition-container"},method:"post",url:this.API.findUpdateStatisticsPage,data:t}).then(function(t){var a=t.data;"1"==a.code?(e.tableData=a.data.list,e.pageObj.total=a.data.total):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})},handleSelectionChange:function(e){this.multipleSelection=e},specialAuditSearch:function(){this.pageObj.pageIndex=this.API.constObj.pageIndex,this.fetchTableData()},treeSelectCall:function(e){this.a01statusb=e},handleRowClick:function(e,t,a){this.selectSpecialAuditR=e},clickRow:function(e){this.selectSpecialAuditR=e}}},r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"special-audit-recognition-container"},[a("el-main",[a("el-table",{ref:"table",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,"highlight-current-row":"",height:"400px","empty-text":"没有数据，请刷新试试"},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection","min-width":"4%",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",align:"center","min-width":"4%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.pageObj.pageIndex*e.pageObj.pageSize+t.$index+1))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",fixed:"right","min-width":"10%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"详情",placement:"bottom"}},[a("el-button",{attrs:{type:"success",icon:"iconfont gd-chakan",circle:"",disabled:t.row.flag},on:{click:function(a){e.browsePersonalOnclick(t.$index,t.row)}}})],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"数字档案",placement:"bottom"}},[a("el-button",{attrs:{type:"success",icon:"iconfont gd-techreport-",circle:"",disabled:t.row.flag},on:{click:function(a){e.handleDoubleFile(t.$index,t.row)}}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"a0101",label:"姓名","show-overflow-tooltip":"","min-width":"8%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0104a",label:"性别","min-width":"5%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0107",label:"出生年月","min-width":"9%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a0192a",label:"工作单位及职务","min-width":"14%",showOverflowTooltip:""}})],1),e._v(" "),a("div",{staticClass:"material_page"},[a("pagination",{attrs:{pageIndex:e.pageObj.pageIndex,total:e.pageObj.total,pageSize:e.pageObj.pageSize},on:{PageTurning:e.PageTurning}})],1),e._v(" "),e.browse_personal?a("el-dialog",{attrs:{title:"人员信息",width:"100%",fullscreen:"",visible:e.browse_personal,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.browse_personal=t}}},[a("browsePersonal",{attrs:{fourthShow:e.fourthShow,selectDeceive:e.selectSpecialAuditR,active:e.activeName}})],1):e._e(),e._v(" "),e.DReaderDoubleVisible?a("el-dialog",{attrs:{fullscreen:"",title:"数字档案","append-to-body":"",visible:e.DReaderDoubleVisible},on:{"update:visible":function(t){e.DReaderDoubleVisible=t}}},[a("DReaderDouble",{attrs:{fileObject:e.selectSpecialAuditR},on:{DReaderDoubleCall:e.DReaderDoubleCall}})],1):e._e()],1)],1)};r._withStripped=!0;var c={render:r,staticRenderFns:[]},d=c;var p=!1;var h=a("VU/8")(o,d,!1,function(e){p||a("ZoiQ")},null,null);h.options.__file="src/views/archivesBigData/fileUpdate/updatePersonnel.vue";var g={name:"fileUpdate",components:{updatePersonnel:h.exports,materialTypeSelect:a("a6hc").a},data:function(){return{archives_popUp:!1,ledgerFlag:!0,flagType:"1",title:"",id:"",time:{startTime:"",endTime:""},e01z211:"",isBackObj:!0,flag:!1,canvasId:"myCanvas",type:"bar",options:{title:"档案更新度统计",bottomPadding:30,radius:130},data:[{name:"已更新总数",value:0},{name:"未更新总数",value:0}],colors:["#FFAE8B","#3CB2EF","#AEFDCA","#37D8FF","#71F6F9"],chartHeight:0}},created:function(){this.getData()},methods:{applyTypeCall:function(e){this.e01z211=e.code},startTimeChange:function(){var e=this.time.startTime.substring(0,4)+"-"+this.time.startTime.substring(4,6)+"-"+this.time.startTime.substring(6),t=this.time.endTime.substring(0,4)+"-"+this.time.endTime.substring(4,6)+"-"+this.time.endTime.substring(6);e&&e.length>0&&t&&t.length>0&&(new Date(e).getTime()>new Date(t).getTime()&&(this.$message({type:"error",message:"开始日期不能大于结束日期!"}),this.time.startTime=""))},endTimeChange:function(){var e=this.time.startTime.substring(0,4)+"-"+this.time.startTime.substring(4,6)+"-"+this.time.startTime.substring(6),t=this.time.endTime.substring(0,4)+"-"+this.time.endTime.substring(4,6)+"-"+this.time.endTime.substring(6);e&&e.length>0&&t&&t.length>0&&(new Date(e).getTime()>new Date(t).getTime()&&(this.$message({type:"error",message:"开始日期不能大于结束日期!"}),this.time.endTime=""))},getStyleBgc:function(e,t){return"background-color:"+e.color},pieChart:function(e){var t=this.$echarts.init(this.$refs.chartDiv);t.clear(),t.setOption({color:this.colors,title:{text:"档案更新度统计",top:"10px",x:"30%",textStyle:{fontSize:16}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",backgroundColor:"rgba(255,150,15,0.5)",textStyle:{color:"rgba(0,0,0,0.85)",fontSize:"12"}},legend:{show:!1},series:[{name:"统计",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!0,center:["35%","55%"],label:{emphasis:{show:!0,textStyle:{fontSize:"15",fontWeight:"500"}}},labelLine:{normal:{show:!0}},data:this.data}]})},getData:function(){var e=this;this.$axios({loading:{isShow:!0,target:".archives-container"},method:"post",url:this.API.updateStatisticsCount,data:{start:this.time.startTime,end:this.time.endTime,e01z101:""}}).then(function(t){var a=t.data;"1"==a.code?(e.data[0].value=a.data.name1,e.data[1].value=a.data.name2,e.data.forEach(function(t,a){t.color=e.colors[a]}),e.pieChart("档案更新度统计")):e.$message({type:"error",message:"获取数据失败，请刷新重试！"})}).catch(function(e){})},search:function(){this.getData()},goDetail:function(e){e.name.match("已更新总数")?(this.flagType="1",this.archives_popUp=!0,this.title="档案已更新人员"):e.name.match("未更新总数")&&(this.archives_popUp=!0,this.flagType="2",this.title="档案未更新人员")}}},m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"archives-container",staticStyle:{height:"calc(100% - 47px)"}},[a("el-main",[a("div",{staticClass:"title"},[a("div",{staticClass:"left"}),e._v(" "),a("div",{staticClass:"right"},[a("el-date-picker",{staticStyle:{"padding-right":"10px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyyMMdd","value-format":"yyyyMMdd"},on:{change:e.startTimeChange},model:{value:e.time.startTime,callback:function(t){e.$set(e.time,"startTime",t)},expression:"time.startTime"}}),e._v(" "),a("el-date-picker",{staticStyle:{"padding-right":"10px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyyMMdd","value-format":"yyyyMMdd"},on:{change:e.endTimeChange},model:{value:e.time.endTime,callback:function(t){e.$set(e.time,"endTime",t)},expression:"time.endTime"}}),e._v(" "),a("materialTypeSelect",{attrs:{chioceOptionId:e.e01z211,isBackObj:e.isBackObj,isAll:!1,isType:!1},on:{applyTypeCall:e.applyTypeCall}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)]),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"data-title"},e._l(e.data,function(t,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){e.goDetail(t)}}},[a("a",{attrs:{href:"#"}},[a("div",{staticClass:"tip"},[a("div",{ref:"colorDiv",refInFor:!0,staticClass:"colordiv",style:e.getStyleBgc(t,i)}),e._v("\n\t\t\t\t\t\t\t"+e._s(t.name)+" "),a("span",{staticClass:"red"},[e._v("("+e._s(t.value)+")")])])])])}),0),e._v(" "),a("div",{staticClass:"content-right"},[a("div",{ref:"chartDiv",staticClass:"charts",staticStyle:{float:"left",width:"100%",height:"500px"},attrs:{id:"charts"}})])]),e._v(" "),e.archives_popUp?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"outDialog",attrs:{title:e.title,"append-to-body":"","close-on-click-modal":!1,width:"50%",visible:e.archives_popUp},on:{"update:visible":function(t){e.archives_popUp=t}}},[a("update-personnel",{attrs:{flagType:e.flagType,time:e.time,classificationTitle:e.e01z211}})],1):e._e()],1)],1)};m._withStripped=!0;var u={render:m,staticRenderFns:[]},f=u;var b=!1;var v=a("VU/8")(g,f,!1,function(e){b||a("m6rV")},"data-v-7818042f",null);v.options.__file="src/views/archivesBigData/fileUpdate/fileUpdate.vue";t.default=v.exports},m6rV:function(e,t,a){var i=a("zKGV");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("39e3ad42",i,!1,{})},zKGV:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.outDialog[data-v-7818042f] .el-dialog .el-dialog__body {\n  padding: 10px 0 0 0 !important;\n}\n.archives-container .el-main[data-v-7818042f] {\n  background-color: #fff;\n  padding: 10px;\n  height: 100%;\n  overflow: hidden;\n}\n.archives-container .el-main .title[data-v-7818042f] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n.archives-container .el-main .title .right[data-v-7818042f] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.archives-container .el-main .content[data-v-7818042f] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.archives-container .el-main .content .data-title[data-v-7818042f] {\n      width: 22%;\n      font-size: 14px;\n}\n.archives-container .el-main .content .item .tip[data-v-7818042f] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      height: 30px;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n}\n.archives-container .el-main .content .item .tip .colordiv[data-v-7818042f] {\n        height: 18px;\n        width: 50px;\n        background-color: red;\n        margin-right: 10px;\n}\n.archives-container .el-main .content .item .tip .red[data-v-7818042f] {\n        color: red;\n        margin-top: 2px;\n}\n.archives-container .el-main .content .content-right[data-v-7818042f] {\n      width: 77%;\n}\n.archives-container .el-main .content .content-right .title[data-v-7818042f] {\n        text-align: center;\n        margin-right: 266px;\n}\n.archives-container .el-main .content .content-right .tip-bottom[data-v-7818042f] {\n        position: fixed;\n        bottom: 2%;\n        right: 30px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n}\n.archives-container .el-main .content .content-right .tip-bottom .item-left[data-v-7818042f] {\n          margin-left: 10px;\n}\n",""])}});