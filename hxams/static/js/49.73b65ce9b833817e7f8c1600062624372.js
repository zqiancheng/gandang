webpackJsonp([49],{"8AqO":function(e,t,r){e.exports=r.p+"static/img/hs-logo.88e5a5d.png"},"H+/r":function(e,t,r){var o=r("kxFB");(e.exports=r("FZ+f")(!1)).push([e.i,"\n.login-container[data-v-7589b93f] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background-size: 100%;\n  background-image: url("+o(r("xXxc"))+");\n}\n.login-container .Reg-log[data-v-7589b93f] {\n    top: 20%;\n}\n.login-container .xgmm[data-v-7589b93f] {\n    top: 20%;\n}\n.login-container .xgmm .el-dialog__body[data-v-7589b93f] {\n    padding: 15px 20px 5px 20px;\n}\n.login-container .xgmm .el-input--prefix[data-v-7589b93f] {\n    margin-bottom: 16px;\n}\n.login-container .xgmm .el-input__prefix[data-v-7589b93f] {\n    line-height: 40px;\n}\n.login-container .xgmm .el-input__prefix i[data-v-7589b93f] {\n    font-size: 18px;\n}\n.login-container .logo[data-v-7589b93f] {\n    padding: 20px;\n    height: 40px;\n}\n.login-container .logo img[data-v-7589b93f] {\n      height: 100%;\n}\n.login-container .ms-login[data-v-7589b93f] {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: 500px;\n    height: 260px;\n    margin: -130px 0 0 -250px;\n    border-radius: 5px;\n    background-color: #fff;\n    overflow: hidden;\n}\n.login-container .ms-login .title[data-v-7589b93f] {\n      height: 45px;\n      text-align: center;\n}\n.login-container .ms-login .title img[data-v-7589b93f] {\n        height: 40px;\n        margin-top: 3px;\n}\n.login-container .ms-login .content[data-v-7589b93f] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n}\n.login-container .ms-login .content .left img[data-v-7589b93f] {\n        margin-top: 20px;\n        margin-left: 30px;\n        border: 1px solid #2B92C2;\n        padding: 20px;\n        width: 90px;\n        height: 90px;\n}\n.login-container .ms-login .content .right[data-v-7589b93f] {\n        font-size: 12px;\n        margin-top: 20px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n}\n.login-container .ms-login .content .right .line[data-v-7589b93f] {\n          width: 1px;\n          height: 130px;\n          margin: 0 0 0 30px;\n          background-color: #A6A9AD;\n}\n.login-container .ms-login .content .right .ms-content[data-v-7589b93f] {\n          line-height: 30px;\n}\n.login-container .ms-login .content .right .ms-content .el-form-item--small.el-form-item[data-v-7589b93f] {\n            margin-bottom: 15px;\n}\n.login-container .ms-login .content .right .ms-content .login-btn[data-v-7589b93f] {\n            text-align: center;\n}\n.login-container .ms-login .content .right .ms-content .login-btn .el-button[data-v-7589b93f] {\n              background-color: #398FF0;\n              border-color: #398FF0;\n}\n.login-container .footer[data-v-7589b93f] {\n    position: fixed;\n    bottom: 10px;\n    width: 100%;\n    color: #C0C4CC;\n    text-align: center;\n}\n",""])},Jl6O:function(e,t,r){var o=r("H+/r");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("f83f826c",o,!1,{})},KjYN:function(e,t){e.exports="data:image/png;base64,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"},Quw4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("bOdI"),n=r.n(o),s=r("41Z1"),a=(r("g7ZD"),{name:"login",components:{areaTreeSelect:s.a},data:function(){var e=this,t=new RegExp("^(?![a-zA-Z]+$)(?![A-Z0-9]+$)(?![A-ZW_!@#$%^&*`~()-+=]+$)(?![a-z0-9]+$)(?![a-zW_!@#$%^&*`~()-+=]+$)(?![0-9W_!@#$%^&*`~()-+=]+$)[a-zA-Z0-9W_!@#$%^&*`~()-+=]{10,18}$"),r=localStorage.getItem(this.API.constObj.loginAreaCode);return void 0!=r&&0!=r.length||(r=void 0),{isShow:!0,selectedOptions:[],changReg:!1,changePsw:!1,ruleForm:{uAreaId:r,uAreacode:"",usersName:"",password:"",RegCode:"",reginfo:""},userForm:{oldPassword:"",newPassword:"",confirmPassword:""},rules:{uAreacode:[{required:!0,message:"请选择管档单位",trigger:"blur"}],usersName:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],oldPassword:[{required:!0,validator:function(e,t,r){0==t.trim().length?r(new Error("请输入原密码")):r()},trigger:"blur"}],newPassword:[{required:!0,validator:function(e,r,o){0==r.trim().length?o(new Error("请输入新密码")):t.test(r.trim())?o():o(new Error("密码必须是数字、大、小写字母、特殊字符四选三组成的10~18位字符"))},trigger:"blur"}],confirmPassword:[{required:!0,validator:function(r,o,n){0==o.length?n(new Error("请再次输入新密码")):t.test(o.trim())?o!==e.userForm.newPassword?n(new Error("两次输入的新密码不一致!")):n():n(new Error("密码必须是数字、大、小写字母、特殊字符四选三组成的10~18位字符"))},trigger:"blur"}]},userInfo:"",modifyToken:""}},created:function(){this.keyupEnter()},watch:n()({},"ruleForm.usersName",function(e){this.rules.uAreacode[0].required="InforCenterAdmin"!=e}),methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.login()})},keyupEnter:function(){var e=this;document.onkeydown=function(t){document.getElementsByTagName("body")[0];13===t.keyCode&&e.submitForm("ruleForm")}},login:function(){var e=this;this.$axios({loading:{isShow:!1,text:"正在登录，请稍后..."},method:"post",url:this.API.login,data:{username:this.ruleForm.usersName.trim(),password:this.$md5(this.ruleForm.password.trim()),uAreacode:this.ruleForm.uAreacode}}).then(function(t){var r=t.data;switch(parseInt(r.code)){case 1:e.userInfo=r.data,e.$store.commit("saveUser",r.data),e.$route.query.redirect?e.$router.push(e.$route.query.redirect):e.$router.push("/home");break;case 2:e.$message({type:"error",message:r.message});break;case 5:e.$message({type:"error",message:"账号已禁用，不能登录！"});break;case 11:e.$message({type:"error",message:"系统未注册！"}),e.changReg=!0,e.ruleForm.RegCode=r.RegCode,e.ruleForm.reginfo="";break;case 12:e.$message({type:"error",message:"注册信息异常！"}),e.changReg=!0,e.ruleForm.RegCode=r.RegCode,e.ruleForm.reginfo="";break;case 13:e.$message({type:"error",message:"试用期已到期！"}),e.changReg=!0,e.ruleForm.RegCode=r.RegCode,e.ruleForm.reginfo="";break;case 17:e.$message({type:"error",message:"请修改密码"}),e.changePsw=!0,e.modifyToken=r.modifyToken;break;case 18:e.$message({type:"error",message:"该用户不存在！"})}}).catch(function(e){})},registry:function(){var e=this;this.$axios({loading:{isShow:!1},method:"post",url:this.API.registry,data:{reginfo:this.ruleForm.reginfo}}).then(function(t){switch(parseInt(t.data.code)){case 1:e.$message({type:"error",message:"注册成功"}),e.changReg=!1;break;case 2:e.$message({type:"error",message:"请填写注册信息"});break;case 12:e.$message({type:"error",message:"注册信息异常"})}})},savePass:function(){var e=this;this.$refs.userForm.validate(function(t){if(!t)return!1;e.changePswFromNet()})},cancelSubmit:function(){this.$refs.userForm.resetFields(),this.changePsw=!1},changePswFromNet:function(){var e=this;this.$axios({loading:{isShow:!1,target:".xgmm"},method:"post",url:this.API.updatePassWord,headers:{token:this.modifyToken},data:{password:this.$md5(this.userForm.oldPassword),passwordNew:this.$md5(this.userForm.newPassword)}}).then(function(t){var r=t.data;"1"==r.code?(e.$message({type:"success",message:"修改密码成功，请重新登录!"}),e.cancelSubmit()):"6"==r.code?e.$message({type:"error",message:"原密码错误，请检查！"}):e.$message({type:"error",message:"修改密码失败，请检查密码！"})}).catch(function(e){})},jumpToReadView:function(){this.$router.push({path:"/applyMain"})},getSelect:function(e){var t={name:this.API.constObj.loginAreaCode,storeInfo:""};e&&e.code?(this.ruleForm.uAreacode=e.code,t.storeInfo=e.id):(this.ruleForm.uAreacode="",t.storeInfo=""),localStorage.setItem(this.API.constObj.loginAreaCode,t.storeInfo)}}}),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[e._m(0),e._v(" "),r("div",{staticClass:"ms-login"},[e._m(1),e._v(" "),r("div",{staticClass:"content"},[e._m(2),e._v(" "),r("div",{staticClass:"right"},[r("div",{staticClass:"line"}),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"ms-content",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"110px"}},[r("el-form-item",{attrs:{label:"管档单位：",prop:"uAreacode"}},[r("areaTreeSelect",{attrs:{defaultOptions:e.ruleForm.uAreaId},on:{areaTreeSelectCall:e.getSelect}})],1),e._v(" "),r("el-form-item",{attrs:{label:"登录账号：",prop:"usersName"}},[r("el-input",{attrs:{id:"name"},model:{value:e.ruleForm.usersName,callback:function(t){e.$set(e.ruleForm,"usersName",t)},expression:"ruleForm.usersName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码：",prop:"password"}},[r("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),r("div",{staticClass:"login-btn"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("登录")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.jumpToReadView}},[e._v("查借")])],1)],1)],1)])]),e._v(" "),r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"Reg-log",attrs:{title:"注册",width:"550px",visible:e.changReg},on:{"update:visible":function(t){e.changReg=t}}},[r("el-form",{attrs:{model:e.ruleForm,"label-width":"100px",size:"small"}},[r("el-row",{attrs:{gutter:15}},[r("el-col",{attrs:{span:23}},[r("el-form-item",{attrs:{label:"识别码",prop:"RegCode"}},[r("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.RegCode,callback:function(t){e.$set(e.ruleForm,"RegCode",t)},expression:"ruleForm.RegCode"}})],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:15}},[r("el-col",{attrs:{span:23}},[r("el-form-item",{attrs:{label:"注册码",prop:"reginfo"}},[r("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请联系管理人员获取注册码",autofocus:"autofocus"},model:{value:e.ruleForm.reginfo,callback:function(t){e.$set(e.ruleForm,"reginfo",t)},expression:"ruleForm.reginfo"}})],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer",align:"center"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.registry}},[e._v("注册")])],1)],1),e._v(" "),r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"xgmm",attrs:{title:"修改密码",width:"550px",visible:e.changePsw},on:{"update:visible":function(t){e.changePsw=t}}},[r("el-form",{ref:"userForm",staticClass:"demo-ruleForm",attrs:{model:e.userForm,rules:e.rules,"label-width":"100px",size:"small"}},[r("el-row",{attrs:{gutter:15}},[r("el-col",{attrs:{span:23}},[r("el-form-item",{attrs:{label:"原密码",prop:"oldPassword"}},[r("el-input",{attrs:{placeholder:"请输入原密码",type:"password"},model:{value:e.userForm.oldPassword,callback:function(t){e.$set(e.userForm,"oldPassword",t)},expression:"userForm.oldPassword"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:23}},[r("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[r("el-input",{attrs:{placeholder:"请输入新密码（如：A12345678b 或  @ABCDEFG12）",minLength:"10",maxLength:"18",type:"password"},model:{value:e.userForm.newPassword,callback:function(t){e.$set(e.userForm,"newPassword",t)},expression:"userForm.newPassword"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:23}},[r("el-form-item",{attrs:{label:"确认新密码",prop:"confirmPassword"}},[r("el-input",{attrs:{placeholder:"请再次输入新密码",type:"password",minLength:"10",maxLength:"18"},model:{value:e.userForm.confirmPassword,callback:function(t){e.$set(e.userForm,"confirmPassword",t)},expression:"userForm.confirmPassword"}})],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer",align:"center"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.savePass}},[e._v("保存")]),e._v(" "),r("el-button",{on:{click:e.cancelSubmit}},[e._v("取消")])],1)],1),e._v(" "),r("div",{staticClass:"footer"},[e._v("\n        \tCopyright@2019. All rights reserved.    北京航星永志科技有限公司 版权所有\n        ")])],1)},l=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo"},[t("img",{attrs:{src:r("8AqO"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title",staticStyle:{"background-color":"#2B92C2"}},[t("img",{attrs:{src:r("j0/W"),alt:"logo"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"left"},[t("img",{attrs:{src:r("KjYN"),alt:""}})])}];i._withStripped=!0;var m={render:i,staticRenderFns:l},c=m;var g=!1;var d=r("VU/8")(a,c,!1,function(e){g||r("Jl6O")},"data-v-7589b93f",null);d.options.__file="src/views/login.vue";t.default=d.exports},"j0/W":function(e,t,r){e.exports=r.p+"static/img/sign-in-logo1.8f02975.png"},xXxc:function(e,t,r){e.exports=r.p+"static/img/Sign_in.b648038.png"}});